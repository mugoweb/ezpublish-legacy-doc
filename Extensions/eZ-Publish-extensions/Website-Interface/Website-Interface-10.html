
<!DOCTYPE html>
<html lang="en-US">

<!-- Mirrored from doc.ez.no/Extensions/eZ-Publish-extensions/Website-Interface/Website-Interface-1.5-upgrade by HTTrack Website Copier/3.x [XR&CO'2013], Tue, 31 Jan 2017 05:04:44 GMT -->
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

<style type="text/css">
    @import url(../../../extension/ezdoc/design/doc/stylesheets/core.css);
    @import url(../../../extension/ezdoc/design/doc/stylesheets/classes.css);
    @import url(../../../extension/ezdoc/design/doc/stylesheets/doc.css);
    @import url(../../../extension/ezdoc/design/doc/stylesheets/print.css) print;</style>

<link type="text/css" rel="stylesheet" href="../../../extension/ezdoc/design/doc/stylesheets/print.css" media="print" />

<!-- IE conditional comments; for bug fixes for different IE versions -->
<!--[if IE 5]>     <style type="text/css"> @import url(/extension/ezdoc/design/doc/stylesheets/ie5.css);    </style>     <![endif]-->
<!--[if lte IE 6]> <style type="text/css"> @import url(/extension/ezdoc/design/doc/stylesheets/ie6lte.css); </style>     <![endif]-->
<!--[if lte IE 6]> <style type="text/css"> @import url(/extension/ezdoc/design/doc/stylesheets/ie6lte-doc.css); </style> <![endif]-->
<!--[if IE 6]>     <style type="text/css"> @import url(/extension/ezdoc/design/doc/stylesheets/ie6.css);    </style>     <![endif]-->

<!-- Load special stylesheet (if necessary) for newer Netscape decendants, Mozilla and Firefox, using the Gecko renderer -->
<script type="text/javascript"><!-- if ((navigator.userAgent.indexOf("Gecko") != -1)&&(navigator.userAgent.indexOf("KHTML") == -1)) document.write("<style type=\"text/css\">@import url(/extension/ezdoc/design/doc/stylesheets/gecko.css);</style>"); --></script>

<script type="text/javascript" src="../../../extension/ezdoc/design/doc/javascripts/mainmenu-hover.js"></script>
<script type="text/javascript" src="../../../extension/ezdoc/design/doc/javascripts/dropdownmenu.js"></script>
<script type="text/javascript" src="../../../extension/ezdoc/design/doc/javascripts/ezno-searchbox.js"></script>
                                        
    <title>Website Interface 1.5 upgrade / Website Interface / eZ Publish extensions / Extensions / Documentation - Doc</title>

    
    
    
            <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />

            <meta http-equiv="Content-language" content="en-GB" />

    
                <meta name="author" content="eZ systems" />
                    <meta name="copyright" content="eZ systems" />
                    <meta name="description" content="eZ Publish Documentation" />
                    <meta name="keywords" content="eZ Publish, documentation, manual, reference, eZ systems" />
        
    <meta name="generator" content="eZ Publish" />
    <link rel="Home" href="../../../index.html" title="Doc front page" />
<link rel="Search" href="../../../content/advancedsearch.html" title="Search Doc" />
<link rel="Shortcut icon" href="../../../extension/ezdoc/design/doc/images/favicon.ico" type="image/x-icon" />

</head>
<body onload="initDocSearch();menuInit();">

<!-- Complete page area: START -->
<div id="page">


	
<div><a href="https://www.ibexa.co"><img class="logotype" width="100" height="50" src="https://ezpublishdoc.mugo.ca/design/standard/images/ibexa_logo.svg" alt="ibexa"></a></div>


<div id="page-content-position"><div id="page-content-position-inner"><div id="page-content">

<!-- Path area: START -->
<div id="path">

<div id="page-width4">
<h2 class="hide">Path</h2>

<!-- Path content: START -->
<p><a href="../../../eZ-Publish/index.html">ez publish</a> /
                        <a href="../../../index.html">documentation</a>
        
                        /
                            <a href="../../../Extensions.html">extensions</a>
        
                        /
                            <a href="../../eZ-Publish-extensions.html">ez publish extensions</a>
        
                        /
                            <a href="../Website-Interface.html">website interface</a>
        
                        /
                            website interface 1.5 upgrade
        
            </p>
<!-- Path content: END -->

</div>

</div>
<!-- Path area: END -->

<hr class="hide" />

<!-- Main area: START -->
                                    <div id="ezp5disclaimer">
                <p><strong style="color: red">Caution:</strong> This documentation is for <strong>eZ Publish</strong> <em>legacy</em>, from version 3.x to 5.x.<br/>
                </p>
            </div>
            
<div id="page-width5">
<div id="main" class="float-break">


<div class="template-design area-docmenu-normal">
<div class="template-module">
<div class="template-object">
<div id="contentmenu">
                        <div class="attribute-heading"><h2 class="bullet"><a href="../Website-Interface.html">Table of contents</a></h2></div>
<div class="boxcontent">

<map id="contentstructure">

    
                                                                        
            <ul>
	    
                                                    
	<li 
		    		class="topchapter"
	    
	    	    >
	    <div>
	    
	    

	    
	    
	    
	    			    	    
	    
	    		<a class="nodetext" href="Website-interface-5.html" title="">
	    	    		                    		    <span class="node-name-normal">Website interface 5.3 upgrade</span>
                    			    	    		</a>
			           </div>
        
                                    </li>
            
                                
                                                    
	<li 
		    		class="topchapter"
	    
	    	    >
	    <div>
	    
	    

	    
	    
	    
	    			    	    
	    
	    		<a class="nodetext" href="Website-interface-6.html" title="">
	    	    		                    		    <span class="node-name-normal">Website interface 5.2 upgrade</span>
                    			    	    		</a>
			           </div>
        
                                    </li>
            
                                
                                                    
	<li 
		    		class="topchapter"
	    
	    	    >
	    <div>
	    
	    

	    
	    
	    
	    			    	    
	    
	    		<a class="nodetext" href="Website-interface-7.html" title="">
	    	    		                    		    <span class="node-name-normal">Website interface 5.0 upgrade</span>
                    			    	    		</a>
			           </div>
        
                                    </li>
            
                                
                                                    
	<li 
		    		class="topchapter"
	    
	    	    >
	    <div>
	    
	    

	    
	    
	    
	    			    	    
	    
	    		<a class="nodetext" href="Website-interface-8.html" title="">
	    	    		                    		    <span class="node-name-normal">Website interface 5.1 upgrade</span>
                    			    	    		</a>
			           </div>
        
                                    </li>
            
                                
                                                    
	<li 
		    		class="topchapter"
	    
	    	    >
	    <div>
	    
	    

	    
	    
	    
	    			    	    
	    
	    		<a class="nodetext" href="Website-interface-1.html" title="">
	    	    		                    		    <span class="node-name-normal">Website interface 1.10 upgrade</span>
                    			    	    		</a>
			           </div>
        
                                    </li>
            
                                
                                                    
	<li 
		    		class="topchapter"
	    
	    	    >
	    <div>
	    
	    

	    
	    
	    
	    			    	    
	    
	    		<a class="nodetext" href="Website-interface-2.html" title="">
	    	    		                    		    <span class="node-name-normal">Website interface 1.9 upgrade</span>
                    			    	    		</a>
			           </div>
        
                                    </li>
            
                                
                                                    
	<li 
		    		class="topchapter"
	    
	    	    >
	    <div>
	    
	    

	    
	    
	    
	    			    	    
	    
	    		<a class="nodetext" href="Website-interface-3.html" title="">
	    	    		                    		    <span class="node-name-normal">Website interface 1.8 upgrade</span>
                    			    	    		</a>
			           </div>
        
                                    </li>
            
                                
                                                    
	<li 
		    		class="topchapter"
	    
	    	    >
	    <div>
	    
	    

	    
	    
	    
	    			    	    
	    
	    		<a class="nodetext" href="Website-interface-4.html" title="">
	    	    		                    		    <span class="node-name-normal">Website interface 1.7 upgrade</span>
                    			    	    		</a>
			           </div>
        
                                    </li>
            
                                
                                                    
	<li 
		    		class="topchapter"
	    
	    	    >
	    <div>
	    
	    

	    
	    
	    
	    			    	    
	    
	    		<a class="nodetext" href="Website-interface-9.html" title="">
	    	    		                    		    <span class="node-name-normal">Website interface 1.6 upgrade</span>
                    			    	    		</a>
			           </div>
        
                                    </li>
            
                                
                                                    
	<li 
		    		class="topchapter-selected  currentnode"
		
	    	    >
	    <div>
	    
	    

	    
	    
	    
	    			    	    
	    
	    		<a class="nodetext" href="Website-Interface-10.html" title="">
	    	    		                    		    <span class="node-name-normal">Website Interface 1.5 upgrade</span>
                    			    	    		</a>
			           </div>
        
                                    </li>
            
                                
                                                        
                                    </li>
            
                                
                                                        
                                    </li>
            
                                            </ul>
                        
            
</map>

</div>            
</div>
</div>
</div>
</div>
<div class="area-docmain-normal">
<div class="template-design">
<div class="template-module content-view-full">
<div class="template-object">

<div class="attribute-heading">
<h1>Website Interface 1.5 upgrade</h1>
</div>

  <a name="eztoc104166_1" id="eztoc104166_1"></a><h2>Back-up</h2> <p>Before starting the Website Interface upgrading make sure that you have a working <a href="http://ez.no/doc_hidden/ez_publish/upgrading#backup" target="_self">backup</a> of the existing website state including database, extensions, INI settings, etc.. During the upgrade process your existing eZ Webin extension will be removed and replaced with a new version. Website Interface default content classes will be replaced as well. Upgrade script will also change some of the existing INI settings and add new ones which are required by latest version. </p>   <a name="eztoc104166_2" id="eztoc104166_2"></a><h2>Packages</h2> <p>Download following packages from <a href="http://packages.ez.no/ezpublish/4.2/4.2.0" target="_self">http://packages.ez.no/ezpublish/4.2/4.2.0:</a> </p> <p>
ezwebin_extension.ezpkg<br />
ezstarrating_extension.ezpkg<br />
ezjscore_extension.ezpkg<br />
ezgmaplocation_extension.ezpkg<br />ezwt_extension.ezpkg</p> <p>Go to the packages management interface in the Administration Interface. This can be done via the Setup-tab, where you can click on the &quot;Packages&quot;-link in the left menu.</p> 
<div class="object-center">        <img src="../../../var/doc/storage/images/media/images/view_setup_packages/104170-1-eng-GB/view_setup_packages_doc.jpg" alt="" />








</div> <p>From the Repository drop-down box choose “eZ-system” and click the “Change repository” button. From the list of available packages remove following packages: ezwebin_extension</p> <p>Next change repository again to the “eZ-systems” and click on “Import new package” button. In the next view select ezwebin_extension and click “Import package” button. Once the ezwebin_extension is imported click on “Install package”. In the next view choose “Replace extension” option and click “Continue” button. Repeat these steps for rest of new extensions (ezstarrating_extension, ezjscore_extension, ezgmaplocation_extension and ezwt_extension).</p> <p>Once all new extensions are imported they need to be activated in the proper order under the [ExtensionSettings] block in the settings/site.ini.append.php:</p> <pre class="wordwrap copytoclipboard"><span class="line">[ExtensionSettings]</span>
<span class="line">[...]</span>
<span class="line">ActiveExtensions[]=ezwt</span>
<span class="line">ActiveExtensions[]=ezjscore</span>
<span class="line">ActiveExtensions[]=ezstarrating</span>
<span class="line">ActiveExtensions[]=ezgmaplocation</span>
<span class="line">ActiveExtensions[]=ezwebin […]</span>
</pre><!--[if IE]>
<p class="copytoclipboard"><img src="/extension/ezdoc/design/doc/images/copytoclipboard.gif" height="16" width="16" alt="Copy to clipboard" title="Copy to clipboard" onclick="window.clipboardData.setData( 'text', '[ExtensionSettings]\r\n[...]\r\nActiveExtensions[]=ezwt\r\nActiveExtensions[]=ezjscore\r\nActiveExtensions[]=ezstarrating\r\nActiveExtensions[]=ezgmaplocation\r\nActiveExtensions[]=ezwebin […]' ); return false;" /></p>
<![endif]-->  <a name="eztoc104166_2_1" id="eztoc104166_2_1"></a><h3>Autoload update</h3> <p>Next the autoload array needs to be updated for the new extensions. In order to do so, execute following command from eZ Publish root folder:</p> <pre class="wordwrap"><span class="line">$ php bin/php/ezpgenerateautoloads.php -e -p</span>
</pre>   <a name="eztoc104166_2_2" id="eztoc104166_2_2"></a><h3>Content classes</h3> <p>Website Interface 1.5 provides a new Geo Article content class which uses a eZ GMap Location extension for storing geo located content. You can import Geo Article content class using package manager in the Administration Interface. This can be done via the Setup-tab, where you can click on the &quot;Packages&quot;-link in the left menu.</p> <p>First change repository to “eZ-systems”. Next click “Import new package” button. Geo Article class package is located in eZ Publish root directory in subfolder extension/ezwebin/packages/geo_article-1.5-0.ezpkg.</p>   <a name="eztoc104166_2_3" id="eztoc104166_2_3"></a><h3>eZ Star Rating</h3> <p>
This extension requires new database tables in order to store ratings.<br />Execute following command to create database tables in MySQL:</p> <pre class="wordwrap"><span class="line">mysql -u[datbase_user] -p[database-password] [databasename] &lt; extension/ezstarrating/sql/mysql/mysql.sql</span>
</pre> <p>Sql files are also provided for postgressql and oracle - refer to the database documentation on how to execute queries from a command-line clients.</p> <p>For the user roles that are allowed to vote, add in the &quot;roles and policies&quot; page in the administration interface policy on module &quot;ezjscore&quot;, function “call&quot;, with limitation &quot;ezstarrating_rate&quot;.</p> <p>To enable users to rate your content simply add a Star Rating attribute to the content class you want to be rated.</p> 
<div class="object-center">        <img src="../../../var/doc/storage/images/media/images/star_rating_attrib/104173-1-eng-GB/star_rating_attrib_doc.jpg" alt="" />








</div> <p>For more information about installation please read the eZ Star Rating README file located in in the extension/ezstarrating in the eZ Publish root directory.</p>   <a name="eztoc104166_2_4" id="eztoc104166_2_4"></a><h3>eZ GMap Location</h3> <p>The eZ GMap Location extension requires a Google Maps API key which you can obtain for your domain following instructions mention in <a href="http://www.google.com/apis/maps" target="_self">http://www.google.com/apis/maps</a> </p> <p>Once you have generated your key add it to the settings/override/site.ini.append.php under the [SiteSettings] block like so:</p> <pre class="wordwrap"><span class="line">[SiteSettings]</span>
<span class="line">GMapsKey=&lt;Google Maps API Key&gt;</span>
</pre> <p>
This extension requires new database tables in order to store locations information.<br />Execute following command to create database tables in MySQL:</p> <pre class="wordwrap"><span class="line">mysql -u[datbase_user] -p[database-password] [databasename] &lt; extension/ezgmaplocation/sql/mysql/mysql.sql</span>
</pre> <p>Sql files are also provided for postgressql and oracle - refer to the database documentation on how to execute queries from a command-line clients.</p> <p>With Geo Article class you can use this feature immediately. However if you want to extend your current content classes with eZ GMap Location attribute simply add new attribute.</p> 
<div class="object-center">        <img src="../../../var/doc/storage/images/media/images/gmap_location/104176-1-eng-GB/gmap_location_doc.jpg" alt="" />








</div> <p>For more information about installation please read the eZ GMAP Location README file located in the extension/ezgmaplocation in the eZ Publish root directory.</p>   <a name="eztoc104166_2_5" id="eztoc104166_2_5"></a><h3>INI settings</h3> <p>Update settings/siteaccess/(public_site_name)/override.ini.append.php:</p> <pre class="wordwrap copytoclipboard"><span class="line">[full_geo_article]</span>
<span class="line">Source=node/view/full.tpl</span>
<span class="line">MatchFile=full/geo_article.tpl</span>
<span class="line">Subdir=templates</span>
<span class="line">Match[class_identifier]=geo_article</span>
<span class="line">&nbsp;</span>
<span class="line">[line_geo_article]</span>
<span class="line">Source=node/view/line.tpl</span>
<span class="line">MatchFile=line/geo_article.tpl</span>
<span class="line">Subdir=templates</span>
<span class="line">Match[class_identifier]=geo_article</span>
</pre><!--[if IE]>
<p class="copytoclipboard"><img src="/extension/ezdoc/design/doc/images/copytoclipboard.gif" height="16" width="16" alt="Copy to clipboard" title="Copy to clipboard" onclick="window.clipboardData.setData( 'text', '[full_geo_article]\r\nSource=node/view/full.tpl\r\nMatchFile=full/geo_article.tpl\r\nSubdir=templates\r\nMatch[class_identifier]=geo_article\r\n\r\n[line_geo_article]\r\nSource=node/view/line.tpl\r\nMatchFile=line/geo_article.tpl\r\nSubdir=templates\r\nMatch[class_identifier]=geo_article' ); return false;" /></p>
<![endif]-->   <a name="eztoc104166_2_6" id="eztoc104166_2_6"></a><h3>Clear Cache</h3> <p>Once the upgrade script is done, you need to clear the cache by executing following command from eZ Publish root folder:</p> <pre class="wordwrap"><span class="line">php bin/php/ezcache.php --clear-all --purge</span>
</pre>  

<div class="break"></div><div class="pageinfo float-break">
<div class="created">


<p><label>Written by:</label>Ester Heylen&nbsp;(29/09/2009 2:24 pm)</p>
</div>
<div class="modified">
<p><label>Last updated by:</label>Ester Heylen&nbsp;(29/09/2009 2:34 pm)</p>
</div></div>
<hr class="hide" />

</div>
</div>
</div>

<div id="comments" class="class-comment">
<div class="content-view-children">

<h1>Comments</h1>
<p>There are no comments.</p>
<div class="toolbar">

<form method="post" action="https://doc.ez.no/content/action">
<!-- <input class="button" type="submit" name="NewButton" value="New comment" /> -->
<input type="hidden" name="NodeID" value="20815" />
<input type="hidden" name="RedirectURIAfterPublish" value="Extensions/eZ-Publish-extensions/Website-Interface/Website-Interface-1.5-upgrade" />
<input type="hidden" name="ClassID" value="17" />
</form>
</div>

</div>
</div>

</div>
<!-- Main area content: END -->

</div>
</div>
<!-- Main area: END -->
<hr class="hide" />

</div></div></div>

        

</div>
<!-- Complete page area: END -->











</body>

<!-- Mirrored from doc.ez.no/Extensions/eZ-Publish-extensions/Website-Interface/Website-Interface-1.5-upgrade by HTTrack Website Copier/3.x [XR&CO'2013], Tue, 31 Jan 2017 05:04:45 GMT -->
</html>

<!-- th[eZ] 20050804 -->
