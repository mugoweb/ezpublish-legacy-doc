<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">

<head>


<style type="text/css">
    @import url(../../../../../extension/ezdoc/design/doc/stylesheets/core.css);
    @import url(../../../../../extension/ezdoc/design/doc/stylesheets/classes.css);
    @import url(../../../../../extension/ezdoc/design/doc/stylesheets/doc.css);
    @import url(../../../../../extension/ezdoc/design/doc/stylesheets/print.css) print;</style>

<link type="text/css" rel="stylesheet" href="../../../../../extension/ezdoc/design/doc/stylesheets/print.css" media="print">

<!-- IE conditional comments; for bug fixes for different IE versions -->
<!--[if IE 5]>     <style type="text/css"> @import url(/extension/ezdoc/design/doc/stylesheets/ie5.css);    </style>     <![endif]-->
<!--[if lte IE 6]> <style type="text/css"> @import url(/extension/ezdoc/design/doc/stylesheets/ie6lte.css); </style>     <![endif]-->
<!--[if lte IE 6]> <style type="text/css"> @import url(/extension/ezdoc/design/doc/stylesheets/ie6lte-doc.css); </style> <![endif]-->
<!--[if IE 6]>     <style type="text/css"> @import url(/extension/ezdoc/design/doc/stylesheets/ie6.css);    </style>     <![endif]-->

<!-- Load special stylesheet (if necessary) for newer Netscape decendants, Mozilla and Firefox, using the Gecko renderer -->
<script type="text/javascript"><!-- if ((navigator.userAgent.indexOf("Gecko") != -1)&&(navigator.userAgent.indexOf("KHTML") == -1)) document.write("<style type=\"text/css\">@import url(/extension/ezdoc/design/doc/stylesheets/gecko.css);</style>"); --></script>

<script type="text/javascript" src="../../../../../extension/ezdoc/design/doc/javascripts/mainmenu-hover.js"></script>
<script type="text/javascript" src="../../../../../extension/ezdoc/design/doc/javascripts/dropdownmenu.js"></script>
<script type="text/javascript" src="../../../../../extension/ezdoc/design/doc/javascripts/ezno-searchbox.js"></script>
                                                    
    <title>Site management / Configuration / Concepts and basics / 4.5 / Technical manual / eZ Publish / Documentation - Doc</title>

    
    
    
            <meta http-equiv="Content-Type" content="text/html; charset=utf-8">

            <meta http-equiv="Content-language" content="en-GB">

    
                <meta name="author" content="eZ systems">
                    <meta name="copyright" content="eZ systems">
                    <meta name="description" content="eZ Publish Documentation">
                    <meta name="keywords" content="eZ Publish, documentation, manual, reference, eZ systems">
        
    <meta name="generator" content="eZ Publish">
    <link rel="Home" href="https://doc.ez.no/" title="Doc front page">
<link rel="Search" href="https://doc.ez.no/content/advancedsearch" title="Search Doc">
<link rel="Shortcut icon" href="../../../../../extension/ezdoc/design/doc/images/favicon.ico" type="image/x-icon">

</head>
<body onload="initDocSearch();menuInit();">

<!-- Complete page area: START -->
<div id="page">


<div><a href="https://www.ibexa.co"><img class="logotype" width="100" height="50" src="https://ibexa-lookandfeel.s3-eu-west-1.amazonaws.com/ibexa/assets/images/ibexa_logo.svg" alt="ibexa"></a></div>
<div id="page-content-position"><div id="page-content-position-inner"><div id="page-content">

<!-- Path area: START -->
<div id="path">

<div id="page-width4">
<h2 class="hide">Path</h2>

<!-- Path content: START -->
<p><a href="/eZ-Publish/index.html">ez publish</a>
        
                        /
                            <a href="../../../../Technical-manual.html">technical manual</a>
        
                        /
                            <a href="../../../4.5.html">4.5</a>
        
                        /
                            <a href="../../Concepts-and-basics.html">concepts and basics</a>
        
                        /
                            <a href="../Configuration.html">configuration</a>
        
                        /
                            site management
        
            </p>
<!-- Path content: END -->

</div>

</div>
<!-- Path area: END -->

<hr class="hide">

<!-- Main area: START -->
                                    <div id="ezp5disclaimer">
                <p><strong style="color: red">Caution:</strong> This documentation is for <strong>eZ Publish</strong> <em>legacy</em>, from version 3.x to 5.x.<br>
                For 5.x documentation covering <em>Platform</em> see <a href="https://doc.ez.no/display/MAIN/eZ+Documentation+Center">eZ Documentation Center</a>, for difference between <em>legacy</em> and <em>Platform</em> see <a href="https://doc.ez.no/pages/viewpage.action?pageId=11403666">5.x Architecture overview</a>.</p>
            </div>
            
<div id="page-width5">
<div id="main" class="float-break">


<div class="template-design area-docmenu-normal">
<div class="template-module">
<div class="template-object">
<div id="contentmenu">
                        <div class="attribute-heading"><h2 class="bullet"><a href="../../../4.5.html">Table of contents</a></h2></div>
<div class="boxcontent">

<map id="contentstructure">

    
                                                                        
            <ul>
	    
                                                    
	<li class="topchapter">
	    <div>
	    
	    

	    
	    
	    
	    			    	    
	    
	    		<a class="nodetext" href="../../Installation.html" title="">
	    	    		                    		    <span class="node-name-normal">Installation</span>
                    			    	    		</a>
			           </div>
        
                                    </li>
            
                                
                                                    
	<li class="topchapter-selected  ">
	    <div>
	    
	    

	    
	    
	    
	    			    	    
	    
	    		<a class="nodetext" href="../../Concepts-and-basics.html" title="">
	    	    		                    		    <span class="node-name-normal">Concepts and basics</span>
                    			    	    		</a>
			           </div>
        
            <ul>
	    
                                                    
	<li>
	    <div>
	    
	    

	    
	    
	    
	    			    	    
	    
	    		<a class="nodetext" href="../The-internal-structure-of-eZ-Publish.html" title="">
	    	    		                    		    <span class="node-name-normal">The internal structure of eZ Publish</span>
                    			    	    		</a>
			           </div>
        
            <ul>
	    
                                                    
	<li class="last">
	    <div>
	    
	    

	    
	    
	    
	    			    	    
	    
	    		<a class="nodetext" href="../The-internal-structure-of-eZ-Publish/Directory-structure.html" title="">
	    	    		                    		    <span class="node-name-normal">Directory structure</span>
                    			    	    		</a>
			           </div>
        
                                    </li>
            
                                            </ul>
                                        </li>
            
                                
                                                    
	<li>
	    <div>
	    
	    

	    
	    
	    
	    			    	    
	    
	    		<a class="nodetext" href="../Content-and-design.html" title="">
	    	    		                    		    <span class="node-name-normal">Content and design</span>
                    			    	    		</a>
			           </div>
        
            <ul>
	    
                                                    
	<li class="last">
	    <div>
	    
	    

	    
	    
	    
	    			    	    
	    
	    		<a class="nodetext" href="../Content-and-design/Storage.html" title="">
	    	    		                    		    <span class="node-name-normal">Storage</span>
                    			    	    		</a>
			           </div>
        
                                    </li>
            
                                            </ul>
                                        </li>
            
                                
                                                    
	<li>
	    <div>
	    
	    

	    
	    
	    
	    			    	    
	    
	    		<a class="nodetext" href="../Content-management.html" title="">
	    	    		                    		    <span class="node-name-normal">Content management</span>
                    			    	    		</a>
			           </div>
        
            <ul>
	    
                                                    
	<li>
	    <div>
	    
	    

	    
	    
	    
	    			    	    
	    
	    		<a class="nodetext" href="../Content-management/Datatypes.html" title="">
	    	    		                    		    <span class="node-name-normal">Datatypes</span>
                    			    	    		</a>
			           </div>
        
                                    </li>
            
                                
                                                    
	<li>
	    <div>
	    
	    

	    
	    
	    
	    			    	    
	    
	    		<a class="nodetext" href="../Content-management/The-content-class.html" title="">
	    	    		                    		    <span class="node-name-normal">The content class</span>
                    			    	    		</a>
			           </div>
        
                                    </li>
            
                                
                                                    
	<li>
	    <div>
	    
	    

	    
	    
	    
	    			    	    
	    
	    		<a class="nodetext" href="../Content-management/Class-attributes.html" title="">
	    	    		                    		    <span class="node-name-normal">Class attributes</span>
                    			    	    		</a>
			           </div>
        
                                    </li>
            
                                
                                                    
	<li>
	    <div>
	    
	    

	    
	    
	    
	    			    	    
	    
	    		<a class="nodetext" href="../Content-management/The-content-object.html" title="">
	    	    		                    		    <span class="node-name-normal">The content object</span>
                    			    	    		</a>
			           </div>
        
                                    </li>
            
                                
                                                    
	<li>
	    <div>
	    
	    

	    
	    
	    
	    			    	    
	    
	    		<a class="nodetext" href="../Content-management/Multiple-languages.html" title="">
	    	    		                    		    <span class="node-name-normal">Multiple languages</span>
                    			    	    		</a>
			           </div>
        
                                    </li>
            
                                
                                                    
	<li>
	    <div>
	    
	    

	    
	    
	    
	    			    	    
	    
	    		<a class="nodetext" href="../Content-management/The-content-node.html" title="">
	    	    		                    		    <span class="node-name-normal">The content node</span>
                    			    	    		</a>
			           </div>
        
                                    </li>
            
                                
                                                    
	<li>
	    <div>
	    
	    

	    
	    
	    
	    			    	    
	    
	    		<a class="nodetext" href="../Content-management/The-content-node-tree.html" title="">
	    	    		                    		    <span class="node-name-normal">The content node tree</span>
                    			    	    		</a>
			           </div>
        
                                    </li>
            
                                
                                                    
	<li>
	    <div>
	    
	    

	    
	    
	    
	    			    	    
	    
	    		<a class="nodetext" href="../Content-management/Top-level-nodes.html" title="">
	    	    		                    		    <span class="node-name-normal">Top level nodes</span>
                    			    	    		</a>
			           </div>
        
                                    </li>
            
                                
                                                    
	<li>
	    <div>
	    
	    

	    
	    
	    
	    			    	    
	    
	    		<a class="nodetext" href="../Content-management/Node-visibility.html" title="">
	    	    		                    		    <span class="node-name-normal">Node visibility</span>
                    			    	    		</a>
			           </div>
        
                                    </li>
            
                                
                                                    
	<li>
	    <div>
	    
	    

	    
	    
	    
	    			    	    
	    
	    		<a class="nodetext" href="../Content-management/Object-relations.html" title="">
	    	    		                    		    <span class="node-name-normal">Object relations</span>
                    			    	    		</a>
			           </div>
        
                                    </li>
            
                                
                                                    
	<li>
	    <div>
	    
	    

	    
	    
	    
	    			    	    
	    
	    		<a class="nodetext" href="../Content-management/Sections.html" title="">
	    	    		                    		    <span class="node-name-normal">Sections</span>
                    			    	    		</a>
			           </div>
        
                                    </li>
            
                                
                                                    
	<li>
	    <div>
	    
	    

	    
	    
	    
	    			    	    
	    
	    		<a class="nodetext" href="../Content-management/URL-storage.html" title="">
	    	    		                    		    <span class="node-name-normal">URL storage</span>
                    			    	    		</a>
			           </div>
        
                                    </li>
            
                                
                                                    
	<li class="last">
	    <div>
	    
	    

	    
	    
	    
	    			    	    
	    
	    		<a class="nodetext" href="../Content-management/Information-collection.html" title="">
	    	    		                    		    <span class="node-name-normal">Information collection</span>
                    			    	    		</a>
			           </div>
        
                                    </li>
            
                                            </ul>
                                        </li>
            
                                
                                                    
	<li>
	    <div>
	    
	    

	    
	    
	    
	    			    	    
	    
	    		<a class="nodetext" href="../Configuration.html" title="">
	    	    		                    		    <span class="node-name-normal">Configuration</span>
                    			    	    		</a>
			           </div>
        
            <ul>
	    
                                                    
	<li class="currentnode">
	    <div>
	    
	    

	    
	    
	    
	    			    	    
	    
	    		<a class="nodetext" href="Site-management.html" title="">
	    	    		                    		    <span class="node-name-normal">Site management</span>
                    			    	    		</a>
			           </div>
        
                                    </li>
            
                                
                                                    
	<li>
	    <div>
	    
	    

	    
	    
	    
	    			    	    
	    
	    		<a class="nodetext" href="Extension-siteaccess-settings.html" title="">
	    	    		                    		    <span class="node-name-normal">Extension siteaccess settings</span>
                    			    	    		</a>
			           </div>
        
                                    </li>
            
                                
                                                    
	<li class="last">
	    <div>
	    
	    

	    
	    
	    
	    			    	    
	    
	    		<a class="nodetext" href="Access-methods.html" title="">
	    	    		                    		    <span class="node-name-normal">Access methods</span>
                    			    	    		</a>
			           </div>
        
                                    </li>
            
                                            </ul>
                                        </li>
            
                                
                                                    
	<li>
	    <div>
	    
	    

	    
	    
	    
	    			    	    
	    
	    		<a class="nodetext" href="../Modules-and-views.html" title="">
	    	    		                    		    <span class="node-name-normal">Modules and views</span>
                    			    	    		</a>
			           </div>
        
                                    </li>
            
                                
                                                    
	<li>
	    <div>
	    
	    

	    
	    
	    
	    			    	    
	    
	    		<a class="nodetext" href="../URL-translation.html" title="">
	    	    		                    		    <span class="node-name-normal">URL translation</span>
                    			    	    		</a>
			           </div>
        
                                    </li>
            
                                
                                                    
	<li>
	    <div>
	    
	    

	    
	    
	    
	    			    	    
	    
	    		<a class="nodetext" href="../Designs.html" title="">
	    	    		                    		    <span class="node-name-normal">Designs</span>
                    			    	    		</a>
			           </div>
        
            <ul>
	    
                                                    
	<li class="last">
	    <div>
	    
	    

	    
	    
	    
	    			    	    
	    
	    		<a class="nodetext" href="../Designs/Design-combinations.html" title="">
	    	    		                    		    <span class="node-name-normal">Design combinations</span>
                    			    	    		</a>
			           </div>
        
                                    </li>
            
                                            </ul>
                                        </li>
            
                                
                                                    
	<li>
	    <div>
	    
	    

	    
	    
	    
	    			    	    
	    
	    		<a class="nodetext" href="../Access-control.html" title="">
	    	    		                    		    <span class="node-name-normal">Access control</span>
                    			    	    		</a>
			           </div>
        
                                    </li>
            
                                
                                                    
	<li>
	    <div>
	    
	    

	    
	    
	    
	    			    	    
	    
	    		<a class="nodetext" href="../Workflows.html" title="">
	    	    		                    		    <span class="node-name-normal">Workflows</span>
                    			    	    		</a>
			           </div>
        
                                    </li>
            
                                
                                                    
	<li class="last">
	    <div>
	    
	    

	    
	    
	    
	    			    	    
	    
	    		<a class="nodetext" href="../Webshop.html" title="">
	    	    		                    		    <span class="node-name-normal">Webshop</span>
                    			    	    		</a>
			           </div>
        
                                    </li>
            
                                            </ul>
                                        </li>
            
                                
                                                    
	<li class="topchapter">
	    <div>
	    
	    

	    
	    
	    
	    			    	    
	    
	    		<a class="nodetext" href="../../Templates.html" title="">
	    	    		                    		    <span class="node-name-normal">Templates</span>
                    			    	    		</a>
			           </div>
        
                                    </li>
            
                                
                                                    
	<li class="topchapter">
	    <div>
	    
	    

	    
	    
	    
	    			    	    
	    
	    		<a class="nodetext" href="../../Features.html" title="">
	    	    		                    		    <span class="node-name-normal">Features</span>
                    			    	    		</a>
			           </div>
        
                                    </li>
            
                                
                                                    
	<li class="topchapter">
	    <div>
	    
	    

	    
	    
	    
	    			    	    
	    
	    		<a class="nodetext" href="../../Reference3.html" title="">
	    	    		                                                           </a><a href="../../../4.x/Reference.html"><span class="node-name-normal">Reference</span>
                    			    	    		</a>
			           </div>
        
                                    </li>
            
                                            </ul>
                        
            
</map>

</div>            
</div>
</div>
</div>
</div>
<div class="area-docmain-normal">
<div class="template-design">
<div class="template-module content-view-full">
<div class="template-object">

<div class="attribute-heading">
<h1>Site management</h1>
</div>

<p>A single eZ Publish installation is capable of hosting multiple sites by making use of something called the <i>siteaccess system</i>. This system makes it possible to use different configuration settings based on a set of rules. The rules control which group of settings that should be used in a particular case. The siteaccess rules must be specified in the global override for the site.ini configuration file ("/settings/override/site.ini.append.php").</p><a name="eztoc121973_1" id="eztoc121973_1"></a><h2>Siteaccess</h2><p>A collection of configuration settings is called a <i>siteaccess</i>. When a siteaccess is in use, the default configuration settings will be overridden by the settings that are defined for the siteaccess. Among other things, a siteaccess dictates which database, design and var directory that should be used (these are sometime referred to as "resources"). By making use of different siteaccesses, it is possible to combine different content and designs. A typical eZ Publish site consists of two siteaccesses: a public interface for visitors and a restricted interface for administrators. Both siteaccesses use the same content (same database and same var directory) but they use different designs. While the administration siteaccess would most likely use the built in administration design, the public siteaccess would use a custom design. The following illustration shows this scenario.</p>
<div class="object-center">        <img src="../../../../../var/doc/storage/images/ez_publish/technical_manual/4_0/images/concepts_and_basics/siteaccess/1257-5-eng-GB/siteaccess_doc.png" alt="Example of a setup with two siteaccesses.">
 <p>Example of a setup with two siteaccesses.</p>







</div><p>A siteaccess is nothing more than a set of configuration files that override the default settings when the siteaccess is used. A single eZ Publish installation can virtually host an unlimited number of sites by the way of siteaccesses. The configuration settings for a siteaccess are located inside a dedicated subdirectory within the "/settings/siteaccess" directory. The name of the subdirectory is the actual name of the siteaccess.</p><p><b>Rules for siteaccess names</b></p><p>eZ Publish has a set of characters that are allowed for a siteaccess name. They are the alphanumerical characters (the <b>[a-z], [A-Z] </b>and<b> [0-9] </b>ranges), and<b> the "_" (underscore)</b>.</p><p>These are the simple rules for characters converting:</p>
<ul>
<li><div>Characters not in the previous list (alphanumerical and underscore) are replaced by an <b>"_" (underscore)</b>;</div></li><li><div>Multiple consecutive "_" (underscores) are replaced by a single underscore;</div></li><li><div>Leading and trailing "_" are removed.</div></li>
</ul>
<p><b><i>Examples:</i></b><i> You can have an <b>http://example.org/</b> and an <b>http://admin.example.org/</b>sites, where the hostname is used for matching the SA. In this case, <b>example.org </b>will be changed to <b>example_org</b> and <b>admin.example.org</b> to <b>admin_example_org</b>. Another example is an URL with a space: <b>http://example.com/main area/ </b>which would lead to SA <b>"main_area"</b>.</i></p><p>
The rules above are only valid for the <i>element</i> <a href="../../../4.x/Reference/Configuration-files/site.ini/SiteAccessSettings/URIMatchType.html" title="URIMatchType" target="_blank">URIMatchType</a> option.<br><b>Note:</b> If you don't want the transformation to be done, you can use <i>URIMatchType=map</i> instead.</p><p>The following illustration shows a setup with two siteaccesses: admin and public.</p>
<div class="object-center">        <img src="../../../../../var/doc/storage/images/ez_publish/technical_manual/4_0/images/concepts_and_basics/filesystem_siteaccess_directory_example/1135-4-eng-GB/filesystem_siteaccess_directory_example_doc.png" alt="Siteaccess directory example.">
 <p>Siteaccess directory example.</p>







</div><p>When a siteaccess is in use, eZ Publish reads the configuration files using the following sequence:</p><p>
0 - Default configuration settings - /settings/*.ini?<br>
1 - Active extension siteaccesses - /extension/my_extension/settings/siteaccess/my_site/*.ini.append.php<br>
2 - Siteaccesses - /settings/siteaccess/my_site/*.ini.append.php?<br>
3 - Active extensions - /extension/my_extension/settings/*.ini[.append.php]?<br>4 - Global overrides - /settings/override/*.ini.append.php</p><p>In other words, eZ Publish will first read the default configuration settings. Secondly it will read my_site/*.ini.append.php to find the siteaccesses for the active extensions for the installation. Then it will determine which siteaccess to use based on the rules that are defined in the global override for "site.ini" ("/settings/override/site.ini.append.php"). When it knows which siteaccess to use, it will go into the directory of that siteaccess and read the configuration files that belong to that siteaccess. Next it will go into the configuration file for the active extensions and read the configuration files for the active extensions. The settings of the siteaccess will override the default configuration settings.</p><p>For example, if the siteaccess uses a database called "Amiga", the system will see this and automatically use the specified database when an incoming request is processed. Finally, eZ Publish reads the configuration files in the global override directory. The settings in the global override directory will override all other settings. In other words, if a database called "CD32" is specified in the global override for "site.ini" then eZ Publish will attempt to use that database regardless of what is specified in the siteaccess settings. If a setting is not overridden by either the siteaccess or from within a global override then the default setting will be used. The default settings are set by the ini files located in the "/settings" directory.</p><p>The following figure illustrates how the system reads the configuration files using the "site.ini" file as an example. As already mentioned, settings placed in the override files will be used instead of the default ones.</p>
<div class="object-center">        <img src="../../../../../var/doc/storage/images/ez_publish/technical_manual/4_0/images/concepts_and_basics/ini_override/11103-3-eng-GB/ini_override_doc.png" alt="Configuration override example.">
 <p>Configuration override example.</p>







</div><a name="eztoc121973_1_1" id="eztoc121973_1_1"></a><h3>Rules for Online Editor and extensions</h3><p>
This applies for Online Editor and other extensions:<br>
 if a configuration array is initialized in "extension/&lt;extension_name&gt;/settings/&lt;ini_file&gt;" and you want to insert a new value into this array:<br>
 1. Do not edit "extension/&lt;extension_name&gt;/settings/&lt;ini_file&gt;", because it will be overwritten next time when you upgrade the extension.<br>
 2. Do not create "extension/&lt;extension_name&gt;/settings/siteaccess/&lt;siteaccess_name&gt;/&lt;ini_file&gt;", because it will be overridden by "extension/&lt;extension_name&gt;/settings/&lt;ini_file&gt;".<br>
 3. Do not create or edit "settings/siteaccess/&lt;siteaccess_name&gt;/&lt;ini_file&gt;", because it will be overriden by "extension/&lt;extension_name&gt;/settings/&lt;ini_file&gt;".<br>
 4. To affect all siteaccesses where &lt;extension_name&gt; is used, specify new value in "settings/override/&lt;ini_file&gt;".<br>
 5. To only affect a certain siteaccess, you need to use the following workaround:<br>
 - create a new custom extension specially for these settings: "extension/&lt;custom_extension&gt;/"<br>
 - specify new value in "extension/&lt;custom_extension&gt;/settings/&lt;ini_file&gt;"<br> - enable the custom extension for the target siteaccess by adding</p><pre class="wordwrap"><span class="line">ActiveAccessExtensions[]=&lt;custom_extension&gt;</span>
</pre><p>
 to "settings/siteaccess/&lt;siteaccess_name&gt;/site.ini.append.php"<br> - make sure the configuration array is not re-initialized in "settings/override/&lt;ini_file&gt;" (if exists).</p><p><b>Note:</b> The name of &lt;ini_file&gt; here should always contain either ".append" or ".append.php" in the end. The only exception are default configuration files (for example "settings/design.ini" or "extension/ezoe/settings/ezoe.ini").</p><p>
<b>Note:</b> A non technical description of a site access is to view it as a "Content Channel": a Content Channel refers to a way the user of an eZ Publish installation can access the content, this encompasses<br>
-        all “front end” site accesses like a website, or a mobile version of the website,<br>
-        all “back end “ site accesses like the administration interface(s)<br>
-        all automated content access interfaces like Application Programmers Interfaces (APIs)<br>‘           Translated versions of a site are not counted as additional site accesses</p>

<div class="break"></div><div class="pageinfo float-break">
<div class="created">


<p><label>Written by:</label>Balazs Halasy (14/09/2010 10:27 am)</p>
</div>
<div class="modified">
<p><label>Last updated by:</label>Ricardo Correia (28/02/2014 4:13 pm)</p>
</div><div class="authors">
<p><label>Maintainers:</label>Geir Arne Waaler, Ricardo Correia</p>
</div></div>
<hr class="hide">

</div>
</div>
</div>

<div id="comments" class="class-comment">
<div class="content-view-children">

<h1>Comments</h1>
<div id="comments-content">
<ul>    <li class="comment-bglight"><div class="padding">
    <div class="content-view-line">
<div class="class-comment">

<div>

<div id="comment24900" class="attribute-heading">
<h2>Sequence of the override files</h2>
</div>

<div class="attribute-byline float-break">
    <p class="date">Saturday 30 July 2005 10:20:01 pm</p>
    <p class="author">Josh Luo</p>
</div>

<div class="attribute-short">
When a siteaccess is in use, it seems more LOGIC for eZ publish to read the configuration files using the following sequence: <br>
<br>
1. Default configuration settings (/settings/*.ini) <br>
2. Global overrides (/settings/override/*.ini.append.php) <br>
3. Siteaccess settings (/settings/siteaccess/[name_of_siteaccess]/*.ini.append.php) <br>
<br>
I think, for example, that the database settings in the global override directory SHOULD be overrided by the database settings in the siteaccess. Otherwise if we have several databases for multisites, the different databases settings in the different siteaccess are overrided by the same database sittings in the global overrides, some sites would't work.<br>
<br>

</div>




     


</div>

<ul>    <li class="comment-bglight"><div class="padding">
    <div class="content-view-line">
<div class="class-comment">

<div>

<div id="comment24901" class="attribute-heading">
<h2>Re: Sequence of the override files</h2>
</div>

<div class="attribute-byline float-break">
    <p class="date">Friday 12 August 2005 8:48:32 pm</p>
    <p class="author">Kyle Lady</p>
</div>

<div class="attribute-short">
"I think, for example, that the database settings in the global override directory SHOULD be overrided by the database settings in the siteaccess. Otherwise if we have several databases for multisites, the different databases settings in the different siteaccess are overrided by the same database sittings in the global overrides, some sites would't work."<br>
<br>
In that case, you should not use the global override to set the database settings.  You would have to set the database settings in every site's siteaccess file.  
</div>




     


</div>

<ul>    <li class="comment-bglight"><div class="padding">
    <div class="content-view-line">
<div class="class-comment">

<div>

<div id="comment24902" class="attribute-heading">
<h2>Re: Re: Sequence of the override files</h2>
</div>

<div class="attribute-byline float-break">
    <p class="date">Wednesday 31 August 2005 12:20:20 pm</p>
    <p class="author">Josh Luo</p>
</div>

<div class="attribute-short">
Supposing multisites include many sites with the same database, for instance, 10 sites. I can set the database db in the global overrides only one time. Some day I want to site1 with a separate database db1. How can I do?<br>
<br>
According to your sequence to read the configuration files: <br>
1. Default configuration settings (/settings/*.ini) <br>
2. Siteaccess settings (/settings/siteaccess/[name_of_siteaccess]/*.ini.append.php) <br>
3. Global overrides (/settings/override/*.ini.append.php) <br>
<br>
I have to:<br>
--- set the db1 in this siteaccess setting file for site1;<br>
--- delete the db settings in the global override file, or db1 will be overrided by db settings;<br>
--- set the same db one by one in other siteaccess setting files, 9 files for this example.<br>
<br>
But according to the following sequence to read the configuration files: <br>
1. Default configuration settings (/settings/*.ini) <br>
2. Global overrides (/settings/override/*.ini.append.php) <br>
3. Siteaccess settings (/settings/siteaccess/[name_of_siteaccess]/*.ini.append.php) <br>
<br>
I only need set the db1 in this siteaccess setting file for site1, that's all. <br>
<br>
I needn't delete the db settings in the global override file, because the db will be overrite by db1. Also I don't worry about other sites. Do nothing for other 9 sites.<br>
<br>
Think about other setting parameters, there is the same situation. That's why I think the latter seems more LOGIC.<br>

</div>




     


</div>

<ul>    <li class="comment-bglight"><div class="padding">
    <div class="content-view-line">
<div class="class-comment">

<div>

<div id="comment24903" class="attribute-heading">
<h2>Re: Re: Re: Sequence of the override files</h2>
</div>

<div class="attribute-byline float-break">
    <p class="date">Friday 12 September 2008 8:35:27 pm</p>
    <p class="author">JB</p>
</div>

<div class="attribute-short">
I'm sorry but I'm not agree with you, because as kyle says, you can solve your problem by deleting database settings in the global override and managing this settings per site access.<br>
<br>
On the other side I have exactly the opposite need, and you couldn't find a solution if global settings are overrided by siteaccess settings :<br>
<br>
I  need to allow my siteaccess owners to modify their templates and settings (including site.ini) but I don't want they use another database, and I don't want they know my database password. They must use the same database for all siteaccesses.<br>
It's just a different LOGIC ! ;-)<br>
<br>
<br>
 <br>

</div>




     


</div>


</div>
</div>    </div></li></ul>
</div>
</div>    </div></li></ul>
</div>
</div>    </div></li></ul>
</div>
</div>    </div></li>    <li class="comment-bgdark"><div class="padding">
    <div class="content-view-line">
<div class="class-comment">

<div>

<div id="comment24904" class="attribute-heading">
<h2>You may add more info about extension</h2>
</div>

<div class="attribute-byline float-break">
    <p class="date">Friday 30 September 2005 4:34:48 pm</p>
    <p class="author">Daniele P.</p>
</div>

<div class="attribute-short">
You can place a lot of common settings in a common extension:<br>
Smart example (for sites with only different lang):<br>
<br>
$ cat settings/siteaccess/en/site.ini.append.php; echo<br>
&lt;?php /* #?ini charset="iso-8859-15"?<br>
<br>
[ExtensionSettings]<br>
ActiveAccessExtensions[]=in_common<br>
ActiveAccessExtensions[]=in_lang_en<br>
<br>
*/ ?&gt;<br>
<br>
$diff -Naur extension/in_lang_en/settings/site.ini.append.php  extension/in_lang_de/settings/<br>
--- extension/in_ber_lang_en/settings/site.ini.append.php       2005-09-30 15:32:34.000000000 +0200<br>
+++ extension/in_ber_lang_de/settings/site.ini.append.php       2005-09-30 15:33:13.000000000 +0200<br>
@@ -1,16 +1,16 @@<br>
 &lt;?php /* #?ini charset="iso-8859-15"?<br>
<br>
 [SiteSettings]<br>
-SiteName=[en]<br>
+SiteName=[de]<br>
-SiteURL=<a href="http://www.example.it/en" title="http://www.example.it/en">http://www.example.it/en</a><br>
+SiteURL=<a href="http://www.example.it/de" title="http://www.example.it/de">http://www.example.it/de</a><br>
<br>
 [RegionalSettings]<br>
-Locale=eng-US<br>
-ContentObjectLocale=eng-US<br>
+Locale=ger-DE<br>
+ContentObjectLocale=ger-DE<br>
 TextTranslation=enabled<br>
<br>
 [ContentSettings]<br>

</div>




     


</div>


</div>
</div>    </div></li>    <li class="comment-bglight"><div class="padding">
    <div class="content-view-line">
<div class="class-comment">

<div>

<div id="comment24905" class="attribute-heading">
<h2>Extensions</h2>
</div>

<div class="attribute-byline float-break">
    <p class="date">Monday 03 April 2006 10:03:40 pm</p>
    <p class="author">Kristian Hole</p>
</div>

<div class="attribute-short">
Here the information about extensions are missing. This is the correct order when using settings in extensions:<br>
<br>
   1.      Default configuration settings (/settings/*.ini)<br>
   2.      Siteaccess settings (/settings/siteaccess/[name_of_siteaccess]/*.ini.append.php)<br>
   4.      Ative Extensions (/extension/*/settings/*.ini.append.php)<br>
   3.      Global overrides (/settings/override/*.ini.append.php)<br>

</div>




     


</div>


</div>
</div>    </div></li>    <li class="comment-bgdark"><div class="padding">
    <div class="content-view-line">
<div class="class-comment">

<div>

<div id="comment24906" class="attribute-heading">
<h2>Extensions update</h2>
</div>

<div class="attribute-byline float-break">
    <p class="date">Thursday 13 July 2006 7:41:32 am</p>
    <p class="author">Gunnstein Lye</p>
</div>

<div class="attribute-short">
This is the order, including extension site accesses:<br>
<br>
1. Default configuration settings (/settings/*.ini)<br>
2. Active extension siteaccesses (/extension/*/settings/siteaccess/[name_of_siteaccess]/*.ini.append.php)<br>
3. Siteaccesses (/settings/siteaccess/[name_of_siteaccess]/*.ini.append.php)<br>
4. Active extensions (/extension/*/settings/*.ini.append.php)<br>
5. Global overrides (/settings/override/*.ini.append.php)<br>

</div>




     


</div>

<ul>    <li class="comment-bglight"><div class="padding">
    <div class="content-view-line">
<div class="class-comment">

<div>

<div id="comment24907" class="attribute-heading">
<h2>Re: Extensions update</h2>
</div>

<div class="attribute-byline float-break">
    <p class="date">Thursday 03 July 2008 1:32:40 pm</p>
    <p class="author">Svitlana Shatokhina</p>
</div>

<div class="attribute-short">
Agree, added an issue <a href="http://issues.ez.no/12939" title="http://issues.ez.no/12939">http://issues.ez.no/12939</a> for this, it's on our todo list.
</div>




     


</div>


</div>
</div>    </div></li></ul>
</div>
</div>    </div></li>    <li class="comment-bglight"><div class="padding">
    <div class="content-view-line">
<div class="class-comment">

<div>

<div id="comment24908" class="attribute-heading">
<h2>Question about the loading sequence</h2>
</div>

<div class="attribute-byline float-break">
    <p class="date">Wednesday 10 March 2010 7:55:57 am</p>
    <p class="author">Alva</p>
</div>

<div class="attribute-short">
If i set the HostMatchItems or AvailableSiteAccessList in globle override, and the globle override is loaded after the siteaccess.<br>
How can EZ know which siteaccess should be loaded?
</div>




     


</div>


</div>
</div>    </div></li></ul>
</div>
<div class="toolbar">


</div>

</div>
</div>

</div>
<!-- Main area content: END -->

</div>
</div>
<!-- Main area: END -->
<hr class="hide">

</div></div></div>



</div>
<!-- Complete page area: END -->











</body>
</html><!-- th[eZ] 20050804 -->
