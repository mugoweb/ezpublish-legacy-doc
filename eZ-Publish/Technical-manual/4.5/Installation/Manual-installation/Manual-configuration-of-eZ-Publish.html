<!DOCTYPE html>
<html lang="en-US">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">


<style type="text/css">
    @import url(../../../../../extension/ezdoc/design/doc/stylesheets/core.css);
    @import url(../../../../../extension/ezdoc/design/doc/stylesheets/classes.css);
    @import url(../../../../../extension/ezdoc/design/doc/stylesheets/doc.css);
    @import url(../../../../../extension/ezdoc/design/doc/stylesheets/print.css) print;</style>

<link type="text/css" rel="stylesheet" href="../../../../../extension/ezdoc/design/doc/stylesheets/print.css" media="print">

<!-- IE conditional comments; for bug fixes for different IE versions -->
<!--[if IE 5]>     <style type="text/css"> @import url(/extension/ezdoc/design/doc/stylesheets/ie5.css);    </style>     <![endif]-->
<!--[if lte IE 6]> <style type="text/css"> @import url(/extension/ezdoc/design/doc/stylesheets/ie6lte.css); </style>     <![endif]-->
<!--[if lte IE 6]> <style type="text/css"> @import url(/extension/ezdoc/design/doc/stylesheets/ie6lte-doc.css); </style> <![endif]-->
<!--[if IE 6]>     <style type="text/css"> @import url(/extension/ezdoc/design/doc/stylesheets/ie6.css);    </style>     <![endif]-->

<!-- Load special stylesheet (if necessary) for newer Netscape decendants, Mozilla and Firefox, using the Gecko renderer -->
<script type="text/javascript"><!-- if ((navigator.userAgent.indexOf("Gecko") != -1)&&(navigator.userAgent.indexOf("KHTML") == -1)) document.write("<style type=\"text/css\">@import url(/extension/ezdoc/design/doc/stylesheets/gecko.css);</style>"); --></script>

<script type="text/javascript" src="../../../../../extension/ezdoc/design/doc/javascripts/mainmenu-hover.js"></script>
<script type="text/javascript" src="../../../../../extension/ezdoc/design/doc/javascripts/dropdownmenu.js"></script>
<script type="text/javascript" src="../../../../../extension/ezdoc/design/doc/javascripts/ezno-searchbox.js"></script>
                                                    
    <title>Manual configuration of eZ Publish / Manual installation / Installation / 4.5 / Technical manual / eZ Publish / Documentation - Doc</title>

    
    
    
            <meta http-equiv="Content-Type" content="text/html; charset=utf-8">

            <meta http-equiv="Content-language" content="en-GB">

    
                <meta name="author" content="eZ systems">
                    <meta name="copyright" content="eZ systems">
                    <meta name="description" content="eZ Publish Documentation">
                    <meta name="keywords" content="eZ Publish, documentation, manual, reference, eZ systems">
        
    <meta name="generator" content="eZ Publish">
    <link rel="Home" href="https://doc.ez.no/" title="Doc front page">
<link rel="Search" href="https://doc.ez.no/content/advancedsearch" title="Search Doc">
<link rel="Shortcut icon" href="../../../../../extension/ezdoc/design/doc/images/favicon.ico" type="image/x-icon">

</head>
<body onload="initDocSearch();menuInit();">

<!-- Complete page area: START -->
<div id="page">


<div><a href="https://www.ibexa.co"><img class="logotype" width="100" height="50" src="https://ezpublishdoc.mugo.ca/design/standard/images/ibexa_logo.svg" alt="ibexa"></a></div>
<div id="page-content-position"><div id="page-content-position-inner"><div id="page-content">

<!-- Path area: START -->
<div id="path">

<div id="page-width4">
<h2 class="hide">Path</h2>

<!-- Path content: START -->
<p><a href="../index.html">ez publish</a>
        
                        /
                            <a href="../../../../Technical-manual.html">technical manual</a>
        
                        /
                            <a href="../../../4.5.html">4.5</a>
        
                        /
                            <a href="../../Installation.html">installation</a>
        
                        /
                            <a href="../Manual-installation.html">manual installation</a>
        
                        /
                            manual configuration of ez...
        
            </p>
<!-- Path content: END -->

</div>

</div>
<!-- Path area: END -->

<hr class="hide">

<!-- Main area: START -->
                                    <div id="ezp5disclaimer">
                <p><strong style="color: red">Caution:</strong> This documentation is for <strong>eZ Publish</strong> <em>legacy</em>, from version 3.x to 5.x.<br></p>
            </div>
            
<div id="page-width5">
<div id="main" class="float-break">


<div class="template-design area-docmenu-normal">
<div class="template-module">
<div class="template-object">
<div id="contentmenu">
                        <div class="attribute-heading"><h2 class="bullet"><a href="../../../4.5.html">Table of contents</a></h2></div>
<div class="boxcontent">

<map id="contentstructure">

    
                                                                        
            <ul>
	    
                                                    
	<li class="topchapter-selected  ">
	    <div>
	    
	    

	    
	    
	    
	    			    	    
	    
	    		<a class="nodetext" href="../../Installation.html" title="">
	    	    		                    		    <span class="node-name-normal">Installation</span>
                    			    	    		</a>
			           </div>
        
            <ul>
	    
                                                    
	<li>
	    <div>
	    
	    

	    
	    
	    
	    			    	    
	    
	    		<a class="nodetext" href="../Requirements-4.5.html" title="">
	    	    		                    		    <span class="node-name-normal">Requirements 4.5</span>
                    			    	    		</a>
			           </div>
        
            <ul>
	    
                                                    
	<li class="last">
	    <div>
	    
	    

	    
	    
	    
	    			    	    
	    
	    		<a class="nodetext" href="../Requirements-4.5/Install-notes-for-eZ-Publish-on-RHEL-6.html" title="">
	    	    		                    		    <span class="node-name-normal">Install notes for eZ Publish on RHEL 6</span>
                    			    	    		</a>
			           </div>
        
                                    </li>
            
                                            </ul>
                                        </li>
            
                                
                                                    
	<li>
	    <div>
	    
	    

	    
	    
	    
	    			    	    
	    
	    		<a class="nodetext" href="../Virtual-host-setup.html" title="">
	    	    		                    		    <span class="node-name-normal">Virtual host setup</span>
                    			    	    		</a>
			           </div>
        
            <ul>
	    
                                                    
	<li>
	    <div>
	    
	    

	    
	    
	    
	    			    	    
	    
	    		<a class="nodetext" href="../Virtual-host-setup/Virtual-host-example.html" title="">
	    	    		                    		    <span class="node-name-normal">Virtual host example</span>
                    			    	    		</a>
			           </div>
        
                                    </li>
            
                                
                                                    
	<li>
	    <div>
	    
	    

	    
	    
	    
	    			    	    
	    
	    		<a class="nodetext" href="../Virtual-host-setup/htaccess-example.html" title="">
	    	    		                    		    <span class="node-name-normal">htaccess example</span>
                    			    	    		</a>
			           </div>
        
                                    </li>
            
                                
                                                    
	<li class="last">
	    <div>
	    
	    

	    
	    
	    
	    			    	    
	    
	    		<a class="nodetext" href="../Virtual-host-setup/eZ-JS-Core-rewrite-rules.html" title="">
	    	    		                    		    <span class="node-name-normal">eZ JS Core rewrite rules</span>
                    			    	    		</a>
			           </div>
        
                                    </li>
            
                                            </ul>
                                        </li>
            
                                
                                                    
	<li>
	    <div>
	    
	    

	    
	    
	    
	    			    	    
	    
	    		<a class="nodetext" href="../Normal-installation.html" title="">
	    	    		                    		    <span class="node-name-normal">Normal installation</span>
                    			    	    		</a>
			           </div>
        
            <ul>
	    
                                                    
	<li>
	    <div>
	    
	    

	    
	    
	    
	    			    	    
	    
	    		<a class="nodetext" href="../Normal-installation/Requirements-for-doing-a-normal-installation.html" title="">
	    	    		                    		    <span class="node-name-normal">Requirements for doing a normal installation</span>
                    			    	    		</a>
			           </div>
        
                                    </li>
            
                                
                                                    
	<li>
	    <div>
	    
	    

	    
	    
	    
	    			    	    
	    
	    		<a class="nodetext" href="../Normal-installation/Installing-eZ-Publish-on-a-Linux-UNIX-based-system.html" title="">
	    	    		                    		    <span class="node-name-normal">Installing eZ Publish on a Linux/UNIX based system</span>
                    			    	    		</a>
			           </div>
        
                                    </li>
            
                                
                                                    
	<li class="last">
	    <div>
	    
	    

	    
	    
	    
	    			    	    
	    
	    		<a class="nodetext" href="../Normal-installation/Installing-eZ-Publish-on-Windows.html" title="">
	    	    		                    		    <span class="node-name-normal">Installing eZ Publish on Windows</span>
                    			    	    		</a>
			           </div>
        
                                    </li>
            
                                            </ul>
                                        </li>
            
                                
                                                    
	<li>
	    <div>
	    
	    

	    
	    
	    
	    			    	    
	    
	    		<a class="nodetext" href="../Manual-installation.html" title="">
	    	    		                    		    <span class="node-name-normal">Manual installation</span>
                    			    	    		</a>
			           </div>
        
            <ul>
	    
                                                    
	<li>
	    <div>
	    
	    

	    
	    
	    
	    			    	    
	    
	    		<a class="nodetext" href="Requirements-for-doing-a-manual-installation.html" title="">
	    	    		                    		    <span class="node-name-normal">Requirements for doing a manual installation</span>
                    			    	    		</a>
			           </div>
        
                                    </li>
            
                                
                                                    
	<li>
	    <div>
	    
	    

	    
	    
	    
	    			    	    
	    
	    		<a class="nodetext" href="Manual-installation-on-a-Linux-UNIX-based-system.html" title="">
	    	    		                    		    <span class="node-name-normal">Manual installation on a Linux/UNIX based system</span>
                    			    	    		</a>
			           </div>
        
                                    </li>
            
                                
                                                    
	<li>
	    <div>
	    
	    

	    
	    
	    
	    			    	    
	    
	    		<a class="nodetext" href="Manual-installation-on-Windows.html" title="">
	    	    		                    		    <span class="node-name-normal">Manual installation on Windows</span>
                    			    	    		</a>
			           </div>
        
                                    </li>
            
                                
                                                    
	<li class="last currentnode">
	    <div>
	    
	    

	    
	    
	    
	    			    	    
	    
	    		<a class="nodetext" href="Manual-configuration-of-eZ-Publish.html" title="">
	    	    		                    		    <span class="node-name-normal">Manual configuration of eZ Publish</span>
                    			    	    		</a>
			           </div>
        
                                    </li>
            
                                            </ul>
                                        </li>
            
                                
                                                    
	<li>
	    <div>
	    
	    

	    
	    
	    
	    			    	    
	    
	    		<a class="nodetext" href="../Automated-installation.html" title="">
	    	    		                    		    <span class="node-name-normal">Automated installation</span>
                    			    	    		</a>
			           </div>
        
            <ul>
	    
                                                    
	<li>
	    <div>
	    
	    

	    
	    
	    
	    			    	    
	    
	    		<a class="nodetext" href="../Automated-installation/Requirements-for-doing-an-automated-installation.html" title="">
	    	    		                    		    <span class="node-name-normal">Requirements for doing an automated installation</span>
                    			    	    		</a>
			           </div>
        
                                    </li>
            
                                
                                                    
	<li class="last">
	    <div>
	    
	    

	    
	    
	    
	    			    	    
	    
	    		<a class="nodetext" href="../Automated-installation/Automated-installation-of-eZ-Publish.html" title="">
	    	    		                    		    <span class="node-name-normal">Automated installation of eZ Publish</span>
                    			    	    		</a>
			           </div>
        
                                    </li>
            
                                            </ul>
                                        </li>
            
                                
                                                    
	<li>
	    <div>
	    
	    

	    
	    
	    
	    			    	    
	    
	    		<a class="nodetext" href="../The-setup-wizard.html" title="">
	    	    		                    		    <span class="node-name-normal">The setup wizard</span>
                    			    	    		</a>
			           </div>
        
                                    </li>
            
                                
                                                    
	<li>
	    <div>
	    
	    

	    
	    
	    
	    			    	    
	    
	    		<a class="nodetext" href="../Removing-eZ-Publish.html" title="">
	    	    		                    		    <span class="node-name-normal">Removing eZ Publish</span>
                    			    	    		</a>
			           </div>
        
                                    </li>
            
                                
                                                    
	<li>
	    <div>
	    
	    

	    
	    
	    
	    			    	    
	    
	    		<a class="nodetext" href="../Extensions.html" title="">
	    	    		                    		    <span class="node-name-normal">Extensions</span>
                    			    	    		</a>
			           </div>
        
            <ul>
	    
                                                    
	<li>
	    <div>
	    
	    

	    
	    
	    
	    			    	    
	    
	    		<a class="nodetext" href="../Extensions/Extension-load-ordering.html" title="">
	    	    		                    		    <span class="node-name-normal">Extension load ordering</span>
                    			    	    		</a>
			           </div>
        
                                    </li>
            
                                
                                                    
	<li>
	    <div>
	    
	    

	    
	    
	    
	    			    	    
	    
	    		<a class="nodetext" href="../Extensions/Extracting-the-files.html" title="">
	    	    		                    		    <span class="node-name-normal">Extracting the files</span>
                    			    	    		</a>
			           </div>
        
                                    </li>
            
                                
                                                    
	<li class="last">
	    <div>
	    
	    

	    
	    
	    
	    			    	    
	    
	    		<a class="nodetext" href="../Extensions/Activating-the-extension.html" title="">
	    	    		                    		    <span class="node-name-normal">Activating the extension</span>
                    			    	    		</a>
			           </div>
        
                                    </li>
            
                                            </ul>
                                        </li>
            
                                
                                                    
	<li class="last">
	    <div>
	    
	    

	    
	    
	    
	    			    	    
	    
	    		<a class="nodetext" href="../Troubleshooting.html" title="">
	    	    		                    		    <span class="node-name-normal">Troubleshooting</span>
                    			    	    		</a>
			           </div>
        
                                    </li>
            
                                            </ul>
                                        </li>
            
                                
                                                    
	<li class="topchapter">
	    <div>
	    
	    

	    
	    
	    
	    			    	    
	    
	    		<a class="nodetext" href="../../Concepts-and-basics.html" title="">
	    	    		                    		    <span class="node-name-normal">Concepts and basics</span>
                    			    	    		</a>
			           </div>
        
                                    </li>
            
                                
                                                    
	<li class="topchapter">
	    <div>
	    
	    

	    
	    
	    
	    			    	    
	    
	    		<a class="nodetext" href="../../Templates.html" title="">
	    	    		                    		    <span class="node-name-normal">Templates</span>
                    			    	    		</a>
			           </div>
        
                                    </li>
            
                                
                                                    
	<li class="topchapter">
	    <div>
	    
	    

	    
	    
	    
	    			    	    
	    
	    		<a class="nodetext" href="../../Features.html" title="">
	    	    		                    		    <span class="node-name-normal">Features</span>
                    			    	    		</a>
			           </div>
        
                                    </li>
            
                                
                                                    
	<li class="topchapter">
	    <div>
	    
	    

	    
	    
	    
	    			    	    
	    
	    		<a class="nodetext" href="../../Reference3.html" title="">
	    	    		                                                           </a><a href="../../../4.x/Reference.html"><span class="node-name-normal">Reference</span>
                    			    	    		</a>
			           </div>
        
                                    </li>
            
                                            </ul>
                        
            
</map>

</div>            
</div>
</div>
</div>
</div>
<div class="area-docmain-normal">
<div class="template-design">
<div class="template-module content-view-full">
<div class="template-object">

<div class="attribute-heading">
<h1>Manual configuration of eZ Publish</h1>
</div>

<p>This section describes how to manually configure eZ Publish instead of using the setup wizard to do all the work. Keep in mind that the manual installation method is for expert users only. It should only be used by people who know what they are doing. The following steps will work on both Linux/UNIX and Windows environments.</p><a name="eztoc121874_1" id="eztoc121874_1"></a><h2>Database initialization</h2><p>A clean eZ Publish database is created using two very important SQL scripts: "kernel_schema" and "cleandata" (note that an empty database should be created before launching these scripts). The first of them initializes the necessary database structure and the second one imports the pre-defined data to the database. While the "kernel_schema" script differs for each database engine, the "cleandata" script is the same for all solutions.</p><a name="eztoc121874_1_1" id="eztoc121874_1_1"></a><h3>MySQL</h3><p>Use the following command to run the MySQL specific "kernel_schema" script:</p><pre class="wordwrap"><span class="line">$ mysql -u USERNAME -pPASSWORD DATABASE &lt; PATH/kernel/sql/mysql/kernel_schema.sql</span>
</pre><p>In eZ Publish 4.0.1 and later versions, the script will use the InnoDB storage engine when creating new tables. This storage engine is recommended (and will be required in the future) for running eZ Publish on a MySQL database. Contact your database administrator if you are unsure about whether InnoDB is available on your server.</p><p>In eZ Publish 4.0.0, the CREATE TABLE statements in the "kernel_schema" script do not specify which storage engine to use (no ENGINE or TYPE option), and thus the default storage engine will be used. Normally, it is MyISAM. Because of this, it is highly recommended to set the default storage engine to InnoDB before you run the "kernel_schema" script (refer to the <a href="http://dev.mysql.com/doc/refman/5.0/en/storage-engines.html" target="_blank">MySQL documentation</a> for information about how to set the default engine). Alternatively, you can run the "kernel_schema" script first and then convert the newly created tables to InnoDB. You can either use the "bin/php/ezconvertmysqltabletype.php" script for database conversion (recommended) or convert the tables individually by using the following SQL query for each table:</p><pre class="wordwrap"><span class="line">ALTER TABLE &lt;name_of_table&gt; TYPE = innodb;</span>
</pre><p>Use the following command to run the generic "cleandata" script:</p><pre class="wordwrap"><span class="line">$ mysql -u USERNAME -pPASSWORD DATABASE &lt; PATH/kernel/sql/common/cleandata.sql</span>
</pre><table class="renderedtable" cellpadding="2" cellspacing="0">

<tr>
<td valign="top" style="vertical-align: top">  <p>USERNAME</p>
  </td>
<td valign="top" style="vertical-align: top">  <p>The MySQL user (if no user is set up, use "root").</p>
  </td>

</tr>

<tr>
<td valign="top" style="vertical-align: top">  <p>PASSWORD</p>
  </td>
<td valign="top" style="vertical-align: top">  <p>The password that belongs to the username.</p>
  </td>

</tr>

<tr>
<td valign="top" style="vertical-align: top">  <p>DATABASE</p>
  </td>
<td valign="top" style="vertical-align: top">  <p>The name of the database, for example "my_database".</p>
  </td>

</tr>

<tr>
<td valign="top" style="vertical-align: top">  <p>PATH</p>
  </td>
<td valign="top" style="vertical-align: top">  <p>The full path to the root directory of your eZ Publish installation, for example "/opt/ezp".</p>
  </td>

</tr>

</table>
<a name="eztoc121874_2" id="eztoc121874_2"></a><h2>File permissions</h2><p>Windows users can skip this part. If eZ Publish is installed on a Linux/UNIX based system, some of the file permissions need to be changed. There is a shell script that takes care of this. This script must be run, otherwise eZ Publish will not function properly. The script needs to be run from within the eZ Publish directory:</p><pre class="wordwrap"><span class="line">$ cd /opt/ezp</span>
<span class="line">$ bin/modfix.sh</span>
</pre><p>Replace "/opt/ezp" with the full path to the root directory of your eZ Publish installation.</p><p>The modfix script recursively alters the permission settings of the following directories inside the eZ Publish installation:</p>
<ul>
<li><div>var/* </div></li><li><div>settings/* </div></li><li><div>design/* </div></li><li><div>autoload/* </div></li>
</ul>
<p>If you know the user and group of the web server it is recommended to use a different set of permissions:</p><pre class="wordwrap"><span class="line"># chown -R user.usergroup var/ settings/ design/ autoload/</span>
<span class="line"># chmod -R 770 var/ settings/ design/ autoload/</span>
</pre><p>The "user.usergroup" notation must be changed to user and group name that the web server runs as.</p><a name="eztoc121874_3" id="eztoc121874_3"></a><h2>Configuring eZ Publish</h2><p>The "site.ini.append.php" configuration file located in the "settings/override" directory of your eZ Publish installation must be changed, or else eZ Publish will not function properly. This file is the global override for the <a href="../../../4.x/Reference/Configuration-files/site.ini.html" target="_self">site.ini</a> configuration file. There are a lot of things that need to be configured (database, mail transport system, var directory, etc.). The following text shows a generic example of a configuration that can be used:</p><pre class="wordwrap copytoclipboard"><span class="line">&lt;?php /* #?ini charset="utf-8"?</span>
<span class="line"> </span>
<span class="line">[DatabaseSettings]</span>
<span class="line">DatabaseImplementation=ezmysql</span>
<span class="line">Server=localhost</span>
<span class="line">User=root</span>
<span class="line">Password=</span>
<span class="line">Database=my_database</span>
<span class="line"> </span>
<span class="line">[FileSettings]</span>
<span class="line">VarDir=var/example</span>
<span class="line"> </span>
<span class="line">[Session]</span>
<span class="line">SessionNameHandler=custom</span>
<span class="line"> </span>
<span class="line">[SiteSettings]</span>
<span class="line">DefaultAccess=example</span>
<span class="line">SiteList[]</span>
<span class="line">SiteList[]=example</span>
<span class="line"> </span>
<span class="line">[SiteAccessSettings]</span>
<span class="line">CheckValidity=false</span>
<span class="line">AvailableSiteAccessList[]</span>
<span class="line">AvailableSiteAccessList[]=example</span>
<span class="line">AvailableSiteAccessList[]=example_admin</span>
<span class="line">RelatedSiteAccessList[]</span>
<span class="line">RelatedSiteAccessList[]=example</span>
<span class="line">RelatedSiteAccessList[]=example_admin</span>
<span class="line">MatchOrder=host;uri</span>
<span class="line"> </span>
<span class="line"># Host matching</span>
<span class="line">HostMatchMapItems[]=www.example.com;example</span>
<span class="line">HostMatchMapItems[]=admin.example.com;example_admin</span>
<span class="line"> </span>
<span class="line">[InformationCollectionSettings]</span>
<span class="line">EmailReceiver=webmaster@example.com</span>
<span class="line"> </span>
<span class="line">[MailSettings]</span>
<span class="line">Transport=sendmail</span>
<span class="line">AdminEmail=webmaster@example.com</span>
<span class="line">EmailSender=test@example.com</span>
<span class="line"> </span>
<span class="line">[RegionalSettings]</span>
<span class="line">Locale=eng-GB</span>
<span class="line">ContentObjectLocale=eng-GB</span>
<span class="line">TextTranslation=disabled</span>
<span class="line"> </span>
<span class="line">*/ ?&gt;</span>
</pre><!--[if IE]>
<p class="copytoclipboard"><img src="/extension/ezdoc/design/doc/images/copytoclipboard.gif" height="16" width="16" alt="Copy to clipboard" title="Copy to clipboard" onclick="window.clipboardData.setData( 'text', '&lt;?php /* #?ini charset=&quot;utf-8&quot;?\r\n\r\n[DatabaseSettings]\r\nDatabaseImplementation=ezmysql\r\nServer=localhost\r\nUser=root\r\nPassword=\r\nDatabase=my_database\r\n\r\n[FileSettings]\r\nVarDir=var/example\r\n\r\n[Session]\r\nSessionNameHandler=custom\r\n\r\n[SiteSettings]\r\nDefaultAccess=example\r\nSiteList[]\r\nSiteList[]=example\r\n\r\n[SiteAccessSettings]\r\nCheckValidity=false\r\nAvailableSiteAccessList[]\r\nAvailableSiteAccessList[]=example\r\nAvailableSiteAccessList[]=example_admin\r\nRelatedSiteAccessList[]\r\nRelatedSiteAccessList[]=example\r\nRelatedSiteAccessList[]=example_admin\r\nMatchOrder=host;uri\r\n\r\n# Host matching\r\nHostMatchMapItems[]=www.example.com;example\r\nHostMatchMapItems[]=admin.example.com;example_admin\r\n\r\n[InformationCollectionSettings]\r\nEmailReceiver=webmaster@example.com\r\n\r\n[MailSettings]\r\nTransport=sendmail\r\nAdminEmail=webmaster@example.com\r\nEmailSender=test@example.com\r\n\r\n[RegionalSettings]\r\nLocale=eng-GB\r\nContentObjectLocale=eng-GB\r\nTextTranslation=disabled\r\n\r\n*/ ?&gt;' ); return false;" /></p>
<![endif]--><p>In the example above the "AvailableSiteAccessList[]" array located in the "[SiteAccessSettings]" section of this file determines the available <a href="../../../4.x/Concepts-and-basics/Configuration/Site-management.html" target="_self">siteaccesses</a> called "example" and "example_admin". The "CheckValidity" setting located in the same section should be set to false, otherwise the setup wizard will be initiated when trying to access the site.</p><p>In addition, two siteaccess configurations must be created, a public siteaccess ("example") and an administration siteaccess ("example_admin"). The following sub-directories have to be created in the root of your eZ Publish installation:</p>
<ul>
<li><div>settings/siteaccess/example </div></li><li><div>settings/siteaccess/example_admin </div></li>
</ul>
<p>Both siteaccesses must have a file called "site.ini.append.php".</p><a name="eztoc121874_3_1_1" id="eztoc121874_3_1_1"></a><h4>The public siteaccess</h4><p>The following text shows a generic solution for the "example" siteaccess:</p><pre class="wordwrap copytoclipboard"><span class="line">&lt;?php /* #?ini charset="utf-8"?</span>
<span class="line"> </span>
<span class="line">[SiteSettings]</span>
<span class="line">SiteName=Example</span>
<span class="line">SiteURL=www.example.com</span>
<span class="line">LoginPage=embedded</span>
<span class="line"> </span>
<span class="line">[SiteAccessSettings]</span>
<span class="line">RequireUserLogin=false</span>
<span class="line">ShowHiddenNodes=false</span>
<span class="line"> </span>
<span class="line">[DesignSettings]</span>
<span class="line">SiteDesign=example</span>
<span class="line"> </span>
<span class="line">[ContentSettings]</span>
<span class="line">ViewCaching=disabled</span>
<span class="line"> </span>
<span class="line">[TemplateSettings]</span>
<span class="line">TemplateCache=disabled</span>
<span class="line">TemplateCompile=disabled</span>
<span class="line">#ShowXHTMLCode=enabled</span>
<span class="line">#Debug=enabled</span>
<span class="line"> </span>
<span class="line">[DebugSettings]</span>
<span class="line">DebugOutput=enabled</span>
<span class="line">Debug=inline</span>
<span class="line">#DebugRedirection=enabled</span>
<span class="line"> </span>
<span class="line">[RegionalSettings]</span>
<span class="line">SiteLanguageList[]</span>
<span class="line">SiteLanguageList[]=eng-GB</span>
<span class="line">ShowUntranslatedObjects=disabled</span>
<span class="line"> </span>
<span class="line">*/ ?&gt;</span>
</pre><!--[if IE]>
<p class="copytoclipboard"><img src="/extension/ezdoc/design/doc/images/copytoclipboard.gif" height="16" width="16" alt="Copy to clipboard" title="Copy to clipboard" onclick="window.clipboardData.setData( 'text', '&lt;?php /* #?ini charset=&quot;utf-8&quot;?\r\n\r\n[SiteSettings]\r\nSiteName=Example\r\nSiteURL=www.example.com\r\nLoginPage=embedded\r\n\r\n[SiteAccessSettings]\r\nRequireUserLogin=false\r\nShowHiddenNodes=false\r\n\r\n[DesignSettings]\r\nSiteDesign=example\r\n\r\n[ContentSettings]\r\nViewCaching=disabled\r\n\r\n[TemplateSettings]\r\nTemplateCache=disabled\r\nTemplateCompile=disabled\r\n#ShowXHTMLCode=enabled\r\n#Debug=enabled\r\n\r\n[DebugSettings]\r\nDebugOutput=enabled\r\nDebug=inline\r\n#DebugRedirection=enabled\r\n\r\n[RegionalSettings]\r\nSiteLanguageList[]\r\nSiteLanguageList[]=eng-GB\r\nShowUntranslatedObjects=disabled\r\n\r\n*/ ?&gt;' ); return false;" /></p>
<![endif]--><a name="eztoc121874_3_1_2" id="eztoc121874_3_1_2"></a><h4>The admin siteaccess</h4><p>The following text shows a generic solution for the "example_admin" siteaccess:</p><pre class="wordwrap copytoclipboard"><span class="line">&lt;?php /* #?ini charset="utf-8"?</span>
<span class="line"> </span>
<span class="line">[SiteSettings]</span>
<span class="line">SiteName=Example</span>
<span class="line">SiteURL=admin.example.com</span>
<span class="line">LoginPage=custom</span>
<span class="line"> </span>
<span class="line">[SiteAccessSettings]</span>
<span class="line">RequireUserLogin=true</span>
<span class="line">ShowHiddenNodes=true</span>
<span class="line"> </span>
<span class="line">[DesignSettings]</span>
<span class="line">SiteDesign=admin</span>
<span class="line"> </span>
<span class="line">[ContentSettings]</span>
<span class="line">CachedViewPreferences[full]=admin_navigation_content=0;admin_navigation_details=0;admin_navigation_languages=0;admin_navigation_locations=</span>
<span class="line">0;admin_navigation_relations=0;admin_navigation_roles=0;admin_navigation_policies=0;admin_navigation_content=0;admin_navigation_translatio</span>
<span class="line">ns=0;admin_children_viewmode=list;admin_list_limit=1;admin_edit_show_locations=0;admin_url_list_limit=10;admin_url_view_limit=10;admin_sec</span>
<span class="line">tion_list_limit=1;admin_orderlist_sortfield=user_name;admin_orderlist_sortorder=desc;admin_search_stats_limit=1;admin_treemenu=1;admin_boo</span>
<span class="line">kmarkmenu=1;admin_left_menu_width=13</span>
<span class="line"> </span>
<span class="line">[DebugSettings]</span>
<span class="line">DebugOutput=disabled</span>
<span class="line">Debug=inline</span>
<span class="line"> </span>
<span class="line">[RegionalSettings]</span>
<span class="line">SiteLanguageList[]</span>
<span class="line">SiteLanguageList[]=eng-GB</span>
<span class="line">ShowUntranslatedObjects=enabled</span>
<span class="line"> </span>
<span class="line">*/ ?&gt;</span>
</pre><!--[if IE]>
<p class="copytoclipboard"><img src="/extension/ezdoc/design/doc/images/copytoclipboard.gif" height="16" width="16" alt="Copy to clipboard" title="Copy to clipboard" onclick="window.clipboardData.setData( 'text', '&lt;?php /* #?ini charset=&quot;utf-8&quot;?\r\n\r\n[SiteSettings]\r\nSiteName=Example\r\nSiteURL=admin.example.com\r\nLoginPage=custom\r\n\r\n[SiteAccessSettings]\r\nRequireUserLogin=true\r\nShowHiddenNodes=true\r\n\r\n[DesignSettings]\r\nSiteDesign=admin\r\n\r\n[ContentSettings]\r\nCachedViewPreferences[full]=admin_navigation_content=0;admin_navigation_details=0;admin_navigation_languages=0;admin_navigation_locations=\r\n0;admin_navigation_relations=0;admin_navigation_roles=0;admin_navigation_policies=0;admin_navigation_content=0;admin_navigation_translatio\r\nns=0;admin_children_viewmode=list;admin_list_limit=1;admin_edit_show_locations=0;admin_url_list_limit=10;admin_url_view_limit=10;admin_sec\r\ntion_list_limit=1;admin_orderlist_sortfield=user_name;admin_orderlist_sortorder=desc;admin_search_stats_limit=1;admin_treemenu=1;admin_boo\r\nkmarkmenu=1;admin_left_menu_width=13\r\n\r\n[DebugSettings]\r\nDebugOutput=disabled\r\nDebug=inline\r\n\r\n[RegionalSettings]\r\nSiteLanguageList[]\r\nSiteLanguageList[]=eng-GB\r\nShowUntranslatedObjects=enabled\r\n\r\n*/ ?&gt;' ); return false;" /></p>
<![endif]--><p>Note that database settings, mail settings, regional and other settings defined in "settings/override/site.ini.append.php" will be used for each siteaccess regardless of what is specified in the siteaccess settings. In the example above, the "Database=my_database" is specified under the "[DatabaseSettings]" section of this file so this database will be used for both "example" and "example_admin" siteaccesses. Refer to the "<a href="../../../4.x/Concepts-and-basics/Configuration/Site-management.html" target="_self">Site management</a>" and "<a href="../../../4.x/Concepts-and-basics/Configuration.html" target="_self">Configuration</a>" sections of the "Concepts and basics" chapter for more information.</p><a name="eztoc121874_4" id="eztoc121874_4"></a><h2>Unicode support</h2><p>There is no need to override the "i18n.ini" configuration file since Unicode support is enabled by default in eZ Publish 4.</p><a name="eztoc121874_5" id="eztoc121874_5"></a><h2>Languages</h2><p>Available languages and their priorities can be controlled per siteaccess using the "<a href="../../../4.x/Reference/Configuration-files/site.ini/RegionalSettings/SiteLanguageList.html" target="_self">SiteLanguageList</a>" configuration setting located under the "[RegionalSettings]" section of the siteaccess "site.ini.append.php" file. If this setting is not specified, the system will use the old "<a href="../../../4.x/Reference/Configuration-files/site.ini/RegionalSettings/ContentObjectLocale.html" target="_self">ContentObjectLocale</a>" setting and thus only the <a href="Manual-configuration-of-eZ-Publish.html#default_language" target="_self">default language</a> will be shown. Refer to the "<a href="https://doc.ez.no/" target="_self">Configuring the site languages</a>" section for more information and examples.</p><p>The "cleandata.sql" script creates only one language which is the British English (eng-GB). All other languages should be added using the "Setup - Languages" part of the administration interface (http://admin.example.com in the example above).</p><a name="eztoc121874_6" id="eztoc121874_6"></a><h2>Dynamic tree menu</h2><p>If you have a large site with many nodes, it is strongly recommended to enable the "<a href="../../../4.x/Reference/Configuration-files/contentstructuremenu.ini/TreeMenu/Dynamic.html" target="_self">Dynamic</a>" switch for your administration siteaccess. This will make the left tree menu in the administration interface work much faster and decrease the usage of network bandwidth.</p><a name="eztoc121874_7" id="eztoc121874_7"></a><h2>Administrator's log-in and password</h2><p>The following user name and password are set by the "cleandata.sql" script and can be used for logging in to the administration interface.</p>
<ul>
<li><div>User name: admin </div></li><li><div>Password: publish </div></li>
</ul>
<p>It is strongly recommended to change this password as soon as possible. Note that if you need another user name for site administrator, you can create a new administrator user, log in as this user and remove the old one.</p>

<div class="break"></div><div class="pageinfo float-break">
<div class="created">


<p><label>Written by:</label>Balazs Halasy (14/09/2010 8:38 am)</p>
</div>
<div class="modified">
<p><label>Last updated by:</label>Geir Arne Waaler (20/01/2012 12:28 pm)</p>
</div><div class="authors">
<p><label>Maintainers:</label>Svitlana Shatokhina, Geir Arne Waaler</p>
</div></div>
<hr class="hide">

</div>
</div>
</div>

<div id="comments" class="class-comment">
<div class="content-view-children">

<h1>Comments</h1>
<div id="comments-content">
<ul>    <li class="comment-bglight"><div class="padding">
    <div class="content-view-line">
<div class="class-comment">

<div>

<div id="comment24867" class="attribute-heading">
<h2>Some other INI files</h2>
</div>

<div class="attribute-byline float-break">
    <p class="date">Friday 04 August 2006 7:43:04 am</p>
    <p class="author">Kristof Coomans</p>
</div>

<div class="attribute-short">
When you use the setup wizard and use the plain site package, some other INI files than site.ini are initialized as well.<br>
<br>
This documentation page should list them all, especially for the admin site access (toolbar.ini, icon.ini, ...).
</div>




     


</div>


</div>
</div>    </div></li>    <li class="comment-bgdark"><div class="padding">
    <div class="content-view-line">
<div class="class-comment">

<div>

<div id="comment24868" class="attribute-heading">
<h2>Wrong file permissions</h2>
</div>

<div class="attribute-byline float-break">
    <p class="date">Saturday 01 November 2008 8:00:28 pm</p>
    <p class="author">meinhard benn</p>
</div>

<div class="attribute-short">
Making files executable and writable by the web server as suggested above is a potential security risk.<br>
<br>
Instead of<br>
<pre class="wordwrap"><span class="line"># chmod -R 770 var/ settings/ design/ autoload/</span>
</pre><br>
I suggest to use set rights for files and directories separately, and give less permissions to group:<br>
<br>
<pre class="wordwrap"><span class="line"># find var/ settings/ design/ autoload/ -type d | xargs chmod 750</span>
<span class="line"># find var/ settings/ design/ autoload/ -type f | xargs chmod 640</span>
</pre><br>

</div>




     


</div>

<ul>    <li class="comment-bglight"><div class="padding">
    <div class="content-view-line">
<div class="class-comment">

<div>

<div id="comment24869" class="attribute-heading">
<h2>Re: Wrong file permissions</h2>
</div>

<div class="attribute-byline float-break">
    <p class="date">Wednesday 21 April 2010 4:49:12 pm</p>
    <p class="author">Francesco R.</p>
</div>

<div class="attribute-short">
So, the definitive secure solution as to file permission is meinhard benn's solution?<br>
<br>
But, anyhow, by giving ownership to the webserver user and his group means anytime a developer needs to access a file he'll need to work as root?  ...mmhhh<br>
 
</div>




     


</div>


</div>
</div>    </div></li></ul>
</div>
</div>    </div></li></ul>
</div>
<div class="toolbar">


</div>

</div>
</div>

</div>
<!-- Main area content: END -->

</div>
</div>
<!-- Main area: END -->
<hr class="hide">

</div></div></div>



</div>
<!-- Complete page area: END -->











</body>
</html><!-- th[eZ] 20050804 -->
