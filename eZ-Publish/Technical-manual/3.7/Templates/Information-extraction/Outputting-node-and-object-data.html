<!DOCTYPE html>
<html lang="en-US">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">


<style type="text/css">
    @import url(../../../../../extension/ezdoc/design/doc/stylesheets/core.css);
    @import url(../../../../../extension/ezdoc/design/doc/stylesheets/classes.css);
    @import url(../../../../../extension/ezdoc/design/doc/stylesheets/doc.css);
    @import url(../../../../../extension/ezdoc/design/doc/stylesheets/print.css) print;</style>

<link type="text/css" rel="stylesheet" href="../../../../../extension/ezdoc/design/doc/stylesheets/print.css" media="print">

<!-- IE conditional comments; for bug fixes for different IE versions -->
<!--[if IE 5]>     <style type="text/css"> @import url(/extension/ezdoc/design/doc/stylesheets/ie5.css);    </style>     <![endif]-->
<!--[if lte IE 6]> <style type="text/css"> @import url(/extension/ezdoc/design/doc/stylesheets/ie6lte.css); </style>     <![endif]-->
<!--[if lte IE 6]> <style type="text/css"> @import url(/extension/ezdoc/design/doc/stylesheets/ie6lte-doc.css); </style> <![endif]-->
<!--[if IE 6]>     <style type="text/css"> @import url(/extension/ezdoc/design/doc/stylesheets/ie6.css);    </style>     <![endif]-->

<!-- Load special stylesheet (if necessary) for newer Netscape decendants, Mozilla and Firefox, using the Gecko renderer -->
<script type="text/javascript"><!-- if ((navigator.userAgent.indexOf("Gecko") != -1)&&(navigator.userAgent.indexOf("KHTML") == -1)) document.write("<style type=\"text/css\">@import url(/extension/ezdoc/design/doc/stylesheets/gecko.css);</style>"); --></script>

<script type="text/javascript" src="../../../../../extension/ezdoc/design/doc/javascripts/mainmenu-hover.js"></script>
<script type="text/javascript" src="../../../../../extension/ezdoc/design/doc/javascripts/dropdownmenu.js"></script>
<script type="text/javascript" src="../../../../../extension/ezdoc/design/doc/javascripts/ezno-searchbox.js"></script>
                                                    
    <title>Outputting node and object data / Information extraction / Templates / 3.7 / Technical manual / eZ Publish / Documentation - Doc</title>

    
    
    
            <meta http-equiv="Content-Type" content="text/html; charset=utf-8">

            <meta http-equiv="Content-language" content="en-GB">

    
                <meta name="author" content="eZ systems">
                    <meta name="copyright" content="eZ systems">
                    <meta name="description" content="eZ Publish Documentation">
                    <meta name="keywords" content="eZ Publish, documentation, manual, reference, eZ systems">
        
    <meta name="generator" content="eZ Publish">
    <link rel="Home" href="https://doc.ez.no/" title="Doc front page">
<link rel="Search" href="https://doc.ez.no/content/advancedsearch" title="Search Doc">
<link rel="Shortcut icon" href="../../../../../extension/ezdoc/design/doc/images/favicon.ico" type="image/x-icon">

</head>
<body onload="initDocSearch();menuInit();">

<!-- Complete page area: START -->
<div id="page">


<div><a href="https://www.ibexa.co"><img class="logotype" width="100" height="50" src="https://ezpublishdoc.mugo.ca/design/standard/images/ibexa_logo.svg" alt="ibexa"></a></div>
<div id="page-content-position"><div id="page-content-position-inner"><div id="page-content">

<!-- Path area: START -->
<div id="path">

<div id="page-width4">
<h2 class="hide">Path</h2>

<!-- Path content: START -->
<p><a href="../index.html">ez publish</a>
        
                        /
                            <a href="../../../../Technical-manual.html">technical manual</a>
        
                        /
                            <a href="../../../3.7.html">3.7</a>
        
                        /
                            <a href="../../Templates.html">templates</a>
        
                        /
                            <a href="../Information-extraction.html">information extraction</a>
        
                        /
                            outputting node and object...
        
            </p>
<!-- Path content: END -->

</div>

</div>
<!-- Path area: END -->

<hr class="hide">

<!-- Main area: START -->
                                    <div id="ezp5disclaimer">
                <p><strong style="color: red">Caution:</strong> This documentation is for <strong>eZ Publish</strong> <em>legacy</em>, from version 3.x to 5.x.<br></p>
            </div>
            
<div id="page-width5">
<div id="main" class="float-break">


<div class="template-design area-docmenu-normal">
<div class="template-module">
<div class="template-object">
<div id="contentmenu">
                        <div class="attribute-heading"><h2 class="bullet"><a href="../../../3.7.html">Table of contents</a></h2></div>
<div class="boxcontent">

<map id="contentstructure">

    
                                                                        
            <ul>
	    
                                                        
                                    
            
                                
                                                    
	<li class="topchapter">
	    <div>
	    
	    

	    
	    
	    
	    			    	    
	    
	    		<a class="nodetext" href="../../Installation.html" title="">
	    	    		                    		    <span class="node-name-normal">Installation</span>
                    			    	    		</a>
			           </div>
        
                                    </li>
            
                                
                                                    
	<li class="topchapter">
	    <div>
	    
	    

	    
	    
	    
	    			    	    
	    
	    		<a class="nodetext" href="../../Concepts-and-basics.html" title="">
	    	    		                    		    <span class="node-name-normal">Concepts and basics</span>
                    			    	    		</a>
			           </div>
        
                                    </li>
            
                                
                                                    
	<li class="topchapter-selected  ">
	    <div>
	    
	    

	    
	    
	    
	    			    	    
	    
	    		<a class="nodetext" href="../../Templates.html" title="">
	    	    		                    		    <span class="node-name-normal">Templates</span>
                    			    	    		</a>
			           </div>
        
            <ul>
	    
                                                    
	<li>
	    <div>
	    
	    

	    
	    
	    
	    			    	    
	    
	    		<a class="nodetext" href="../Template-basics.html" title="">
	    	    		                    		    <span class="node-name-normal">Template basics</span>
                    			    	    		</a>
			           </div>
        
            <ul>
	    
                                                    
	<li>
	    <div>
	    
	    

	    
	    
	    
	    			    	    
	    
	    		<a class="nodetext" href="../Template-basics/Node-templates.html" title="">
	    	    		                    		    <span class="node-name-normal">Node templates</span>
                    			    	    		</a>
			           </div>
        
                                    </li>
            
                                
                                                    
	<li class="last">
	    <div>
	    
	    

	    
	    
	    
	    			    	    
	    
	    		<a class="nodetext" href="../Template-basics/System-templates.html" title="">
	    	    		                    		    <span class="node-name-normal">System templates</span>
                    			    	    		</a>
			           </div>
        
                                    </li>
            
                                            </ul>
                                        </li>
            
                                
                                                    
	<li>
	    <div>
	    
	    

	    
	    
	    
	    			    	    
	    
	    		<a class="nodetext" href="../The-pagelayout.html" title="">
	    	    		                    		    <span class="node-name-normal">The pagelayout</span>
                    			    	    		</a>
			           </div>
        
            <ul>
	    
                                                    
	<li>
	    <div>
	    
	    

	    
	    
	    
	    			    	    
	    
	    		<a class="nodetext" href="../The-pagelayout/The-page-head.html" title="">
	    	    		                    		    <span class="node-name-normal">The page head</span>
                    			    	    		</a>
			           </div>
        
                                    </li>
            
                                
                                                    
	<li class="last">
	    <div>
	    
	    

	    
	    
	    
	    			    	    
	    
	    		<a class="nodetext" href="../The-pagelayout/Variables-in-pagelayout.html" title="">
	    	    		                    		    <span class="node-name-normal">Variables in pagelayout</span>
                    			    	    		</a>
			           </div>
        
                                    </li>
            
                                            </ul>
                                        </li>
            
                                
                                                    
	<li>
	    <div>
	    
	    

	    
	    
	    
	    			    	    
	    
	    		<a class="nodetext" href="../The-template-language.html" title="">
	    	    		                    		    <span class="node-name-normal">The template language</span>
                    			    	    		</a>
			           </div>
        
            <ul>
	    
                                                    
	<li>
	    <div>
	    
	    

	    
	    
	    
	    			    	    
	    
	    		<a class="nodetext" href="../The-template-language/Comments.html" title="">
	    	    		                    		    <span class="node-name-normal">Comments</span>
                    			    	    		</a>
			           </div>
        
                                    </li>
            
                                
                                                    
	<li>
	    <div>
	    
	    

	    
	    
	    
	    			    	    
	    
	    		<a class="nodetext" href="../The-template-language/Variable-types.html" title="">
	    	    		                    		    <span class="node-name-normal">Variable types</span>
                    			    	    		</a>
			           </div>
        
                                    </li>
            
                                
                                                    
	<li>
	    <div>
	    
	    

	    
	    
	    
	    			    	    
	    
	    		<a class="nodetext" href="../The-template-language/Variable-usage.html" title="">
	    	    		                    		    <span class="node-name-normal">Variable usage</span>
                    			    	    		</a>
			           </div>
        
                                    </li>
            
                                
                                                    
	<li>
	    <div>
	    
	    

	    
	    
	    
	    			    	    
	    
	    		<a class="nodetext" href="../The-template-language/Array-and-object-inspection.html" title="">
	    	    		                    		    <span class="node-name-normal">Array and object inspection</span>
                    			    	    		</a>
			           </div>
        
                                    </li>
            
                                
                                                    
	<li>
	    <div>
	    
	    

	    
	    
	    
	    			    	    
	    
	    		<a class="nodetext" href="../The-template-language/Control-structures.html" title="">
	    	    		                    		    <span class="node-name-normal">Control structures</span>
                    			    	    		</a>
			           </div>
        
                                    </li>
            
                                
                                                    
	<li class="last">
	    <div>
	    
	    

	    
	    
	    
	    			    	    
	    
	    		<a class="nodetext" href="../The-template-language/Functions-and-operators.html" title="">
	    	    		                    		    <span class="node-name-normal">Functions and operators</span>
                    			    	    		</a>
			           </div>
        
                                    </li>
            
                                            </ul>
                                        </li>
            
                                
                                                    
	<li>
	    <div>
	    
	    

	    
	    
	    
	    			    	    
	    
	    		<a class="nodetext" href="../Basic-template-tasks.html" title="">
	    	    		                    		    <span class="node-name-normal">Basic template tasks</span>
                    			    	    		</a>
			           </div>
        
            <ul>
	    
                                                    
	<li class="last">
	    <div>
	    
	    

	    
	    
	    
	    			    	    
	    
	    		<a class="nodetext" href="../Basic-template-tasks/URL-handling.html" title="">
	    	    		                    		    <span class="node-name-normal">URL handling</span>
                    			    	    		</a>
			           </div>
        
                                    </li>
            
                                            </ul>
                                        </li>
            
                                
                                                    
	<li>
	    <div>
	    
	    

	    
	    
	    
	    			    	    
	    
	    		<a class="nodetext" href="../Information-extraction.html" title="">
	    	    		                    		    <span class="node-name-normal">Information extraction</span>
                    			    	    		</a>
			           </div>
        
            <ul>
	    
                                                    
	<li class="last currentnode">
	    <div>
	    
	    

	    
	    
	    
	    			    	    
	    
	    		<a class="nodetext" href="Outputting-node-and-object-data.html" title="">
	    	    		                    		    <span class="node-name-normal">Outputting node and object data</span>
                    			    	    		</a>
			           </div>
        
                                    </li>
            
                                            </ul>
                                        </li>
            
                                
                                                    
	<li class="last">
	    <div>
	    
	    

	    
	    
	    
	    			    	    
	    
	    		<a class="nodetext" href="../The-template-override-system.html" title="">
	    	    		                    		    <span class="node-name-normal">The template override system</span>
                    			    	    		</a>
			           </div>
        
            <ul>
	    
                                                    
	<li class="last">
	    <div>
	    
	    

	    
	    
	    
	    			    	    
	    
	    		<a class="nodetext" href="../The-template-override-system/Template-override-example.html" title="">
	    	    		                    		    <span class="node-name-normal">Template override example</span>
                    			    	    		</a>
			           </div>
        
                                    </li>
            
                                            </ul>
                                        </li>
            
                                            </ul>
                                        </li>
            
                                
                                                    
	<li class="topchapter">
	    <div>
	    
	    

	    
	    
	    
	    			    	    
	    
	    		<a class="nodetext" href="../../Features.html" title="">
	    	    		                    		    <span class="node-name-normal">Features</span>
                    			    	    		</a>
			           </div>
        
                                    </li>
            
                                
                                                    
	<li class="topchapter">
	    <div>
	    
	    

	    
	    
	    
	    			    	    
	    
	    		<a class="nodetext" href="../../Reference.html" title="">
	    	    		                    		    <span class="node-name-normal">Reference</span>
                    			    	    		</a>
			           </div>
        
                                    </li>
            
                                            </ul>
                        
            
</map>

</div>            
</div>
</div>
</div>
</div>
<div class="area-docmain-normal">
<div class="template-design">
<div class="template-module content-view-full">
<div class="template-object">

<div class="attribute-heading">
<h1>Outputting node and object data</h1>
</div>

 <p>Once an <a href="../../Reference/Objects/ezcontentobjecttreenode.html" target="_self">"ezcontentobjecttreenode"</a> object representing a node is available in a template variable, it can be used to output information about the node and the contents of the object that the node encapsulates. The following text demonstrates the extraction of the most common elements.</p>  <a name="eztoc16778_1" id="eztoc16778_1"></a><h2>General information</h2>  <a name="eztoc16778_1_1" id="eztoc16778_1_1"></a><h3>The name of the object</h3> <pre class="wordwrap"><span class="line">{$node.name|wash}</span>
</pre> <p>The name of the object is directly available through the node (in other words it is possible to reach it by $node.name instead of $node.object.name). The <a href="../../Reference/Template-operators/Strings/wash.html" target="_self">"wash"</a> operator is used for making sure that the output doesn't contain any bogus characters and/or sequences that may mess up the HTML.</p>   <a name="eztoc16778_1_2" id="eztoc16778_1_2"></a><h3>The date/time when the object was first published</h3> <pre class="wordwrap"><span class="line">{$node.object.published|l10n( 'shortdatetime' )}</span>
</pre> <p>Since the publishing value is stored as a UNIX timestamp, it must be properly formatted for output. This can be done by using the <a href="../../Reference/Template-operators/Formatting-and-internationalization/l10n.html" target="_self">"l10n"</a> operator, which makes it possible to format different types of values according to the current locale settings.</p>   <a name="eztoc16778_1_3" id="eztoc16778_1_3"></a><h3>The date/time when the object was last modified</h3> <pre class="wordwrap"><span class="line">{$node.object.modified|l10n( 'shortdatetime' )}</span>
</pre> <p>Since the modification value is stored as a UNIX timestamp, it must be properly formatted for output. This can be done by using the <a href="../../Reference/Template-operators/Formatting-and-internationalization/l10n.html" target="_self">"l10n"</a> operator, which makes it possible to format different types of values according to the current locale settings.</p>   <a name="eztoc16778_1_4" id="eztoc16778_1_4"></a><h3>The name of the user who initially created the object</h3> <pre class="wordwrap"><span class="line">{$node.object.owner.name|wash}</span>
</pre>   <a name="eztoc16778_1_5" id="eztoc16778_1_5"></a><h3>The name of the user who last modified the object</h3> <pre class="wordwrap"><span class="line">{$node.object.current.creator.name|wash()}</span>
</pre>   <a name="eztoc16778_1_6" id="eztoc16778_1_6"></a><h3>The name of the class which the object is an instance of</h3> <pre class="wordwrap"><span class="line">{$node.object.class_name|wash()}</span>
</pre>    <a name="eztoc16778_2" id="eztoc16778_2"></a><h2>Object attributes</h2> <p>The attributes of the object can be reached by the way of the "data_map" method. This method returns an associative array of <a href="../../Reference/Objects/ezcontentobjectattribute.html" target="_self">"ezcontentobjectattribute"</a> objects where each object represents one of the attributes. The keys of the array are the class attribute identifiers. The following example demonstrates how an attribute called "first_name" can be reached using the object's data map.</p> <pre class="wordwrap"><span class="line">{$node.object.data_map.first_name}</span>
</pre> <p>The example above will not produce any valuable output because the requested data needs to be formatted. There are two ways of outputting the contents of attributes:</p> 
<ul>
 <li><div> Raw output (the ".output" extension) </div></li> <li><div> Formatted output (the "attribute_view_gui" function) </div></li> 
</ul>
 <p>The main difference between raw and formatted output is that formatted output makes use of a template which in turn outputs the requested data. Raw output simply outputs the data within the same template where the request for output was issued. Output should always be presented through the <a href="../../Reference/Template-functions/Visualization/attribute_view_gui.html" target="_self">"attribute_view_gui"</a> function. The raw output method should only be used when/if necessary (for example when checking the value of an attribute using an IF statement).</p>  <a name="eztoc16778_2_7" id="eztoc16778_2_7"></a><h3>Raw output</h3> <p>Raw output is exactly what the definition indicates: a raw dump of the contents that are stored by the attribute. The actual syntax depends on the datatype that represents the attribute. In most cases, it is possible to generate the output by appending ".output" to the identifier.</p>  <a name="eztoc16778_2_7_1" id="eztoc16778_2_7_1"></a><h4>Generic solution</h4> <p>The following example demonstrates how to output the contents of an attribute called "my_attribute".</p><pre class="wordwrap"><span class="line">{$node.object.data_map.my_attribute.content}</span>
</pre>   <a name="eztoc16778_2_7_2" id="eztoc16778_2_7_2"></a><h4>XML block</h4> <p>The following example demonstrates how to output the contents of an XML block called "my_xml".</p><pre class="wordwrap"><span class="line">{$node.object.data_map.my_xml.content.output.output_text}</span>
</pre>   <a name="eztoc16778_2_7_3" id="eztoc16778_2_7_3"></a><h4>Image</h4> <p>The following example demonstrates how to output an image stored by an attribute called "my_image".</p><pre class="wordwrap"><span class="line">&lt;img src="{$node.object.data_map.my_image.content[image_size].full_path}" ... /&gt;</span>
</pre>    <a name="eztoc16778_2_8" id="eztoc16778_2_8"></a><h3>Formatted output</h3> <p>Each datatype has a set of templates which are used to display the contents in different contexts. There are at least two templates for each datatype: a view template and an edit template. While the view template is used to display information, the edit template is used when the data is being edited. The default templates for the datatypes are located within the standard design: "/design/standard/templates/content/datatype".</p> <p>The <a href="../../Reference/Template-functions/Visualization/attribute_view_gui.html" target="_self">"attribute_view_gui"</a> function makes it possible to display the contents of an attribute by inserting the view template of the datatype that the attribute uses. The following example demonstrates how this function can be used.</p> <pre class="wordwrap"><span class="line">{attribute_view_gui attribute=$node.object.data_map.name_of_any_attribute}</span>
</pre> <p>The example above will generate proper output for any attribute (regardless of the datatype).</p>  

<div class="break"></div><div class="pageinfo float-break">
<div class="created">


<p><label>Written by:</label>Balazs Halasy (16/02/2005 10:41 am)</p>
</div>
<div class="modified">
<p><label>Last updated by:</label>Balazs Halasy (06/06/2005 11:10 am)</p>
</div></div>
<hr class="hide">

</div>
</div>
</div>

<div id="comments" class="class-comment">
<div class="content-view-children">

<h1>Comments</h1>
<div id="comments-content">
<ul>    <li class="comment-bglight"><div class="padding">
    <div class="content-view-line">
<div class="class-comment">

<div>

<div id="comment2940" class="attribute-heading">
<h2>node display</h2>
</div>

<div class="attribute-byline float-break">
    <p class="date">Friday 11 November 2005 9:54:37 am</p>
    <p class="author">heiner</p>
</div>

<div class="attribute-short">
to display the values of the node variable: <br>
<pre class="wordwrap"><span class="line">{$node|attribute(show,2)}</span>
</pre>
</div>




     


</div>


</div>
</div>    </div></li>    <li class="comment-bgdark"><div class="padding">
    <div class="content-view-line">
<div class="class-comment">

<div>

<div id="comment2941" class="attribute-heading">
<h2>For an speed boost and lowering number of fetches / sql quries</h2>
</div>

<div class="attribute-byline float-break">
    <p class="date">Thursday 12 January 2006 9:54:53 am</p>
    <p class="author">AtR</p>
</div>

<div class="attribute-short">
If you need to display some information about the children or grand children in the node template this is possible with $node.children and $node.children.0.children (if any children exist this will loop thru any children of your first child)<br>
To loop thru children:<br>
<br>
<pre class="wordwrap"><span class="line">&lt;table&gt;</span>
<span class="line">{foreach $node.children as $nodechild}</span>
<span class="line">   &lt;tr&gt;</span>
<span class="line">    &lt;td&gt;&lt;a href={$nodechild.url_alias|ezurl}&gt;{$nodechild.name}&lt;/a&gt;&lt;/td&gt;</span>
<span class="line">    &lt;td&gt;{$nodechild.node_id}&lt;/td&gt;</span>
<span class="line">  &lt;/tr&gt;</span>
<span class="line">{/foreach}</span>
<span class="line">&lt;/table&gt;</span>
</pre><br>
<br>
The same thing can be done with parents: $node.parent<br>
<br>
Remember to only use $node in node templates and not in your pagelayout file.<br>
Because it&amp;#8217;s not available on cached pages (ViewCaching).
</div>




     


</div>

<ul>    <li class="comment-bglight"><div class="padding">
    <div class="content-view-line">
<div class="class-comment">

<div>

<div id="comment2942" class="attribute-heading">
<h2>Re: For an speed boost and lowering number of fetches / sql quries</h2>
</div>

<div class="attribute-byline float-break">
    <p class="date">Thursday 12 January 2006 10:23:13 am</p>
    <p class="author">AtR</p>
</div>

<div class="attribute-short">
correction:<br>
<pre class="wordwrap"><span class="line">{foreach $node.children as $nodechild}</span>
<span class="line">  {$nodechild.url_alias|ezurl}</span>
<span class="line">  {$nodechild.name}</span>
<span class="line">  {$nodechild.node_id}</span>
<span class="line">{/foreach}</span>
</pre>
</div>




     


</div>


</div>
</div>    </div></li></ul>
</div>
</div>    </div></li></ul>
</div>
<div class="toolbar">


</div>

</div>
</div>

</div>
<!-- Main area content: END -->

</div>
</div>
<!-- Main area: END -->
<hr class="hide">

</div></div></div>



</div>
<!-- Complete page area: END -->











</body>
</html><!-- th[eZ] 20050804 -->
