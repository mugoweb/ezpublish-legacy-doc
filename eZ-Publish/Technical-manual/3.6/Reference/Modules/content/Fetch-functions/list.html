<!DOCTYPE html>
<html lang="en-US">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">


<style type="text/css">
    @import url(../../../../../../../extension/ezdoc/design/doc/stylesheets/core.css);
    @import url(../../../../../../../extension/ezdoc/design/doc/stylesheets/classes.css);
    @import url(../../../../../../../extension/ezdoc/design/doc/stylesheets/doc.css);
    @import url(../../../../../../../extension/ezdoc/design/doc/stylesheets/print.css) print;</style>

<link type="text/css" rel="stylesheet" href="../../../../../../../extension/ezdoc/design/doc/stylesheets/print.css" media="print">

<!-- IE conditional comments; for bug fixes for different IE versions -->
<!--[if IE 5]>     <style type="text/css"> @import url(/extension/ezdoc/design/doc/stylesheets/ie5.css);    </style>     <![endif]-->
<!--[if lte IE 6]> <style type="text/css"> @import url(/extension/ezdoc/design/doc/stylesheets/ie6lte.css); </style>     <![endif]-->
<!--[if lte IE 6]> <style type="text/css"> @import url(/extension/ezdoc/design/doc/stylesheets/ie6lte-doc.css); </style> <![endif]-->
<!--[if IE 6]>     <style type="text/css"> @import url(/extension/ezdoc/design/doc/stylesheets/ie6.css);    </style>     <![endif]-->

<!-- Load special stylesheet (if necessary) for newer Netscape decendants, Mozilla and Firefox, using the Gecko renderer -->
<script type="text/javascript"><!-- if ((navigator.userAgent.indexOf("Gecko") != -1)&&(navigator.userAgent.indexOf("KHTML") == -1)) document.write("<style type=\"text/css\">@import url(/extension/ezdoc/design/doc/stylesheets/gecko.css);</style>"); --></script>

<script type="text/javascript" src="../../../../../../../extension/ezdoc/design/doc/javascripts/mainmenu-hover.js"></script>
<script type="text/javascript" src="../../../../../../../extension/ezdoc/design/doc/javascripts/dropdownmenu.js"></script>
<script type="text/javascript" src="../../../../../../../extension/ezdoc/design/doc/javascripts/ezno-searchbox.js"></script>
                                                                
    <title>list / Fetch functions / content / Modules / Reference / 3.6 / Technical manual / eZ Publish / Documentation - Doc</title>

    
    
    
            <meta http-equiv="Content-Type" content="text/html; charset=utf-8">

            <meta http-equiv="Content-language" content="en-GB">

    
                <meta name="author" content="eZ systems">
                    <meta name="copyright" content="eZ systems">
                    <meta name="description" content="eZ Publish Documentation">
                    <meta name="keywords" content="eZ Publish, documentation, manual, reference, eZ systems">
        
    <meta name="generator" content="eZ Publish">
    <link rel="Home" href="https://doc.ez.no/" title="Doc front page">
<link rel="Search" href="https://doc.ez.no/content/advancedsearch" title="Search Doc">
<link rel="Shortcut icon" href="../../../../../../../extension/ezdoc/design/doc/images/favicon.ico" type="image/x-icon">

</head>
<body onload="initDocSearch();menuInit();">

<!-- Complete page area: START -->
<div id="page">


<div><a href="https://www.ibexa.co"><img class="logotype" width="100" height="50" src="https://ezpublishdoc.mugo.ca/design/standard/images/ibexa_logo.svg" alt="ibexa"></a></div>
<div id="page-content-position"><div id="page-content-position-inner"><div id="page-content">

<!-- Path area: START -->
<div id="path">

<div id="page-width4">
<h2 class="hide">Path</h2>

<!-- Path content: START -->
<p><a href="../index.html">ez publish</a>
        
                        /
                            <a href="../../../../../../Technical-manual.html">technical manual</a>
        
                        /
                            <a href="../../../../../3.6.html">3.6</a>
        
                        /
                            <a href="../../../../Reference.html">reference</a>
        
                        /
                            <a href="../../../Modules.html">modules</a>
        
                        /
                            <a href="../../content.html">content</a>
        
                        /
                            <a href="../Fetch-functions.html">fetch functions</a>
        
                        /
                            list
        
            </p>
<!-- Path content: END -->

</div>

</div>
<!-- Path area: END -->

<hr class="hide">

<!-- Main area: START -->
                                    <div id="ezp5disclaimer">
                <p><strong style="color: red">Caution:</strong> This documentation is for <strong>eZ Publish</strong> <em>legacy</em>, from version 3.x to 5.x.<br></p>
            </div>
            
<div id="page-width5">
<div id="main" class="float-break">


<div class="template-design area-docmenu-normal">
<div class="template-module">
<div class="template-object">
<div id="contentmenu">
                        <div class="attribute-heading"><h2 class="bullet"><a href="../../../../../3.6.html">Table of contents</a></h2></div>
<div class="boxcontent">

<map id="contentstructure">

    
                                                                        
            <ul>
	    
                                                        
                                    
            
                                
                                                    
	<li class="topchapter">
	    <div>
	    
	    

	    
	    
	    
	    			    	    
	    
	    		<a class="nodetext" href="../../../../Installation.html" title="">
	    	    		                    		    <span class="node-name-normal">Installation</span>
                    			    	    		</a>
			           </div>
        
                                    </li>
            
                                
                                                    
	<li class="topchapter">
	    <div>
	    
	    

	    
	    
	    
	    			    	    
	    
	    		<a class="nodetext" href="../../../../Concepts-and-basics.html" title="">
	    	    		                    		    <span class="node-name-normal">Concepts and basics</span>
                    			    	    		</a>
			           </div>
        
                                    </li>
            
                                
                                                    
	<li class="topchapter">
	    <div>
	    
	    

	    
	    
	    
	    			    	    
	    
	    		<a class="nodetext" href="../../../../Templates.html" title="">
	    	    		                    		    <span class="node-name-normal">Templates</span>
                    			    	    		</a>
			           </div>
        
                                    </li>
            
                                
                                                    
	<li class="topchapter">
	    <div>
	    
	    

	    
	    
	    
	    			    	    
	    
	    		<a class="nodetext" href="../../../../Features.html" title="">
	    	    		                    		    <span class="node-name-normal">Features</span>
                    			    	    		</a>
			           </div>
        
                                    </li>
            
                                
                                                    
	<li class="topchapter-selected  ">
	    <div>
	    
	    

	    
	    
	    
	    			    	    
	    
	    		<a class="nodetext" href="../../../../Reference.html" title="">
	    	    		                    		    <span class="node-name-normal">Reference</span>
                    			    	    		</a>
			           </div>
        
            <ul>
	    
                                                    
	<li>
	    <div>
	    
	    

	    
	    
	    
	    			    	    
	    
	    		<a class="nodetext" href="../../../Datatypes.html" title="">
	    	    		                    		    <span class="node-name-normal">Datatypes</span>
                    			    	    		</a>
			           </div>
        
                                    </li>
            
                                
                                                    
	<li>
	    <div>
	    
	    

	    
	    
	    
	    			    	    
	    
	    		<a class="nodetext" href="../../../Content-classes.html" title="">
	    	    		                    		    <span class="node-name-normal">Content classes</span>
                    			    	    		</a>
			           </div>
        
                                    </li>
            
                                
                                                    
	<li>
	    <div>
	    
	    

	    
	    
	    
	    			    	    
	    
	    		<a class="nodetext" href="../../../Modules.html" title="">
	    	    		                    		    <span class="node-name-normal">Modules</span>
                    			    	    		</a>
			           </div>
        
                                    </li>
            
                                
                                                    
	<li>
	    <div>
	    
	    

	    
	    
	    
	    			    	    
	    
	    		<a class="nodetext" href="../../../Views.html" title="">
	    	    		                    		    <span class="node-name-normal">Views</span>
                    			    	    		</a>
			           </div>
        
                                    </li>
            
                                
                                                    
	<li>
	    <div>
	    
	    

	    
	    
	    
	    			    	    
	    
	    		<a class="nodetext" href="../../../Objects.html" title="">
	    	    		                    		    <span class="node-name-normal">Objects</span>
                    			    	    		</a>
			           </div>
        
                                    </li>
            
                                
                                                    
	<li>
	    <div>
	    
	    

	    
	    
	    
	    			    	    
	    
	    		<a class="nodetext" href="../../../Workflow-events.html" title="">
	    	    		                    		    <span class="node-name-normal">Workflow events</span>
                    			    	    		</a>
			           </div>
        
                                    </li>
            
                                
                                                    
	<li>
	    <div>
	    
	    

	    
	    
	    
	    			    	    
	    
	    		<a class="nodetext" href="../../../Template-operators.html" title="">
	    	    		                    		    <span class="node-name-normal">Template operators</span>
                    			    	    		</a>
			           </div>
        
                                    </li>
            
                                
                                                    
	<li>
	    <div>
	    
	    

	    
	    
	    
	    			    	    
	    
	    		<a class="nodetext" href="../../../Template-functions.html" title="">
	    	    		                    		    <span class="node-name-normal">Template functions</span>
                    			    	    		</a>
			           </div>
        
                                    </li>
            
                                
                                                    
	<li>
	    <div>
	    
	    

	    
	    
	    
	    			    	    
	    
	    		<a class="nodetext" href="../../../Template-control-structures.html" title="">
	    	    		                    		    <span class="node-name-normal">Template control structures</span>
                    			    	    		</a>
			           </div>
        
                                    </li>
            
                                
                                                    
	<li>
	    <div>
	    
	    

	    
	    
	    
	    			    	    
	    
	    		<a class="nodetext" href="../../../Template-override-conditions.html" title="">
	    	    		                    		    <span class="node-name-normal">Template override conditions</span>
                    			    	    		</a>
			           </div>
        
                                    </li>
            
                                
                                                    
	<li>
	    <div>
	    
	    

	    
	    
	    
	    			    	    
	    
	    		<a class="nodetext" href="../../../Template-fetch-functions.html" title="">
	    	    		                    		    <span class="node-name-normal">Template fetch functions</span>
                    			    	    		</a>
			           </div>
        
                                    </li>
            
                                
                                                    
	<li>
	    <div>
	    
	    

	    
	    
	    
	    			    	    
	    
	    		<a class="nodetext" href="../../../Template-PDF-functions.html" title="">
	    	    		                    		    <span class="node-name-normal">Template PDF functions</span>
                    			    	    		</a>
			           </div>
        
                                    </li>
            
                                
                                                    
	<li>
	    <div>
	    
	    

	    
	    
	    
	    			    	    
	    
	    		<a class="nodetext" href="../../../Configuration-files.html" title="">
	    	    		                    		    <span class="node-name-normal">Configuration files</span>
                    			    	    		</a>
			           </div>
        
                                    </li>
            
                                
                                                    
	<li>
	    <div>
	    
	    

	    
	    
	    
	    			    	    
	    
	    		<a class="nodetext" href="../../../Libraries.html" title="">
	    	    		                    		    <span class="node-name-normal">Libraries</span>
                    			    	    		</a>
			           </div>
        
                                    </li>
            
                                
                                                    
	<li class="last">
	    <div>
	    
	    

	    
	    
	    
	    			    	    
	    
	    		<a class="nodetext" href="../../../XML-tags.html" title="">
	    	    		                    		    <span class="node-name-normal">XML tags</span>
                    			    	    		</a>
			           </div>
        
                                    </li>
            
                                            </ul>
                                        </li>
            
                                            </ul>
                        
            
</map>

</div>            
</div>
</div>
</div>
</div>
<div class="area-docmain-normal">
<div class="template-design">
<div class="template-module content-view-full">
<div class="template-object">

<div class="attribute-heading">
<h1>list</h1>
</div>
<h3>Summary</h3>
Fetches the children of a node or a collection of nodes.<h3>Usage</h3>
<pre class="wordwrap">
<span class="line">fetch( 'content', 'list',</span>
<span class="line"> hash( 'parent_node_id',            parent_node_id,</span>
<span class="line">     [ 'sort_by',                   sort_by,                   ]</span>
<span class="line">     [ 'offset',                    offset,                    ]</span>
<span class="line">     [ 'limit',                     limit,                     ]</span>
<span class="line">     [ 'attribute_filter',          attribute_filter,          ]</span>
<span class="line">     [ 'extended_attribute_filter', extended_attribute_filter, ]</span>
<span class="line">     [ 'class_filter_type',         class_filter_type,         ]</span>
<span class="line">     [ 'class_filter_array',        class_filter_array,        ]</span>
<span class="line">     [ 'only_translated',           only_translated,           ]</span>
<span class="line">     [ 'language',                  language,                  ]</span>
<span class="line">     [ 'main_node_only',            main_node_only,            ]</span>
<span class="line">     [ 'as_object',                 as_object,                 ]</span>
<span class="line">     [ 'depth',                     depth,                     ]</span>
<span class="line">     [ 'limitation',                limitation                 ]</span>
<span class="line">     [ 'ignore_visibility',         ignore_visibility          ] ) )</span>

</pre><h3>Parameters</h3><table class="list" cellspacing="0">
<tr><th>Name</th><th>Type</th><th>Description</th><th>Required</th></tr><tr class="bglight">
        <td>parent_node_id</td>
        <td>mixed</td>
        <td>The ID number(s) of the parent  node(s).</td>
        <td>Yes.</td>
    </tr><tr class="bgdark">
        <td>sort_by</td>
        <td>array</td>
        <td>The sorting mechanism that should be used.</td>
        <td>No.</td>
    </tr><tr class="bglight">
        <td>offset</td>
        <td>integer</td>
        <td>The offset to start at.</td>
        <td>No.</td>
    </tr><tr class="bgdark">
        <td>limit</td>
        <td>integer</td>
        <td>The number of nodes that should be fetched.</td>
        <td>No.</td>
    </tr><tr class="bglight">
        <td>attribute_filter</td>
        <td>mixed</td>
        <td>The attribute level filter logic.</td>
        <td>No.</td>
    </tr><tr class="bgdark">
        <td>extended_attribute_filter</td>
        <td>mixed</td>
        <td>The extended attribute level filter logic.</td>
        <td>No.</td>
    </tr><tr class="bglight">
        <td>class_filter_type</td>
        <td>string</td>
        <td>The type of class filtering (include/exclude).</td>
        <td>No.</td>
    </tr><tr class="bgdark">
        <td>class_filter_array</td>
        <td>array</td>
        <td>The classes that should be filtered.</td>
        <td>No.</td>
    </tr><tr class="bglight">
        <td>group_by</td>
        <td>array</td>
        <td>DEPRECATED</td>
        <td>No.</td>
    </tr><tr class="bgdark">
        <td>only_translated</td>
        <td>boolean</td>
        <td>Translation filtering (on/off).</td>
        <td>No.</td>
    </tr><tr class="bglight">
        <td>language</td>
        <td>string</td>
        <td>The translations that should be fetched.</td>
        <td>No.</td>
    </tr><tr class="bgdark">
        <td>main_node_only</td>
        <td>boolean</td>
        <td>Type of nodes that should be fetched (all or main nodes only).</td>
        <td>No.</td>
    </tr><tr class="bglight">
        <td>depth</td>
        <td>integer</td>
        <td>The maximum level of depth that should be explored (1 by default).</td>
        <td>No.</td>
    </tr><tr class="bgdark">
        <td>limitation</td>
        <td>array</td>
        <td>Limitation array (emtpy array = access override).</td>
        <td>No.</td>
    </tr><tr class="bglight">
        <td>ignore_visibility</td>
        <td>boolean</td>
        <td>Makes it possible to fetch hidden nodes.</td>
        <td>No.</td>
    </tr><tr class="bgdark">
        <td>as_object</td>
        <td>boolean</td>
        <td>If TRUE (or omitted), an array of "ezcontentobjecttreenode" objects will be fetched. Otherwise, an array of arrays will be returned.</td>
        <td>No.</td>
    </tr></table><h3>Returns</h3>
 <p>An array of <a href="../../../Objects/ezcontentobjecttreenode.html" target="_self">ezcontentobjecttreenode</a> objects or FALSE.</p><h3>Description</h3>
 <p>This function fetches the children of a single node or a collection of nodes. The parent node(s) must be specified using the "parent_node_id" parameter. This parameter can either be the ID number of a single node or an array containing several node ID numbers. The function will fetch the nodes that are directly under the specified parent node(s). The collection is returned as an array of <a href="../../../Objects/ezcontentobjecttreenode.html" target="_self">ezcontentobjecttreenode</a> objects. If no nodes are found or if an error occurs, the function will return FALSE. The optional "group_by" parameter (grouping on a date/time basis) is deprecated since this functionality is not supported by Oracle and PostgreSQL.</p>    <a name="eztoc5494_0_0_1" id="eztoc5494_0_0_1"></a><h4>Sorting</h4> <p>The "sort_by" parameter makes it possible to sort the result in different ways. This parameter must be provided as an array. The first element of the array must be the desired sorting method. The second element of the array must be the sorting direction, it can be either true() or false() - ascending or descending. The following table shows the sorting methods that can be used.</p> <table class="renderedtable" cellpadding="2" cellspacing="0">
 
<tr>
 <th>   <p>Sorting method</p> 
  </th> <th>   <p>Description</p> 
  </th> 
</tr>
 
<tr>
 <td valign="top" style="vertical-align: top">   <p>attribute</p> 
  </td>
 <td valign="top" style="vertical-align: top">   <p>The nodes are sorted according to the value of a specific attribute.</p> 
  </td>
 
</tr>
 
<tr>
 <td valign="top" style="vertical-align: top">   <p>class_identifier</p> 
  </td>
 <td valign="top" style="vertical-align: top">   <p>The nodes are sorted by the class identifiers of the objects.</p> 
  </td>
 
</tr>
 
<tr>
 <td valign="top" style="vertical-align: top">   <p>class_name</p> 
  </td>
 <td valign="top" style="vertical-align: top">   <p>The nodes are sorted by the class names of the objects.</p> 
  </td>
 
</tr>
 
<tr>
 <td rowspan="1" valign="top" style="vertical-align: top">   <p>depth</p> 
  </td>
 <td rowspan="1" valign="top" style="vertical-align: top">   <p>The nodes are sorted by their depth in the content tree.</p> 
  </td>
 
</tr>
 
<tr>
 <td valign="top" style="vertical-align: top">   <p>modified</p> 
  </td>
 <td valign="top" style="vertical-align: top">   <p>The nodes are sorted by the modification time of the objects.</p> 
  </td>
 
</tr>
 
<tr>
 <td valign="top" style="vertical-align: top">   <p>name</p> 
  </td>
 <td valign="top" style="vertical-align: top">   <p>The nodes are sorted by the names of the objects.</p> 
  </td>
 
</tr>
 
<tr>
 <td valign="top" style="vertical-align: top">   <p>path</p> 
  </td>
 <td valign="top" style="vertical-align: top">   <p>The nodes are sorted by their node ID path strings (/1/2/43/56).</p> 
  </td>
 
</tr>
 
<tr>
 <td valign="top" style="vertical-align: top">   <p>path_string</p> 
  </td>
 <td valign="top" style="vertical-align: top">   <p>The nodes are sorted by their virtual path strings (/company/about).</p> 
  </td>
 
</tr>
 
<tr>
 <td valign="top" style="vertical-align: top">   <p>priority</p> 
  </td>
 <td valign="top" style="vertical-align: top">   <p>The nodes are sorted by their priority.</p> 
  </td>
 
</tr>
 
<tr>
 <td valign="top" style="vertical-align: top">   <p>published</p> 
  </td>
 <td valign="top" style="vertical-align: top">   <p>The nodes are sorted by the creation time of the objects.</p> 
  </td>
 
</tr>
 
<tr>
 <td valign="top" style="vertical-align: top">   <p>section</p> 
  </td>
 <td valign="top" style="vertical-align: top">   <p>The nodes are sorted by the section IDs of the objects.</p> 
  </td>
 
</tr>
 
</table>
 <p>It is possible to combine different sorting methods. For example, it is possible to sort the nodes alphabetically and by their publish date/time at the same time.</p> <p>Sorting on the attribute level is supported for the following datatypes:</p> 
<ul>
 <li><div> Checkbox </div></li> <li><div> Date </div></li> <li><div> Date and time </div></li> <li><div> E-mail </div></li> <li><div> Integer </div></li> <li><div> Selection (will not work when used as multiple selector) </div></li> <li><div> Text line </div></li> <li><div> Time </div></li> 
</ul>
 <p>The syntax for doing attribute level sorting is almost the same as for normal sorting. The only difference is that the ID number or the identifier of the target attribute must be specified. If the identifier is used then both the identifier of the class and the attribute must be specified (separated by a slash, like this: "my_class/my_attribute"). Attribute sorting can only be used if the returned collection contains the same type of nodes.</p>       <a name="eztoc5494_0_0_2" id="eztoc5494_0_0_2"></a><h4>Fetching subsets</h4> <p>By making use of the "offset" and "limit" parameters, it is possible to fetch only a subset of the collection that would have been returned if these parameters were omitted. While the "offset" parameter defines the start of the subset, the "limit" parameter defines the length (number of elements/nodes) of the subset. These parameters are processed at the final stage. In other words, it is possible to do advanced sorting/filtering and grab only a specific chunk of from the sorted/filtered/etc. collection.</p>       <a name="eztoc5494_0_0_3" id="eztoc5494_0_0_3"></a><h4>Class filtering</h4> <p>The class filter mechanism is controlled by the "class_filter_type" and "class_filter_array" parameters. The "class_filter_type" parameter tells eZ Publish to include or exclude specific node types. This parameter must be either "include" or "exclude". It is not possible to include one set and to exclude another at the same time. The value of the "class_filter_array" parameter specifies the type of nodes that should be included or excluded. This parameter must be an array of class ID numbers or class identifier strings.</p>       <a name="eztoc5494_0_0_4" id="eztoc5494_0_0_4"></a><h4>Attribute filtering</h4> <p>The attribute filter mechanism is controlled by the "attribute_filter" parameter. Attribute filtering makes it possible to fetch a set of nodes where an attribute (or several attributes) contains some specific data. Filtering on the attribute level is supported for the following datatypes:</p> 
<ul>
 <li><div> Checkbox </div></li> <li><div> Date </div></li> <li><div> Date and time </div></li> <li><div> E-mail </div></li> <li><div> Integer </div></li> <li><div> Object relation </div></li> <li><div> Selection (will not work when used as multiple selector) </div></li> <li><div> Text line </div></li> <li><div> Time </div></li> 
</ul>
 <p>The "attribute_filter" parameter must be an array. The first element may be set to either "and" or "or" - this controls how the matching specified in the upcoming elements should be carried out. If this parameter is omitted, the system will default to "and". The rest of the elements are arrays, each array specifies a match. The elements in this array are:</p> 
<ol>
 <li><div> Attribute ID </div></li> <li><div> Match type </div></li> <li><div> Match value </div></li> 
</ol>
 <p>The attribute ID can be specified either as the ID number of the attribute or as a string that contains the identifier of the class and the identifier of the attribute separated by a slash. The ID number of the attribute or the identifier of the class and the attribute can be found when viewing/editing content classes. The match type tells how eZ Publish should try to match the values. The match value is the data that should be matched. The following match types can be used:</p><table class="renderedtable" cellpadding="2" cellspacing="0">
 
<tr>
 <th class="tight">   <p>Type</p> 
  </th> <th>   <p>Description</p> 
  </th> 
</tr>
 
<tr>
 <td valign="top" style="vertical-align: top">   <p>=</p> 
  </td>
 <td valign="top" style="vertical-align: top">   <p>Equal</p> 
  </td>
 
</tr>
 
<tr>
 <td valign="top" style="vertical-align: top">   <p>!=</p> 
  </td>
 <td valign="top" style="vertical-align: top">   <p>Not equal</p> 
  </td>
 
</tr>
 
<tr>
 <td valign="top" style="vertical-align: top">   <p>&lt;</p> 
  </td>
 <td valign="top" style="vertical-align: top">   <p>Less than</p> 
  </td>
 
</tr>
 
<tr>
 <td valign="top" style="vertical-align: top">   <p>&gt;</p> 
  </td>
 <td valign="top" style="vertical-align: top">   <p>Greater than</p> 
  </td>
 
</tr>
 
<tr>
 <td valign="top" style="vertical-align: top">   <p>&lt;=</p> 
  </td>
 <td valign="top" style="vertical-align: top">   <p>Less than or equal to</p> 
  </td>
 
</tr>
 
<tr>
 <td valign="top" style="vertical-align: top">   <p>&gt;=</p> 
  </td>
 <td valign="top" style="vertical-align: top">   <p>Greater than or equal to</p> 
  </td>
 
</tr>
 
<tr>
 <td valign="top" style="vertical-align: top">   <p>in</p> 
  </td>
 <td valign="top" style="vertical-align: top">   <p>Matches one of the array values</p> 
  </td>
 
</tr>
 
<tr>
 <td valign="top" style="vertical-align: top">   <p>not_in</p> 
  </td>
 <td valign="top" style="vertical-align: top">   <p>Does not match any of the array values</p> 
  </td>
 
</tr>
 
<tr>
 <td valign="top" style="vertical-align: top">   <p>between</p> 
  </td>
 <td valign="top" style="vertical-align: top">   <p>Is a part of the range determined by the start and end values</p> 
  </td>
 
</tr>
 
<tr>
 <td valign="top" style="vertical-align: top">   <p>not_between</p> 
  </td>
 <td valign="top" style="vertical-align: top">   <p>Is outside the range determined by the start and end values</p> 
  </td>
 
</tr>
 
<tr>
 <td valign="top" style="vertical-align: top">   <p>like</p> 
  </td>
 <td valign="top" style="vertical-align: top">   <p>Matches the wildcard string (the wildcard character is '*')</p> 
  </td>
 
</tr>
 
</table>
 <p>It is not possible to filter on attributes of different classes, for example it is not possible to filter on both "article/show_comments" and "folder/show_comments" in the same filter. But instead of the class/attribute syntax, you can also use "published" and "priority" as "AttributeID". It is also possible to use "owner" as "AttributeID" which refers to the owner's identifier of the content object. This can for instance be used to find all objects of a given user.</p>       <a name="eztoc5494_0_0_5" id="eztoc5494_0_0_5"></a><h4>Extended attribute filtering</h4> <p>The "extended_attribute_filter" parameter can be used to do advanced attribute filtering. It is for expert/experienced users. This mechanism makes it possible to introduce additional SQL conditions within the fetch. It allows filtering based on values in custom tables and/or special filtering within the "ezcontentobject_attribute" table.</p> <p>The mechanism must be configured using a configuration override for "extendedattributefilter.ini". This file allows the site administrator to set up different custom filters. Each filter must be a named collection of configuration settings. The name of a filter is the name of the configuration block under which the filter's settings are defined. The following text shows an example that demonstrates the setup of a filter called "MyFilter".</p> <pre class="wordwrap copytoclipboard"><span class="line">#The name of the filter.</span>
<span class="line">[MyFilter]</span>
<span class="line"> </span>
<span class="line">#The name of the extension where the filtering code is defined.</span>
<span class="line">ExtensionName=myextension</span>
<span class="line"> </span>
<span class="line">#The name of the filter class.</span>
<span class="line">ClassName=eZMyExtendedFilter</span>
<span class="line"> </span>
<span class="line">#The name of the method which is called to generate the SQL parts.</span>
<span class="line">MethodName=createSqlParts</span>
<span class="line"> </span>
<span class="line">#The file which should be included (extension/myextension will automatically be prepended).</span>
<span class="line">FileName=classes/ezmyextendedfilter.php</span>
</pre><!--[if IE]>
<p class="copytoclipboard"><img src="/extension/ezdoc/design/doc/images/copytoclipboard.gif" height="16" width="16" alt="Copy to clipboard" title="Copy to clipboard" onclick="window.clipboardData.setData( 'text', '#The name of the filter.\r\n[MyFilter]\r\n\r\n#The name of the extension where the filtering code is defined.\r\nExtensionName=myextension\r\n\r\n#The name of the filter class.\r\nClassName=eZMyExtendedFilter\r\n\r\n#The name of the method which is called to generate the SQL parts.\r\nMethodName=createSqlParts\r\n\r\n#The file which should be included (extension/myextension will automatically be prepended).\r\nFileName=classes/ezmyextendedfilter.php' ); return false;" /></p>
<![endif]--> <p>The function defined by the "MethodName" setting must return an associative array containing two strings:</p> <pre class="wordwrap"><span class="line">array( 'tables' =&gt; '...', 'joins' =&gt; '...' );</span>
</pre> <p>The contents of "tables" must start with a comma. The rest of the string should contain a comma separated list of other tables that should be included in the query. The contents of "joins" will be added inside the "WHERE" section of the query. This string must start with a space and contain an "AND" and an additional space at the end.</p> <p>The example below shows a solution that filters the content based on values within an additional/custom table. This table is joined with the node table (by object ID and object version). The additional/custom table would most likely be maintained by a special/custom datatype.</p> <pre class="wordwrap copytoclipboard"><span class="line">class eZMyExtendedFilter</span>
<span class="line">{</span>
<span class="line">    /*!</span>
<span class="line">     Constructor</span>
<span class="line">    */</span>
<span class="line">    function eZMyExtendedFilter()</span>
<span class="line">    {</span>
<span class="line">        // Empty...</span>
<span class="line">    }</span>
<span class="line"> </span>
<span class="line">    function createSqlParts( $params )</span>
<span class="line">    {</span>
<span class="line">        $sqlTables= ', ezmyfiltertable ';</span>
<span class="line"> </span>
<span class="line">        $sqlJoins = ' ezcontentobject_tree.contentobject_id = ezmyfiltertable.contentobject_id AND ezcontentobject_tree.contentobject_version = ezmyfiltertable.version AND ';</span>
<span class="line"> </span>
<span class="line">        if ( isset( $params['value1'] ) )</span>
<span class="line">        {</span>
<span class="line">             $value1 = $params['value1'];</span>
<span class="line">        }</span>
<span class="line">        else</span>
<span class="line">        {</span>
<span class="line">             $value1 = "10";</span>
<span class="line">        }</span>
<span class="line">        if ( isset( $params['value2'] ) )</span>
<span class="line">        {</span>
<span class="line">             $value2 = $params['value2'];</span>
<span class="line">        }</span>
<span class="line">        else</span>
<span class="line">        {</span>
<span class="line">             $value2 = "10";</span>
<span class="line">        }</span>
<span class="line"> </span>
<span class="line">        $sqlCondArray = array();</span>
<span class="line"> </span>
<span class="line">        $sqlCondArray[] = 'ezmyfiltertable.my_cond1 = ' . $value1;</span>
<span class="line"> </span>
<span class="line">        $sqlCondArray[] = 'ezmyfiltertable.my_cond1 = ' . $value2;</span>
<span class="line"> </span>
<span class="line">        $sqlCond = implode( ' or ', $sqlCondArray );</span>
<span class="line"> </span>
<span class="line">        $sqlCond = ' ( ' . $sqlCond . ' ) AND ' . $sqlJoins . ' ';</span>
<span class="line"> </span>
<span class="line">        return array( 'tables' =&gt; $sqlTables, 'joins'  =&gt; $sqlCond );</span>
<span class="line"> </span>
<span class="line">    }</span>
<span class="line">}</span>
</pre><!--[if IE]>
<p class="copytoclipboard"><img src="/extension/ezdoc/design/doc/images/copytoclipboard.gif" height="16" width="16" alt="Copy to clipboard" title="Copy to clipboard" onclick="window.clipboardData.setData( 'text', 'class eZMyExtendedFilter\r\n{\r\n    /*!\r\n     Constructor\r\n    */\r\n    function eZMyExtendedFilter()\r\n    {\r\n        // Empty...\r\n    }\r\n\r\n    function createSqlParts( $params )\r\n    {\r\n        $sqlTables= \', ezmyfiltertable \';\r\n\r\n        $sqlJoins = \' ezcontentobject_tree.contentobject_id = ezmyfiltertable.contentobject_id AND ezcontentobject_tree.contentobject_version = ezmyfiltertable.version AND \';\r\n\r\n        if ( isset( $params[\'value1\'] ) )\r\n        {\r\n             $value1 = $params[\'value1\'];\r\n        }\r\n        else\r\n        {\r\n             $value1 = &quot;10&quot;;\r\n        }\r\n        if ( isset( $params[\'value2\'] ) )\r\n        {\r\n             $value2 = $params[\'value2\'];\r\n        }\r\n        else\r\n        {\r\n             $value2 = &quot;10&quot;;\r\n        }\r\n\r\n        $sqlCondArray = array();\r\n\r\n        $sqlCondArray[] = \'ezmyfiltertable.my_cond1 = \' . $value1;\r\n\r\n        $sqlCondArray[] = \'ezmyfiltertable.my_cond1 = \' . $value2;\r\n\r\n        $sqlCond = implode( \' or \', $sqlCondArray );\r\n\r\n        $sqlCond = \' ( \' . $sqlCond . \' ) AND \' . $sqlJoins . \' \';\r\n\r\n        return array( \'tables\' =&gt; $sqlTables, \'joins\'  =&gt; $sqlCond );\r\n\r\n    }\r\n}' ); return false;" /></p>
<![endif]--> <p>The following template code shows how the extended attribute filter (see the PHP code above) can be used within a fetch.</p> <pre class="wordwrap copytoclipboard"><span class="line">{fetch( 'content', 'list',</span>
<span class="line">        hash( 'parent_node_id', 2,</span>
<span class="line">              'sort_by', array( 'priority', false() ),</span>
<span class="line">              'limit', 15,</span>
<span class="line">              'extended_attribute_filter',</span>
<span class="line">                            hash( 'id', 'MyFilter',</span>
<span class="line">                                          'params', hash( 'value1', 15,</span>
<span class="line">                                                        'value2', 30 ) ),</span>
<span class="line">              'depth', 10,</span>
<span class="line">              'main_node_only', true() ) )}</span>
</pre><!--[if IE]>
<p class="copytoclipboard"><img src="/extension/ezdoc/design/doc/images/copytoclipboard.gif" height="16" width="16" alt="Copy to clipboard" title="Copy to clipboard" onclick="window.clipboardData.setData( 'text', '{fetch( \'content\', \'list\',\r\n        hash( \'parent_node_id\', 2,\r\n              \'sort_by\', array( \'priority\', false() ),\r\n              \'limit\', 15,\r\n              \'extended_attribute_filter\', \r\n                            hash( \'id\', \'MyFilter\',\r\n                                          \'params\', hash( \'value1\', 15,\r\n                                                        \'value2\', 30 ) ),\r\n              \'depth\', 10,\r\n              \'main_node_only\', true() ) )}' ); return false;" /></p>
<![endif]--> <p>There is an additional example at the bottom of this page: <a href="list.html#example17" target="_self">Example 17</a>.</p>       <a name="eztoc5494_0_0_6" id="eztoc5494_0_0_6"></a><h4>Fetching main nodes only</h4> <p>The "main_node_only" parameter can be used to tell eZ Publish that it should only fetch main nodes (nodes that are main locations for content objects). This parameter is optional and can be set to either true() or false(). When set to true(), the fetch function will only return main nodes. This functionality can be used to avoid duplicates (different nodes but same objects) in the result.</p>       <a name="eztoc5494_0_0_7" id="eztoc5494_0_0_7"></a><h4>Fetching translated objects only</h4> <p>In some multi-language scenarios, not all objects are translated into other/all languages. When the "only_translated" parameter is set to "true()" the system will only fetch objects that have been translated into the language used by the siteaccess (the current language). The "language" parameter can be used to control which translations that should be fetched. The value of this parameter must be a valid locale string, for example "ger-DE".</p>       <a name="eztoc5494_0_0_8" id="eztoc5494_0_0_8"></a><h4>Access override</h4> <p>The "limitation" parameter makes it possible to instruct the system to use an alternate set of access limitations instead of the ones that belong to the current user. This is typically useful when there is a need to fetch nodes that the current user does not have access to. All permission checking can be skipped by providing an empty array. It is also possible to provide arrays that dictate the access limitations of other users and/or virtual sets of limitations. The array follows an internal structure that will be documented in the future.</p>       <a name="eztoc5494_0_0_9" id="eztoc5494_0_0_9"></a><h4>Visibility override</h4> <p>The "ignore_visibility" parameter makes it possible to fetch hidden nodes. It can be set to either "true()" or "false()". If set to "true()", the fetch will ignore the visibility flags of nodes and thus it will return all nodes regardless of their visibility status. In other words, this parameter overrides the <a href="../../../Configuration-files/site.ini/SiteAccessSettings/ShowHiddenNodes.html" target="_self">"ShowHiddenNodes"</a> configuration directive for a specific fetch operation in a template.</p>   <h3>Examples</h3>
    <a name="eztoc5495_0_0_1" id="eztoc5495_0_0_1"></a><h4>Example 1</h4> <pre class="wordwrap copytoclipboard"><span class="line">{def $nodes=fetch( 'content', 'list',</span>
<span class="line">        hash( 'parent_node_id', 42,</span>
<span class="line">              'depth', 3 ) )}</span>
<span class="line"> </span>
<span class="line">{foreach $nodes as $node}</span>
<span class="line">    {$node.name|wash} &lt;br /&gt;</span>
<span class="line">{/foreach}</span>
</pre><!--[if IE]>
<p class="copytoclipboard"><img src="/extension/ezdoc/design/doc/images/copytoclipboard.gif" height="16" width="16" alt="Copy to clipboard" title="Copy to clipboard" onclick="window.clipboardData.setData( 'text', '{def $nodes=fetch( \'content\', \'list\',\r\n        hash( \'parent_node_id\', 42,\r\n              \'depth\', 3 ) )}\r\n\r\n{foreach $nodes as $node}\r\n    {$node.name|wash} &lt;br /&gt;\r\n{/foreach}' ); return false;" /></p>
<![endif]--> <p>This example demonstrates how to fetch nodes which are until the third level under the parent node number 42. Outputs the names of all these nodes.</p>       <a name="eztoc5495_0_0_2" id="eztoc5495_0_0_2"></a><h4>Example 2</h4> <pre class="wordwrap"><span class="line">{fetch( 'content', 'list',</span>
<span class="line">        hash( 'parent_node_id', 42,</span>
<span class="line">              'sort_by',        array( 'published', false() ) ) )}</span>
</pre> <p>This example demonstrates how to fetch all nodes that are the children of node number 42. The nodes are sorted by the time they were created; the most recently created node will be the first element in the collection.</p>       <a name="eztoc5495_0_0_3" id="eztoc5495_0_0_3"></a><h4>Example 3</h4> <pre class="wordwrap copytoclipboard"><span class="line">{fetch( 'content', 'list',</span>
<span class="line">        hash( 'parent_node_id', 42,</span>
<span class="line">              'sort_by',        array( array( 'name',      false() ),</span>
<span class="line">                                      array( 'published', false() ) ) )}</span>
</pre><!--[if IE]>
<p class="copytoclipboard"><img src="/extension/ezdoc/design/doc/images/copytoclipboard.gif" height="16" width="16" alt="Copy to clipboard" title="Copy to clipboard" onclick="window.clipboardData.setData( 'text', '{fetch( \'content\', \'list\', \r\n        hash( \'parent_node_id\', 42,\r\n              \'sort_by\',        array( array( \'name\',      false() ),\r\n                                      array( \'published\', false() ) ) )}' ); return false;" /></p>
<![endif]--> <p>This example demonstrates how to combine different sorting methods. The fetch function will fetch the child nodes of node number 42. The fetched nodes will be sorted by their name and the time they were created.</p>       <a name="eztoc5495_0_0_4" id="eztoc5495_0_0_4"></a><h4>Example 4</h4> <pre class="wordwrap copytoclipboard"><span class="line">{fetch( 'content', 'list',</span>
<span class="line">        hash( 'parent_node_id', 42,</span>
<span class="line">              'sort_by',        array( 'attribute',</span>
<span class="line">                                      false(),</span>
<span class="line">                                      107 ) ) )}</span>
</pre><!--[if IE]>
<p class="copytoclipboard"><img src="/extension/ezdoc/design/doc/images/copytoclipboard.gif" height="16" width="16" alt="Copy to clipboard" title="Copy to clipboard" onclick="window.clipboardData.setData( 'text', '{fetch( \'content\', \'list\', \r\n        hash( \'parent_node_id\', 42,\r\n              \'sort_by\',        array( \'attribute\', \r\n                                      false(), \r\n                                      107 ) ) )}' ); return false;" /></p>
<![endif]--> <p>This example demonstrates attribute sorting by using the ID number of the attribute.</p>       <a name="eztoc5495_0_0_5" id="eztoc5495_0_0_5"></a><h4>Example 5</h4> <pre class="wordwrap copytoclipboard"><span class="line">{fetch( 'content', 'list',</span>
<span class="line">        hash( 'parent_node_id', 42,</span>
<span class="line">              'sort_by',        array( 'attribute',</span>
<span class="line">                                      false(),</span>
<span class="line">                                      'person/last_name' ) ) )}</span>
</pre><!--[if IE]>
<p class="copytoclipboard"><img src="/extension/ezdoc/design/doc/images/copytoclipboard.gif" height="16" width="16" alt="Copy to clipboard" title="Copy to clipboard" onclick="window.clipboardData.setData( 'text', '{fetch( \'content\', \'list\', \r\n        hash( \'parent_node_id\', 42,\r\n              \'sort_by\',        array( \'attribute\', \r\n                                      false(), \r\n                                      \'person/last_name\' ) ) )}' ); return false;" /></p>
<![endif]--> <p>This example demonstrates attribute sorting by using the string notation to pinpoint the identifier of the class and the attribute.</p>       <a name="eztoc5495_0_0_6" id="eztoc5495_0_0_6"></a><h4>Example 6</h4> <pre class="wordwrap copytoclipboard"><span class="line">{fetch( 'content', 'list',</span>
<span class="line">        hash( 'parent_node_id',     42,</span>
<span class="line">              'class_filter_type',  'include',</span>
<span class="line">              'class_filter_array', array( '13' ) ) )}</span>
</pre><!--[if IE]>
<p class="copytoclipboard"><img src="/extension/ezdoc/design/doc/images/copytoclipboard.gif" height="16" width="16" alt="Copy to clipboard" title="Copy to clipboard" onclick="window.clipboardData.setData( 'text', '{fetch( \'content\', \'list\', \r\n        hash( \'parent_node_id\',     42,\r\n              \'class_filter_type\',  \'include\',\r\n              \'class_filter_array\', array( \'13\' ) ) )}' ); return false;" /></p>
<![endif]--> <p>This example demonstrates how to use class filtering to fetch only nodes that reference objects that are instances of class number 13.</p>       <a name="eztoc5495_0_0_7" id="eztoc5495_0_0_7"></a><h4>Example 7</h4> <pre class="wordwrap copytoclipboard"><span class="line">{fetch( 'content', 'list',</span>
<span class="line">        hash( 'parent_node_id',     42,</span>
<span class="line">              'class_filter_type',  'include',</span>
<span class="line">              'class_filter_array', array( 'folder' ) ) )}</span>
</pre><!--[if IE]>
<p class="copytoclipboard"><img src="/extension/ezdoc/design/doc/images/copytoclipboard.gif" height="16" width="16" alt="Copy to clipboard" title="Copy to clipboard" onclick="window.clipboardData.setData( 'text', '{fetch( \'content\', \'list\', \r\n        hash( \'parent_node_id\',     42,\r\n              \'class_filter_type\',  \'include\',\r\n              \'class_filter_array\', array( \'folder\' ) ) )}' ); return false;" /></p>
<![endif]--> <p>This example demonstrates how to use class filtering to fetch only nodes that reference folder objects.</p>       <a name="eztoc5495_0_0_8" id="eztoc5495_0_0_8"></a><h4>Example 8</h4> <pre class="wordwrap copytoclipboard"><span class="line">{fetch( 'content', 'list',</span>
<span class="line">        hash( 'parent_node_id',     42,</span>
<span class="line">              'class_filter_type',  'exclude',</span>
<span class="line">              'class_filter_array', array( 'article',</span>
<span class="line">                                          'comment' ) ) )}</span>
</pre><!--[if IE]>
<p class="copytoclipboard"><img src="/extension/ezdoc/design/doc/images/copytoclipboard.gif" height="16" width="16" alt="Copy to clipboard" title="Copy to clipboard" onclick="window.clipboardData.setData( 'text', '{fetch( \'content\', \'list\',\r\n        hash( \'parent_node_id\',     42,\r\n              \'class_filter_type\',  \'exclude\',\r\n              \'class_filter_array\', array( \'article\', \r\n                                          \'comment\' ) ) )}' ); return false;" /></p>
<![endif]--> <p>This example demonstrates how to use class filtering to exclude articles and comments from a fetch.</p>       <a name="eztoc5495_0_0_9" id="eztoc5495_0_0_9"></a><h4>Example 9</h4> <pre class="wordwrap copytoclipboard"><span class="line">{fetch( 'content', 'list',</span>
<span class="line">        hash( 'parent_node_id',   42,</span>
<span class="line">              'attribute_filter', array( 'or',</span>
<span class="line">                                        array( 152, '=', 'abc' ),</span>
<span class="line">                                        array( 153, '=', '42' ) ) ) )}</span>
</pre><!--[if IE]>
<p class="copytoclipboard"><img src="/extension/ezdoc/design/doc/images/copytoclipboard.gif" height="16" width="16" alt="Copy to clipboard" title="Copy to clipboard" onclick="window.clipboardData.setData( 'text', '{fetch( \'content\', \'list\', \r\n        hash( \'parent_node_id\',   42,\r\n              \'attribute_filter\', array( \'or\',\r\n                                        array( 152, \'=\', \'abc\' ),\r\n                                        array( 153, \'=\', \'42\' ) ) ) )}' ); return false;" /></p>
<![endif]--> <p>This example demonstrates how to do attribute filtering. Only nodes that have attributes number 152 and 153 set to "abc" and 42 respectively will be included in the result.</p>       <a name="eztoc5495_0_0_10" id="eztoc5495_0_0_10"></a><h4>Example 10</h4> <pre class="wordwrap copytoclipboard"><span class="line">{fetch( 'content',</span>
<span class="line">        'list',</span>
<span class="line">        hash( 'parent_node_id',   42,</span>
<span class="line">              'attribute_filter', array( array( 'article/title',</span>
<span class="line">                                        'like',</span>
<span class="line">                                        '*story*' ) ) ) )}</span>
</pre><!--[if IE]>
<p class="copytoclipboard"><img src="/extension/ezdoc/design/doc/images/copytoclipboard.gif" height="16" width="16" alt="Copy to clipboard" title="Copy to clipboard" onclick="window.clipboardData.setData( 'text', '{fetch( \'content\', \r\n        \'list\', \r\n        hash( \'parent_node_id\',   42, \r\n              \'attribute_filter\', array( array( \'article/title\',\r\n                                        \'like\',\r\n                                        \'*story*\' ) ) ) )}' ); return false;" /></p>
<![endif]--> <p>This example demonstrates how to do attribute filtering. Instead of specifying the ID number of the attribute (as in the previous example), the identifier of the class and the attribute is used. Only article nodes that contain the text "story" in their title attribute will be included in the result.</p>       <a name="eztoc5495_0_0_11" id="eztoc5495_0_0_11"></a><h4>Example 11</h4> <pre class="wordwrap copytoclipboard"><span class="line">{fetch( 'content',</span>
<span class="line">        'list',</span>
<span class="line">        hash( 'parent_node_id',   42,</span>
<span class="line">              'attribute_filter', array( array( 'article/image',</span>
<span class="line">                                        '=',</span>
<span class="line">                                        87 ) ) ) )}</span>
</pre><!--[if IE]>
<p class="copytoclipboard"><img src="/extension/ezdoc/design/doc/images/copytoclipboard.gif" height="16" width="16" alt="Copy to clipboard" title="Copy to clipboard" onclick="window.clipboardData.setData( 'text', '{fetch( \'content\', \r\n        \'list\', \r\n        hash( \'parent_node_id\',   42, \r\n              \'attribute_filter\', array( array( \'article/image\',\r\n                                        \'=\',\r\n                                        87 ) ) ) )}' ); return false;" /></p>
<![endif]--> <p>This example demonstrates how to do attribute filtering using an attribute of the "Object relation" datatype. Only article nodes that store relation to the specified content object (object ID = 87) in their "image" attribute will be included in the result.</p>       <a name="eztoc5495_0_0_12" id="eztoc5495_0_0_12"></a><h4>Example 12</h4> <pre class="wordwrap copytoclipboard"><span class="line">{fetch( 'content',</span>
<span class="line">        'list',</span>
<span class="line">        hash( 'parent_node_id',   42,</span>
<span class="line">              'attribute_filter', array( array( 'review/rating',</span>
<span class="line">                                        'between',</span>
<span class="line">                                        array( 0, 2 ) ) ) ) )}</span>
</pre><!--[if IE]>
<p class="copytoclipboard"><img src="/extension/ezdoc/design/doc/images/copytoclipboard.gif" height="16" width="16" alt="Copy to clipboard" title="Copy to clipboard" onclick="window.clipboardData.setData( 'text', '{fetch( \'content\', \r\n        \'list\', \r\n        hash( \'parent_node_id\',   42, \r\n              \'attribute_filter\', array( array( \'review/rating\',\r\n                                        \'between\',\r\n                                        array( 0, 2 ) ) ) ) )}' ); return false;" /></p>
<![endif]--> <p>This example demonstrates how to do attribute filtering using an attribute of the "Selection" datatype. Only review nodes that contain "Very good", "Good" or "Ok" (options 0, 1 or 2) in their "rating" attribute will be included in the result.</p>       <a name="eztoc5495_0_0_13" id="eztoc5495_0_0_13"></a><h4>Example 13</h4> <pre class="wordwrap copytoclipboard"><span class="line">{fetch( 'content',</span>
<span class="line">        'list',</span>
<span class="line">        hash( 'parent_node_id',   42,</span>
<span class="line">              'attribute_filter', array( array( 'bug/priority',</span>
<span class="line">                                        'in',</span>
<span class="line">                                        array( 1, 4 ) ) ) ) )}</span>
</pre><!--[if IE]>
<p class="copytoclipboard"><img src="/extension/ezdoc/design/doc/images/copytoclipboard.gif" height="16" width="16" alt="Copy to clipboard" title="Copy to clipboard" onclick="window.clipboardData.setData( 'text', '{fetch( \'content\', \r\n        \'list\', \r\n        hash( \'parent_node_id\',   42, \r\n              \'attribute_filter\', array( array( \'bug/priority\',\r\n                                        \'in\',\r\n                                        array( 1, 4 ) ) ) ) )}' ); return false;" /></p>
<![endif]--> <p>Fetches bugs with priority 1 and 4 (i.e. bug nodes that have their priority attribute set to 1 or 4).</p>       <a name="eztoc5495_0_0_14" id="eztoc5495_0_0_14"></a><h4>Example 14</h4> <pre class="wordwrap copytoclipboard"><span class="line">{fetch( 'content',</span>
<span class="line">        'list',</span>
<span class="line">        hash( 'parent_node_id',   42,</span>
<span class="line">              'attribute_filter', array( array( 'bug/priority',</span>
<span class="line">                                        'between',</span>
<span class="line">                                        array( 2, 4 ) ) ) ) )}</span>
</pre><!--[if IE]>
<p class="copytoclipboard"><img src="/extension/ezdoc/design/doc/images/copytoclipboard.gif" height="16" width="16" alt="Copy to clipboard" title="Copy to clipboard" onclick="window.clipboardData.setData( 'text', '{fetch( \'content\', \r\n        \'list\', \r\n        hash( \'parent_node_id\',   42, \r\n              \'attribute_filter\', array( array( \'bug/priority\',\r\n                                        \'between\',\r\n                                        array( 2, 4 ) ) ) ) )}' ); return false;" /></p>
<![endif]--> <p>Fetches bugs with priority 2, 3 and 4 (i.e. bug nodes that have their priority attribute value between 2 and 4).</p>       <a name="eztoc5495_0_0_15" id="eztoc5495_0_0_15"></a><h4>Example 15</h4> <pre class="wordwrap copytoclipboard"><span class="line">{fetch( 'content', 'list',</span>
<span class="line">        hash( 'parent_node_id',   42,</span>
<span class="line">              'attribute_filter', array( 'and',</span>
<span class="line">                                        array( 'priority', '&gt;', '20' ),</span>
<span class="line">                                        array( 'article/title', '=', 'abc' ) ) ) )}</span>
</pre><!--[if IE]>
<p class="copytoclipboard"><img src="/extension/ezdoc/design/doc/images/copytoclipboard.gif" height="16" width="16" alt="Copy to clipboard" title="Copy to clipboard" onclick="window.clipboardData.setData( 'text', '{fetch( \'content\', \'list\', \r\n        hash( \'parent_node_id\',   42, \r\n              \'attribute_filter\', array( \'and\',\r\n                                        array( \'priority\', \'&gt;\', \'20\' ), \r\n                                        array( \'article/title\', \'=\', \'abc\' ) ) ) )}' ); return false;" /></p>
<![endif]--> <p>This example demonstrates how to do filtering on a non-attribute. Instead of specifying the identifier of the class and the attribute, "priority" is used. Only article nodes that have their title attribute set to "abc" and have a priority greater than 20 will be included in the result.</p>       <a name="eztoc5495_0_0_16" id="eztoc5495_0_0_16"></a><h4>Example 16</h4> <pre class="wordwrap copytoclipboard"><span class="line">{def $nodes=fetch( 'content', 'list',</span>
<span class="line">        hash( 'parent_node_id', 42,</span>
<span class="line">              'attribute_filter', array(</span>
<span class="line">                                  array( 'owner',</span>
<span class="line">                                   '=',</span>
<span class="line">                                  $current_user.contentobject_id ) ) ) )}</span>
<span class="line"> </span>
<span class="line">{foreach $nodes as $node}</span>
<span class="line">    {$node.name|wash}&lt;br /&gt;</span>
<span class="line">{/foreach}</span>
<span class="line"> </span>
<span class="line">{undef $nodes}</span>
</pre><!--[if IE]>
<p class="copytoclipboard"><img src="/extension/ezdoc/design/doc/images/copytoclipboard.gif" height="16" width="16" alt="Copy to clipboard" title="Copy to clipboard" onclick="window.clipboardData.setData( 'text', '{def $nodes=fetch( \'content\', \'list\', \r\n        hash( \'parent_node_id\', 42, \r\n              \'attribute_filter\', array(\r\n                                  array( \'owner\',\r\n                                   \'=\',\r\n                                  $current_user.contentobject_id ) ) ) )}\r\n\r\n{foreach $nodes as $node}\r\n    {$node.name|wash}&lt;br /&gt;\r\n{/foreach}\r\n\r\n{undef $nodes}' ); return false;" /></p>
<![endif]--> <p>This example demonstrates how to do filtering on a non-attribute. Instead of specifying the identifier of the class and the attribute, "owner" is used. Only the nodes/objects that are created by the current user will be included in the result.</p>       <a name="eztoc5495_0_0_17" id="eztoc5495_0_0_17"></a><h4>Example 17</h4> <pre class="wordwrap"><span class="line">{fetch( 'content', 'list',</span>
<span class="line">        hash( 'parent_node_id',  2,</span>
<span class="line">              'only_translated', true() ) )}</span>
</pre> <p>This example demonstrates how to fetch only nodes that reference objects that have been translated into the current language (the language that the siteaccess is using).</p>       <a name="eztoc5495_0_0_18" id="eztoc5495_0_0_18"></a><h4>Example 18</h4> <pre class="wordwrap copytoclipboard"><span class="line">{fetch( 'content', 'list',</span>
<span class="line">        hash( 'parent_node_id',  2,</span>
<span class="line">              'limit',           3,</span>
<span class="line">              'only_translated', true(),</span>
<span class="line">              'language',        'ger-DE' ) )}</span>
</pre><!--[if IE]>
<p class="copytoclipboard"><img src="/extension/ezdoc/design/doc/images/copytoclipboard.gif" height="16" width="16" alt="Copy to clipboard" title="Copy to clipboard" onclick="window.clipboardData.setData( 'text', '{fetch( \'content\', \'list\',\r\n        hash( \'parent_node_id\',  2,\r\n              \'limit\',           3,       \r\n              \'only_translated\', true(),\r\n              \'language\',        \'ger-DE\' ) )}' ); return false;" /></p>
<![endif]--> <p>This example demonstrates another way to fetch translated objects. The fetch will return nodes that reference objects which have been translated into the German language.</p> <p> <a name="example19"></a>
 </p>       <a name="eztoc5495_0_0_19" id="eztoc5495_0_0_19"></a><h4>Example 19</h4> <pre class="wordwrap copytoclipboard"><span class="line">{fetch( 'content', 'list',</span>
<span class="line">        hash( 'parent_node_id', 2,</span>
<span class="line">              'sort_by', array( 'priority', true() ),</span>
<span class="line">              'limit', 15,</span>
<span class="line">              'extended_attribute_filter',</span>
<span class="line">                            hash( 'id', 'MyFilter',</span>
<span class="line">                            'params', hash( 'value1', 'text1',</span>
<span class="line">                                          'value2', 'text2' ) ) ) )}</span>
</pre><!--[if IE]>
<p class="copytoclipboard"><img src="/extension/ezdoc/design/doc/images/copytoclipboard.gif" height="16" width="16" alt="Copy to clipboard" title="Copy to clipboard" onclick="window.clipboardData.setData( 'text', '{fetch( \'content\', \'list\',\r\n        hash( \'parent_node_id\', 2,\r\n              \'sort_by\', array( \'priority\', true() ),\r\n              \'limit\', 15,\r\n              \'extended_attribute_filter\',\r\n                            hash( \'id\', \'MyFilter\',\r\n                            \'params\', hash( \'value1\', \'text1\',\r\n                                          \'value2\', \'text2\' ) ) ) )}' ); return false;" /></p>
<![endif]--> <p>This example demonstrates how the extended attribute filter can be used. The template code above will fetch objects that match the following condition: any object using the ezstring datatype containing either "text1" or "text2". The necessary PHP implementation is shown in the example below.</p> <pre class="wordwrap copytoclipboard"><span class="line">class eZMyExtendedFilter</span>
<span class="line">{</span>
<span class="line">    /*!</span>
<span class="line">     Constructor</span>
<span class="line">    */</span>
<span class="line">    function eZMyExtendedFilter()</span>
<span class="line">    {</span>
<span class="line">        // Empty...</span>
<span class="line">    }</span>
<span class="line"> </span>
<span class="line">    function createSqlParts( $params )</span>
<span class="line">    {</span>
<span class="line">        $sqlTables= ', ezcontentobject_attribute as myfilter_alias ';</span>
<span class="line"> </span>
<span class="line">        $sqlJoins = ' ezcontentobject_tree.contentobject_id = myfilter_alias.contentobject_id AND ezcontentobject_tree.contentobject_version = myfilter_alias.version AND myfilter_alias.data_type_string = "ezstring"  AND';</span>
<span class="line"> </span>
<span class="line">        if ( isset( $params['value1'] ) )</span>
<span class="line">        {</span>
<span class="line">             $value1 = $params['value1'];</span>
<span class="line">        }</span>
<span class="line">        else</span>
<span class="line">        {</span>
<span class="line">             $value1 = 'fooo';</span>
<span class="line">        }</span>
<span class="line">        if ( isset( $params['value2'] ) )</span>
<span class="line">        {</span>
<span class="line">             $value2 = $params['value2'];</span>
<span class="line">        }</span>
<span class="line">        else</span>
<span class="line">        {</span>
<span class="line">             $value2 = 'boooo';</span>
<span class="line">        }</span>
<span class="line"> </span>
<span class="line">        $sqlCondArray = array();</span>
<span class="line"> </span>
<span class="line">        $sqlCondArray[] = 'myfilter_alias.data_text = "' . $value1 . '"';</span>
<span class="line">        $sqlCondArray[] = 'myfilter_alias.data_text = "' . $value2 . '"';</span>
<span class="line"> </span>
<span class="line">        $sqlCond = implode( ' or ', $sqlCondArray );</span>
<span class="line"> </span>
<span class="line">        $sqlCond = ' ( ' . $sqlCond . ' ) AND ' . $sqlJoins . ' ';</span>
<span class="line"> </span>
<span class="line">        return array( 'tables' =&gt; $sqlTables, 'joins' =&gt; $sqlCond );</span>
<span class="line"> </span>
<span class="line">    }</span>
<span class="line">}</span>
</pre><!--[if IE]>
<p class="copytoclipboard"><img src="/extension/ezdoc/design/doc/images/copytoclipboard.gif" height="16" width="16" alt="Copy to clipboard" title="Copy to clipboard" onclick="window.clipboardData.setData( 'text', 'class eZMyExtendedFilter\r\n{\r\n    /*!\r\n     Constructor\r\n    */\r\n    function eZMyExtendedFilter()\r\n    {\r\n        // Empty...\r\n    }\r\n\r\n    function createSqlParts( $params )\r\n    {\r\n        $sqlTables= \', ezcontentobject_attribute as myfilter_alias \';\r\n\r\n        $sqlJoins = \' ezcontentobject_tree.contentobject_id = myfilter_alias.contentobject_id AND ezcontentobject_tree.contentobject_version = myfilter_alias.version AND myfilter_alias.data_type_string = &quot;ezstring&quot;  AND\';\r\n\r\n        if ( isset( $params[\'value1\'] ) )\r\n        {\r\n             $value1 = $params[\'value1\'];\r\n        }\r\n        else\r\n        {\r\n             $value1 = \'fooo\';\r\n        }\r\n        if ( isset( $params[\'value2\'] ) )\r\n        {\r\n             $value2 = $params[\'value2\'];\r\n        }\r\n        else\r\n        {\r\n             $value2 = \'boooo\';\r\n        }\r\n\r\n        $sqlCondArray = array();\r\n\r\n        $sqlCondArray[] = \'myfilter_alias.data_text = &quot;\' . $value1 . \'&quot;\';\r\n        $sqlCondArray[] = \'myfilter_alias.data_text = &quot;\' . $value2 . \'&quot;\';\r\n\r\n        $sqlCond = implode( \' or \', $sqlCondArray );\r\n\r\n        $sqlCond = \' ( \' . $sqlCond . \' ) AND \' . $sqlJoins . \' \';\r\n\r\n        return array( \'tables\' =&gt; $sqlTables, \'joins\' =&gt; $sqlCond );\r\n\r\n    }\r\n}' ); return false;" /></p>
<![endif]-->       <a name="eztoc5495_0_0_20" id="eztoc5495_0_0_20"></a><h4>Example 20</h4> <pre class="wordwrap"><span class="line">{fetch( 'content', 'list', hash( 'parent_node_id', 2,</span>
<span class="line">                                'ignore_visibility', true() ) )}</span>
</pre> <p>This example demonstrates how to fetch nodes regardless of their visibility status. The operation above will return both visible and hidden nodes that are directly below node #2.</p>   


<div class="break"></div><div class="pageinfo float-break">
<div class="created">


<p><label>Written by:</label>Balazs Halasy (06/02/2004 12:07 pm)</p>
</div>
<div class="modified">
<p><label>Last updated by:</label>Balazs Halasy (09/04/2007 12:14 pm)</p>
</div><div class="authors">
<p><label>Maintainers:</label>Balazs Halasy, Svitlana Shatokhina</p>
</div></div>
<hr class="hide">

</div>
</div>
</div>

<div id="comments" class="class-comment">
<div class="content-view-children">

<h1>Comments</h1>
<div id="comments-content">
<ul>    <li class="comment-bglight"><div class="padding">
    <div class="content-view-line">
<div class="class-comment">

<div>

<div id="comment17530" class="attribute-heading">
<h2>sort_by attribute - clarified</h2>
</div>

<div class="attribute-byline float-break">
    <p class="date">Thursday 15 November 2007 10:35:21 pm</p>
    <p class="author">m</p>
</div>

<div class="attribute-short">
I spent a little time figuring this out from the forums. So I thought I'd add<br>
<br>
The way to sort_by an attribute is :<br>
'sort_by', array('attribute', true(),'event/start_date')<br>
<br>
<br>
Not what I understood from the documentation which was: <br>
'sort_by', array('event/start_date', true(),'')
</div>




     


</div>


</div>
</div>    </div></li></ul>
</div>
<div class="toolbar">


</div>

</div>
</div>

</div>
<!-- Main area content: END -->

</div>
</div>
<!-- Main area: END -->
<hr class="hide">

</div></div></div>



</div>
<!-- Complete page area: END -->











</body>
</html><!-- th[eZ] 20050804 -->
