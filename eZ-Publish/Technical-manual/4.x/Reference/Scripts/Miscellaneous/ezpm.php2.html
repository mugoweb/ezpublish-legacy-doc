<!DOCTYPE html>
<html lang="en-US">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">


<style type="text/css">
    @import url(../../../../../../extension/ezdoc/design/doc/stylesheets/core.css);
    @import url(../../../../../../extension/ezdoc/design/doc/stylesheets/classes.css);
    @import url(../../../../../../extension/ezdoc/design/doc/stylesheets/doc.css);
    @import url(../../../../../../extension/ezdoc/design/doc/stylesheets/print.css) print;</style>

<link type="text/css" rel="stylesheet" href="../../../../../../extension/ezdoc/design/doc/stylesheets/print.css" media="print">

<!-- IE conditional comments; for bug fixes for different IE versions -->
<!--[if IE 5]>     <style type="text/css"> @import url(/extension/ezdoc/design/doc/stylesheets/ie5.css);    </style>     <![endif]-->
<!--[if lte IE 6]> <style type="text/css"> @import url(/extension/ezdoc/design/doc/stylesheets/ie6lte.css); </style>     <![endif]-->
<!--[if lte IE 6]> <style type="text/css"> @import url(/extension/ezdoc/design/doc/stylesheets/ie6lte-doc.css); </style> <![endif]-->
<!--[if IE 6]>     <style type="text/css"> @import url(/extension/ezdoc/design/doc/stylesheets/ie6.css);    </style>     <![endif]-->

<!-- Load special stylesheet (if necessary) for newer Netscape decendants, Mozilla and Firefox, using the Gecko renderer -->
<script type="text/javascript"><!-- if ((navigator.userAgent.indexOf("Gecko") != -1)&&(navigator.userAgent.indexOf("KHTML") == -1)) document.write("<style type=\"text/css\">@import url(/extension/ezdoc/design/doc/stylesheets/gecko.css);</style>"); --></script>

<script type="text/javascript" src="../../../../../../extension/ezdoc/design/doc/javascripts/mainmenu-hover.js"></script>
<script type="text/javascript" src="../../../../../../extension/ezdoc/design/doc/javascripts/dropdownmenu.js"></script>
<script type="text/javascript" src="../../../../../../extension/ezdoc/design/doc/javascripts/ezno-searchbox.js"></script>
                                                          
    <title>ezpm.php / Miscellaneous  	 / Scripts / Reference / 4.x / Technical manual / eZ Publish / Documentation - Doc</title>

    
    
    
            <meta http-equiv="Content-Type" content="text/html; charset=utf-8">

            <meta http-equiv="Content-language" content="en-GB">

    
                <meta name="author" content="eZ systems">
                    <meta name="copyright" content="eZ systems">
                    <meta name="description" content="eZ Publish Documentation">
                    <meta name="keywords" content="eZ Publish, documentation, manual, reference, eZ systems">
        
    <meta name="generator" content="eZ Publish">
    <link rel="Home" href="https://doc.ez.no/" title="Doc front page">
<link rel="Search" href="https://doc.ez.no/content/advancedsearch" title="Search Doc">
<link rel="Shortcut icon" href="../../../../../../extension/ezdoc/design/doc/images/favicon.ico" type="image/x-icon">

</head>
<body onload="initDocSearch();menuInit();">

<!-- Complete page area: START -->
<div id="page">


<div><a href="https://www.ibexa.co"><img class="logotype" width="100" height="50" src="https://ezpublishdoc.mugo.ca/design/standard/images/ibexa_logo.svg" alt="ibexa"></a></div>
<div id="page-content-position"><div id="page-content-position-inner"><div id="page-content">

<!-- Path area: START -->
<div id="path">

<div id="page-width4">
<h2 class="hide">Path</h2>

<!-- Path content: START -->
<p><a href="../index.html">ez publish</a>
        
                        /
                            <a href="../../../../../Technical-manual.html">technical manual</a>
        
                        /
                            <a href="../../../../4.x.html">4.x</a>
        
                        /
                            <a href="../../../Reference.html">reference</a>
        
                        /
                            <a href="../../Scripts.html">scripts</a>
        
                        /
                            <a href="../Miscellaneous.html">miscellaneous  	</a>
        
                        /
                            ezpm.php
        
            </p>
<!-- Path content: END -->

</div>

</div>
<!-- Path area: END -->

<hr class="hide">

<!-- Main area: START -->
                                    <div id="ezp5disclaimer">
                <p><strong style="color: red">Caution:</strong> This documentation is for <strong>eZ Publish</strong> <em>legacy</em>, from version 3.x to 5.x.<br></p>
            </div>
            
<div id="page-width5">
<div id="main" class="float-break">


<div class="template-design area-docmenu-normal">
<div class="template-module">
<div class="template-object">
<div id="contentmenu">
                        <div class="attribute-heading"><h2 class="bullet"><a href="../../../../4.x.html">Table of contents</a></h2></div>
<div class="boxcontent">

<map id="contentstructure">

    
                                                                        
            <ul>
	    
                                                        
                                    
            
                                
                                                    
	<li class="topchapter">
	    <div>
	    
	    

	    
	    
	    
	    			    	    
	    
	    		<a class="nodetext" href="../../../Installation.html" title="">
	    	    		                    		    <span class="node-name-normal">Installation</span>
                    			    	    		</a>
			           </div>
        
                                    </li>
            
                                
                                                    
	<li class="topchapter">
	    <div>
	    
	    

	    
	    
	    
	    			    	    
	    
	    		<a class="nodetext" href="../../../Concepts-and-basics.html" title="">
	    	    		                    		    <span class="node-name-normal">Concepts and basics</span>
                    			    	    		</a>
			           </div>
        
                                    </li>
            
                                
                                                    
	<li class="topchapter">
	    <div>
	    
	    

	    
	    
	    
	    			    	    
	    
	    		<a class="nodetext" href="../../../Templates.html" title="">
	    	    		                    		    <span class="node-name-normal">Templates</span>
                    			    	    		</a>
			           </div>
        
                                    </li>
            
                                
                                                    
	<li class="topchapter">
	    <div>
	    
	    

	    
	    
	    
	    			    	    
	    
	    		<a class="nodetext" href="../../../Features.html" title="">
	    	    		                    		    <span class="node-name-normal">Features</span>
                    			    	    		</a>
			           </div>
        
                                    </li>
            
                                
                                                    
	<li class="topchapter-selected  ">
	    <div>
	    
	    

	    
	    
	    
	    			    	    
	    
	    		<a class="nodetext" href="../../../Reference.html" title="">
	    	    		                    		    <span class="node-name-normal">Reference</span>
                    			    	    		</a>
			           </div>
        
            <ul>
	    
                                                    
	<li>
	    <div>
	    
	    

	    
	    
	    
	    			    	    
	    
	    		<a class="nodetext" href="../../Database-schema.html" title="">
	    	    		                    		    <span class="node-name-normal">Database schema</span>
                    			    	    		</a>
			           </div>
        
            <ul>
	    
                                                    
	<li class="last">
	    <div>
	    
	    

	    
	    
	    
	    			    	    
	    
	    		<a class="nodetext" href="../../Database-schema/Deprecated-database-fields.html" title="">
	    	    		                    		    <span class="node-name-normal">Deprecated database fields</span>
                    			    	    		</a>
			           </div>
        
                                    </li>
            
                                            </ul>
                                        </li>
            
                                
                                                    
	<li>
	    <div>
	    
	    

	    
	    
	    
	    			    	    
	    
	    		<a class="nodetext" href="../../Datatypes.html" title="">
	    	    		                    		    <span class="node-name-normal">Datatypes</span>
                    			    	    		</a>
			           </div>
        
                                    </li>
            
                                
                                                    
	<li>
	    <div>
	    
	    

	    
	    
	    
	    			    	    
	    
	    		<a class="nodetext" href="../../Content-classes.html" title="">
	    	    		                    		    <span class="node-name-normal">Content classes</span>
                    			    	    		</a>
			           </div>
        
                                    </li>
            
                                
                                                    
	<li>
	    <div>
	    
	    

	    
	    
	    
	    			    	    
	    
	    		<a class="nodetext" href="../../Modules.html" title="">
	    	    		                    		    <span class="node-name-normal">Modules</span>
                    			    	    		</a>
			           </div>
        
                                    </li>
            
                                
                                                    
	<li>
	    <div>
	    
	    

	    
	    
	    
	    			    	    
	    
	    		<a class="nodetext" href="../../Views.html" title="">
	    	    		                    		    <span class="node-name-normal">Views</span>
                    			    	    		</a>
			           </div>
        
                                    </li>
            
                                
                                                    
	<li>
	    <div>
	    
	    

	    
	    
	    
	    			    	    
	    
	    		<a class="nodetext" href="../../Objects.html" title="">
	    	    		                    		    <span class="node-name-normal">Objects</span>
                    			    	    		</a>
			           </div>
        
                                    </li>
            
                                
                                                    
	<li>
	    <div>
	    
	    

	    
	    
	    
	    			    	    
	    
	    		<a class="nodetext" href="../../Workflow-events.html" title="">
	    	    		                    		    <span class="node-name-normal">Workflow events</span>
                    			    	    		</a>
			           </div>
        
                                    </li>
            
                                
                                                    
	<li>
	    <div>
	    
	    

	    
	    
	    
	    			    	    
	    
	    		<a class="nodetext" href="../../Template-operators.html" title="">
	    	    		                    		    <span class="node-name-normal">Template operators</span>
                    			    	    		</a>
			           </div>
        
                                    </li>
            
                                
                                                    
	<li>
	    <div>
	    
	    

	    
	    
	    
	    			    	    
	    
	    		<a class="nodetext" href="../../Template-functions.html" title="">
	    	    		                    		    <span class="node-name-normal">Template functions</span>
                    			    	    		</a>
			           </div>
        
                                    </li>
            
                                
                                                    
	<li>
	    <div>
	    
	    

	    
	    
	    
	    			    	    
	    
	    		<a class="nodetext" href="../../Template-control-structures.html" title="">
	    	    		                    		    <span class="node-name-normal">Template control structures</span>
                    			    	    		</a>
			           </div>
        
                                    </li>
            
                                
                                                    
	<li>
	    <div>
	    
	    

	    
	    
	    
	    			    	    
	    
	    		<a class="nodetext" href="../../Template-override-conditions.html" title="">
	    	    		                    		    <span class="node-name-normal">Template override conditions</span>
                    			    	    		</a>
			           </div>
        
                                    </li>
            
                                
                                                    
	<li>
	    <div>
	    
	    

	    
	    
	    
	    			    	    
	    
	    		<a class="nodetext" href="../../Template-fetch-functions.html" title="">
	    	    		                    		    <span class="node-name-normal">Template fetch functions</span>
                    			    	    		</a>
			           </div>
        
                                    </li>
            
                                
                                                    
	<li>
	    <div>
	    
	    

	    
	    
	    
	    			    	    
	    
	    		<a class="nodetext" href="../../Template-PDF-functions.html" title="">
	    	    		                    		    <span class="node-name-normal">Template PDF functions</span>
                    			    	    		</a>
			           </div>
        
                                    </li>
            
                                
                                                    
	<li>
	    <div>
	    
	    

	    
	    
	    
	    			    	    
	    
	    		<a class="nodetext" href="../../Configuration-files.html" title="">
	    	    		                    		    <span class="node-name-normal">Configuration files</span>
                    			    	    		</a>
			           </div>
        
                                    </li>
            
                                
                                                    
	<li>
	    <div>
	    
	    

	    
	    
	    
	    			    	    
	    
	    		<a class="nodetext" href="../../Libraries.html" title="">
	    	    		                    		    <span class="node-name-normal">Libraries</span>
                    			    	    		</a>
			           </div>
        
                                    </li>
            
                                
                                                    
	<li>
	    <div>
	    
	    

	    
	    
	    
	    			    	    
	    
	    		<a class="nodetext" href="../../XML-tags.html" title="">
	    	    		                    		    <span class="node-name-normal">XML tags</span>
                    			    	    		</a>
			           </div>
        
                                    </li>
            
                                
                                                    
	<li class="last">
	    <div>
	    
	    

	    
	    
	    
	    			    	    
	    
	    		<a class="nodetext" href="../../Scripts.html" title="">
	    	    		                    		    <span class="node-name-normal">Scripts</span>
                    			    	    		</a>
			           </div>
        
                                    </li>
            
                                            </ul>
                                        </li>
            
                                            </ul>
                        
            
</map>

</div>            
</div>
</div>
</div>
</div>
<div class="area-docmain-normal">
<div class="template-design">
<div class="template-module content-view-full">
<div class="template-object">

<div class="attribute-heading">
<h1>ezpm.php</h1>
</div>

<h3>Summary</h3>
Package Manager. This documentation page applies to all version of ezpublish 4.x

<h3>Location</h3>    .//ezpm.php<h3>Parameters</h3><p>
<a href="ezpm.php2.html#colors">colors</a><br>

<a href="ezpm.php2.html#db-host">db-host</a><br>

<a href="ezpm.php2.html#db-name">db-name</a><br>

<a href="ezpm.php2.html#db-password">db-password</a><br>

<a href="ezpm.php2.html#db-socket">db-socket</a><br>

<a href="ezpm.php2.html#db-type">db-type</a><br>

<a href="ezpm.php2.html#logfiles">logfiles</a><br>

<a href="ezpm.php2.html#login">login</a><br>

<a href="ezpm.php2.html#no-colors">no-colors</a><br>

<a href="ezpm.php2.html#no-logfiles">no-logfiles</a><br>

<a href="ezpm.php2.html#password">password</a><br>

<a href="ezpm.php2.html#repos">repos</a><br>

<a href="ezpm.php2.html#siteaccess">siteaccess</a><br>
</p>

    <a name="colors"></a>
    <h4>-c,--colors
    <div style="margin-left:35px;">
        
<p>Display output using ANSI colors (default).</p>    </div>

    <a name="db-host"></a>
    <h4>--db-host HOST
    <div style="margin-left:35px;">
        
<p>Set host name for database connection.</p>    </div>

    <a name="db-name"></a>
    <h4>--db-name NAME
    <div style="margin-left:35px;">
        
<p>Set name of database to use.</p>    </div>

    <a name="db-password"></a>
    <h4>--db-password PASSWD
    <div style="margin-left:35px;">
        
<p>Set password for database user.</p>    </div>

    <a name="db-socket"></a>
    <h4>--db-socket SOCKET
    <div style="margin-left:35px;">
        
<p>Set socket for database connection.</p>    </div>

    <a name="db-type"></a>
    <h4>--db-type TYPE
    <div style="margin-left:35px;">
        
<p>Set type of database to use.</p>    </div>

    <a name="logfiles"></a>
    <h4>--logfiles
    <div style="margin-left:35px;">
        
<p>Create log files.</p>    </div>

    <a name="login"></a>
    <h4>-l,--login USER
    <div style="margin-left:35px;">
        
<p>login with USER and use it for all operations</p>    </div>

    <a name="no-colors"></a>
    <h4>--no-colors
    <div style="margin-left:35px;">
        
<p>Do not use ANSI coloring.</p>    </div>

    <a name="no-logfiles"></a>
    <h4>--no-logfiles
    <div style="margin-left:35px;">
        
<p>Do not create log files (default).</p>    </div>

    <a name="password"></a>
    <h4>-p,--password PWD
    <div style="margin-left:35px;">
        
<p>Use PWD as password for USER</p>    </div>

    <a name="repos"></a>
    <h4>-r,--repos REPOS
    <div style="margin-left:35px;">
        
<p>Use REPOS for repository when accessing packages</p>    </div>

    <a name="siteaccess"></a>
    <h4>-s,--siteaccess
    <div style="margin-left:35px;">
        
<p>Selected siteaccess for operations, if not specified default siteaccess is used</p>    </div>

<h3>Description</h3>
</h4></h4></h4></h4></h4></h4></h4></h4></h4></h4></h4></h4></h4><p>
The ezpm.php script, located in the root directory of eZ Publish, allows to execute package management operations from the command line.<br>This is very useful to eg. import a package that is too big and would result in a timeout if imported via the web interface (or viceversa to create a very big export package).</p><a name="eztoc137106_0_0_1" id="eztoc137106_0_0_1"></a><h4>add &lt;packagename&gt; &lt;contentobject&gt; [options] [path|node]</h4><p>Adding classes, templates and objects to the package.</p><table class="renderedtable nested" cellpadding="2" cellspacing="0">

<tr>
<th>  <p><b>Option</b></p>
  </th><th>  <p><b>Description</b></p>
  </th>
</tr>

<tr>
<td valign="top" style="vertical-align: top">  <p>--include-classes</p>
  </td>
<td valign="top" style="vertical-align: top">  <p>Include class definitions in package (default)</p>
  </td>

</tr>

<tr>
<td valign="top" style="vertical-align: top">  <p>--include-templates</p>
  </td>
<td valign="top" style="vertical-align: top">  <p>Include related template files in package (default)</p>
  </td>

</tr>

<tr>
<td valign="top" style="vertical-align: top">  <p>--exclude-classes</p>
  </td>
<td valign="top" style="vertical-align: top">  <p>Do not include class definitions in package</p>
  </td>

</tr>

<tr>
<td valign="top" style="vertical-align: top">  <p>--exclude-templates</p>
  </td>
<td valign="top" style="vertical-align: top">  <p>Do not include related template files in package</p>
  </td>

</tr>

<tr>
<td valign="top" style="vertical-align: top">  <p>--language</p>
  </td>
<td valign="top" style="vertical-align: top">  <p>Comma separated list of languages to export. If not supplied the value is taken from settings. </p>
  </td>

</tr>

<tr>
<td valign="top" style="vertical-align: top">  <p>--current-version</p>
  </td>
<td valign="top" style="vertical-align: top">  <p>Export only the published version for all objects. (default)</p>
  </td>

</tr>

<tr>
<td valign="top" style="vertical-align: top">  <p>--all-versions</p>
  </td>
<td valign="top" style="vertical-align: top">  <p>Export all versions for all objects.</p>
  </td>

</tr>

<tr>
<td valign="top" style="vertical-align: top">  <p>--node-main</p>
  </td>
<td valign="top" style="vertical-align: top">  <p>Export only main node for all objects. (default)</p>
  </td>

</tr>

<tr>
<td valign="top" style="vertical-align: top">  <p>--node-selected</p>
  </td>
<td valign="top" style="vertical-align: top">  <p>Export all nodes for all objects.</p>
  </td>

</tr>

<tr>
<td valign="top" style="vertical-align: top">  <p>--siteaccess</p>
  </td>
<td valign="top" style="vertical-align: top">  <p>
Comma separated list of siteaccess to get definitions from, determines template override data and designs. <br>If not supplied the value is taken from default siteaccess.</p>
  </td>

</tr>

<tr>
<td valign="top" style="vertical-align: top">  <p>path</p>
  </td>
<td valign="top" style="vertical-align: top">  <p>
The path is chosen in the same manner as the URL alias which is shown in the path in the browser. If you want to export all objects under the node you must add /* to the end of the path <br>
e.g. news/this_is_news ,news or news/* <br>Note: To fetch the entire tree including users and media you must use an empty string, e.g. '' </p>
  </td>

</tr>

</table>
<a name="eztoc137106_0_0_2" id="eztoc137106_0_0_2"></a><h4>create &lt;packagename&gt; &lt;summary&gt;</h4><pre class="wordwrap"><span class="line">$ php -C ezpm.php create staff "all the staff members"</span>
</pre><a name="eztoc137106_0_0_3" id="eztoc137106_0_0_3"></a><h4>export</h4><p>Export packages for saving them</p><pre class="wordwrap"><span class="line">$ php -C ezpm.php export test_package --output -d /your/folder</span>
</pre><a name="eztoc137106_0_0_4" id="eztoc137106_0_0_4"></a><h4>info &lt;packagename&gt;</h4><p>Show Information for packages</p><a name="eztoc137106_0_0_5" id="eztoc137106_0_0_5"></a><h4>import</h4><p>Load the package into the eZ Publish instance</p><pre class="wordwrap"><span class="line">$ php -C ezpm.php --debug import test_package-1.0-1.ezpkg</span>
</pre><a name="eztoc137106_0_0_6" id="eztoc137106_0_0_6"></a><h4>install</h4><p>Integrate the package to the eZ Publish instance</p><pre class="wordwrap"><span class="line">$ php -C ezpm.php --debug install test_package</span>
</pre><a name="eztoc137106_0_0_7" id="eztoc137106_0_0_7"></a><h4>import and install</h4><p>You can combine the import and install commands in one line.</p><pre class="wordwrap"><span class="line">$ php -C ezpm.php --debug import test_package-1.0-1.ezpkg php ezpm.php --debug install test_package</span>
</pre><a name="eztoc137106_0_0_8" id="eztoc137106_0_0_8"></a><h4>list</h4><p>List all packages</p><a name="eztoc137106_0_0_9" id="eztoc137106_0_0_9"></a><h4>set &lt;package&gt; &lt;attribute&gt; &lt;attributevalue&gt;</h4><pre class="wordwrap"><span class="line">$ php -C ezpm.php set staff vendor "John Doe"</span>
</pre><p>Edit package information</p>
<h3>Examples</h3>
<a name="eztoc137107_0_0_0_1" id="eztoc137107_0_0_0_1"></a><h5>Filtering added content</h5><p>You can filter content you are adding to packages. This is done by calling packagehandler classes (see kernel/classes/packagehandler) and specifying dedicated parameters. Note that this is not fully documented and not supported as the recommended way it to use the admin interface. The following command lines are just provided as examples of this usage.</p><a name="eztoc137107_0_0_0_1_1" id="eztoc137107_0_0_0_1_1"></a><h6>Create a new package and add contentclasses to it</h6><p>Note: If you're only adding content classes to your package, you should also set the type of the package to "contentclass".</p><pre class="wordwrap"><span class="line">$ php -C ezpm.php create testclasspackage</span>
<span class="line">$ php -C ezpm.php add testclasspackage ezcontentclass folder,article</span>
<span class="line">$ php -C ezpm.php set testclasspackage type contentclass</span>
</pre><a name="eztoc137107_0_0_0_1_2" id="eztoc137107_0_0_0_1_2"></a><h6>Create a new package and add a subtree to it (by path)</h6><pre class="wordwrap"><span class="line">$ php -C ezpm.php create test_package "Test Package Creation"</span>
<span class="line">$ php -C ezpm.php add test_package ezcontentobject --exclude-templates --exclude-classes --siteaccess=eng "your_path_to_content/*"</span>
</pre><a name="eztoc137107_0_0_0_1_3" id="eztoc137107_0_0_0_1_3"></a><h6>Create a new package and add a subtree to it (by nodeid) including all nodes of all objects</h6><p>Note: make sure to have the patch for <a href="https://jira.ez.no/browse/EZP-23299" title="EZP-23299" target="_self">https://jira.ez.no/browse/EZP-23299</a> applied. It is included in ezpublish 5.4, and will apply on older versions.</p><p>For example with node ID 74</p><pre class="wordwrap"><span class="line">$ php -C ezpm.php create test_package2 "Test Package Creation2"</span>
<span class="line">$ php -C ezpm.php add test_package2 ezcontentobject --exclude-templates --node-selected --exclude-classes --siteaccess=eng 74</span>
</pre>

<div class="break"></div><div class="pageinfo float-break">
<div class="created">


<p><label>Written by:</label>Sarah Haïm-Lubczanski (25/08/2014 2:34 pm)</p>
</div>
<div class="modified">
<p><label>Last updated by:</label>Yannick Roger (28/02/2017 9:14 am)</p>
</div><div class="authors">
<p><label>Maintainers:</label>Sarah Haïm-Lubczanski, Yannick Roger</p>
</div></div>
<hr class="hide">

</div>
</div>
</div>

<div id="comments" class="class-comment">
<div class="content-view-children">

<h1>Comments</h1>
<p>There are no comments.</p>
<div class="toolbar">


</div>

</div>
</div>

</div>
<!-- Main area content: END -->

</div>
</div>
<!-- Main area: END -->
<hr class="hide">

</div></div></div>



</div>
<!-- Complete page area: END -->











</body>
</html><!-- th[eZ] 20050804 -->
