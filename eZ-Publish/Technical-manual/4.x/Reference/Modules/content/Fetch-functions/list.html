<!DOCTYPE html>
<html lang="en-US">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">


<style type="text/css">
    @import url(../../../../../../../extension/ezdoc/design/doc/stylesheets/core.css);
    @import url(../../../../../../../extension/ezdoc/design/doc/stylesheets/classes.css);
    @import url(../../../../../../../extension/ezdoc/design/doc/stylesheets/doc.css);
    @import url(../../../../../../../extension/ezdoc/design/doc/stylesheets/print.css) print;</style>

<link type="text/css" rel="stylesheet" href="../../../../../../../extension/ezdoc/design/doc/stylesheets/print.css" media="print">

<!-- IE conditional comments; for bug fixes for different IE versions -->
<!--[if IE 5]>     <style type="text/css"> @import url(/extension/ezdoc/design/doc/stylesheets/ie5.css);    </style>     <![endif]-->
<!--[if lte IE 6]> <style type="text/css"> @import url(/extension/ezdoc/design/doc/stylesheets/ie6lte.css); </style>     <![endif]-->
<!--[if lte IE 6]> <style type="text/css"> @import url(/extension/ezdoc/design/doc/stylesheets/ie6lte-doc.css); </style> <![endif]-->
<!--[if IE 6]>     <style type="text/css"> @import url(/extension/ezdoc/design/doc/stylesheets/ie6.css);    </style>     <![endif]-->

<!-- Load special stylesheet (if necessary) for newer Netscape decendants, Mozilla and Firefox, using the Gecko renderer -->
<script type="text/javascript"><!-- if ((navigator.userAgent.indexOf("Gecko") != -1)&&(navigator.userAgent.indexOf("KHTML") == -1)) document.write("<style type=\"text/css\">@import url(/extension/ezdoc/design/doc/stylesheets/gecko.css);</style>"); --></script>

<script type="text/javascript" src="../../../../../../../extension/ezdoc/design/doc/javascripts/mainmenu-hover.js"></script>
<script type="text/javascript" src="../../../../../../../extension/ezdoc/design/doc/javascripts/dropdownmenu.js"></script>
<script type="text/javascript" src="../../../../../../../extension/ezdoc/design/doc/javascripts/ezno-searchbox.js"></script>
                                                                
    <title>list / Fetch functions / content / Modules / Reference / 4.x / Technical manual / eZ Publish / Documentation - Doc</title>

    
    
    
            <meta http-equiv="Content-Type" content="text/html; charset=utf-8">

            <meta http-equiv="Content-language" content="en-GB">

    
                <meta name="author" content="eZ systems">
                    <meta name="copyright" content="eZ systems">
                    <meta name="description" content="eZ Publish Documentation">
                    <meta name="keywords" content="eZ Publish, documentation, manual, reference, eZ systems">
        
    <meta name="generator" content="eZ Publish">
    <link rel="Home" href="https://doc.ez.no/" title="Doc front page">
<link rel="Search" href="https://doc.ez.no/content/advancedsearch" title="Search Doc">
<link rel="Shortcut icon" href="../../../../../../../extension/ezdoc/design/doc/images/favicon.ico" type="image/x-icon">

</head>
<body onload="initDocSearch();menuInit();">

<!-- Complete page area: START -->
<div id="page">


<div><a href="https://www.ibexa.co"><img class="logotype" width="100" height="50" src="https://ezpublishdoc.mugo.ca/design/standard/images/ibexa_logo.svg" alt="ibexa"></a></div>
<div id="page-content-position"><div id="page-content-position-inner"><div id="page-content">

<!-- Path area: START -->
<div id="path">

<div id="page-width4">
<h2 class="hide">Path</h2>

<!-- Path content: START -->
<p><a href="../index.html">ez publish</a>
        
                        /
                            <a href="../../../../../../Technical-manual.html">technical manual</a>
        
                        /
                            <a href="../../../../../4.x.html">4.x</a>
        
                        /
                            <a href="../../../../Reference.html">reference</a>
        
                        /
                            <a href="../../../Modules.html">modules</a>
        
                        /
                            <a href="../../content.html">content</a>
        
                        /
                            <a href="../Fetch-functions.html">fetch functions</a>
        
                        /
                            list
        
            </p>
<!-- Path content: END -->

</div>

</div>
<!-- Path area: END -->

<hr class="hide">

<!-- Main area: START -->
                                    <div id="ezp5disclaimer">
                <p><strong style="color: red">Caution:</strong> This documentation is for <strong>eZ Publish</strong> <em>legacy</em>, from version 3.x to 5.x.<br></p>
            </div>
            
<div id="page-width5">
<div id="main" class="float-break">


<div class="template-design area-docmenu-normal">
<div class="template-module">
<div class="template-object">
<div id="contentmenu">
                        <div class="attribute-heading"><h2 class="bullet"><a href="../../../../../4.x.html">Table of contents</a></h2></div>
<div class="boxcontent">

<map id="contentstructure">

    
                                                                        
            <ul>
	    
                                                        
                                    
            
                                
                                                    
	<li class="topchapter">
	    <div>
	    
	    

	    
	    
	    
	    			    	    
	    
	    		<a class="nodetext" href="../../../../Installation.html" title="">
	    	    		                    		    <span class="node-name-normal">Installation</span>
                    			    	    		</a>
			           </div>
        
                                    </li>
            
                                
                                                    
	<li class="topchapter">
	    <div>
	    
	    

	    
	    
	    
	    			    	    
	    
	    		<a class="nodetext" href="../../../../Concepts-and-basics.html" title="">
	    	    		                    		    <span class="node-name-normal">Concepts and basics</span>
                    			    	    		</a>
			           </div>
        
                                    </li>
            
                                
                                                    
	<li class="topchapter">
	    <div>
	    
	    

	    
	    
	    
	    			    	    
	    
	    		<a class="nodetext" href="../../../../Templates.html" title="">
	    	    		                    		    <span class="node-name-normal">Templates</span>
                    			    	    		</a>
			           </div>
        
                                    </li>
            
                                
                                                    
	<li class="topchapter">
	    <div>
	    
	    

	    
	    
	    
	    			    	    
	    
	    		<a class="nodetext" href="../../../../Features.html" title="">
	    	    		                    		    <span class="node-name-normal">Features</span>
                    			    	    		</a>
			           </div>
        
                                    </li>
            
                                
                                                    
	<li class="topchapter-selected  ">
	    <div>
	    
	    

	    
	    
	    
	    			    	    
	    
	    		<a class="nodetext" href="../../../../Reference.html" title="">
	    	    		                    		    <span class="node-name-normal">Reference</span>
                    			    	    		</a>
			           </div>
        
            <ul>
	    
                                                    
	<li>
	    <div>
	    
	    

	    
	    
	    
	    			    	    
	    
	    		<a class="nodetext" href="../../../Database-schema.html" title="">
	    	    		                    		    <span class="node-name-normal">Database schema</span>
                    			    	    		</a>
			           </div>
        
            <ul>
	    
                                                    
	<li class="last">
	    <div>
	    
	    

	    
	    
	    
	    			    	    
	    
	    		<a class="nodetext" href="../../../Database-schema/Deprecated-database-fields.html" title="">
	    	    		                    		    <span class="node-name-normal">Deprecated database fields</span>
                    			    	    		</a>
			           </div>
        
                                    </li>
            
                                            </ul>
                                        </li>
            
                                
                                                    
	<li>
	    <div>
	    
	    

	    
	    
	    
	    			    	    
	    
	    		<a class="nodetext" href="../../../Datatypes.html" title="">
	    	    		                    		    <span class="node-name-normal">Datatypes</span>
                    			    	    		</a>
			           </div>
        
                                    </li>
            
                                
                                                    
	<li>
	    <div>
	    
	    

	    
	    
	    
	    			    	    
	    
	    		<a class="nodetext" href="../../../Content-classes.html" title="">
	    	    		                    		    <span class="node-name-normal">Content classes</span>
                    			    	    		</a>
			           </div>
        
                                    </li>
            
                                
                                                    
	<li>
	    <div>
	    
	    

	    
	    
	    
	    			    	    
	    
	    		<a class="nodetext" href="../../../Modules.html" title="">
	    	    		                    		    <span class="node-name-normal">Modules</span>
                    			    	    		</a>
			           </div>
        
                                    </li>
            
                                
                                                    
	<li>
	    <div>
	    
	    

	    
	    
	    
	    			    	    
	    
	    		<a class="nodetext" href="../../../Views.html" title="">
	    	    		                    		    <span class="node-name-normal">Views</span>
                    			    	    		</a>
			           </div>
        
                                    </li>
            
                                
                                                    
	<li>
	    <div>
	    
	    

	    
	    
	    
	    			    	    
	    
	    		<a class="nodetext" href="../../../Objects.html" title="">
	    	    		                    		    <span class="node-name-normal">Objects</span>
                    			    	    		</a>
			           </div>
        
                                    </li>
            
                                
                                                    
	<li>
	    <div>
	    
	    

	    
	    
	    
	    			    	    
	    
	    		<a class="nodetext" href="../../../Workflow-events.html" title="">
	    	    		                    		    <span class="node-name-normal">Workflow events</span>
                    			    	    		</a>
			           </div>
        
                                    </li>
            
                                
                                                    
	<li>
	    <div>
	    
	    

	    
	    
	    
	    			    	    
	    
	    		<a class="nodetext" href="../../../Template-operators.html" title="">
	    	    		                    		    <span class="node-name-normal">Template operators</span>
                    			    	    		</a>
			           </div>
        
                                    </li>
            
                                
                                                    
	<li>
	    <div>
	    
	    

	    
	    
	    
	    			    	    
	    
	    		<a class="nodetext" href="../../../Template-functions.html" title="">
	    	    		                    		    <span class="node-name-normal">Template functions</span>
                    			    	    		</a>
			           </div>
        
                                    </li>
            
                                
                                                    
	<li>
	    <div>
	    
	    

	    
	    
	    
	    			    	    
	    
	    		<a class="nodetext" href="../../../Template-control-structures.html" title="">
	    	    		                    		    <span class="node-name-normal">Template control structures</span>
                    			    	    		</a>
			           </div>
        
                                    </li>
            
                                
                                                    
	<li>
	    <div>
	    
	    

	    
	    
	    
	    			    	    
	    
	    		<a class="nodetext" href="../../../Template-override-conditions.html" title="">
	    	    		                    		    <span class="node-name-normal">Template override conditions</span>
                    			    	    		</a>
			           </div>
        
                                    </li>
            
                                
                                                    
	<li>
	    <div>
	    
	    

	    
	    
	    
	    			    	    
	    
	    		<a class="nodetext" href="../../../Template-fetch-functions.html" title="">
	    	    		                    		    <span class="node-name-normal">Template fetch functions</span>
                    			    	    		</a>
			           </div>
        
                                    </li>
            
                                
                                                    
	<li>
	    <div>
	    
	    

	    
	    
	    
	    			    	    
	    
	    		<a class="nodetext" href="../../../Template-PDF-functions.html" title="">
	    	    		                    		    <span class="node-name-normal">Template PDF functions</span>
                    			    	    		</a>
			           </div>
        
                                    </li>
            
                                
                                                    
	<li>
	    <div>
	    
	    

	    
	    
	    
	    			    	    
	    
	    		<a class="nodetext" href="../../../Configuration-files.html" title="">
	    	    		                    		    <span class="node-name-normal">Configuration files</span>
                    			    	    		</a>
			           </div>
        
                                    </li>
            
                                
                                                    
	<li>
	    <div>
	    
	    

	    
	    
	    
	    			    	    
	    
	    		<a class="nodetext" href="../../../Libraries.html" title="">
	    	    		                    		    <span class="node-name-normal">Libraries</span>
                    			    	    		</a>
			           </div>
        
                                    </li>
            
                                
                                                    
	<li>
	    <div>
	    
	    

	    
	    
	    
	    			    	    
	    
	    		<a class="nodetext" href="../../../XML-tags.html" title="">
	    	    		                    		    <span class="node-name-normal">XML tags</span>
                    			    	    		</a>
			           </div>
        
                                    </li>
            
                                
                                                    
	<li class="last">
	    <div>
	    
	    

	    
	    
	    
	    			    	    
	    
	    		<a class="nodetext" href="../../../Scripts.html" title="">
	    	    		                    		    <span class="node-name-normal">Scripts</span>
                    			    	    		</a>
			           </div>
        
                                    </li>
            
                                            </ul>
                                        </li>
            
                                            </ul>
                        
            
</map>

</div>            
</div>
</div>
</div>
</div>
<div class="area-docmain-normal">
<div class="template-design">
<div class="template-module content-view-full">
<div class="template-object">

<div class="attribute-heading">
<h1>list</h1>
</div>
<h3>Summary</h3>
Fetches the children of a node or a collection of nodes.<h3>Usage</h3>
<pre class="wordwrap">
<span class="line">fetch( 'content', 'list',</span>
<span class="line"> hash( 'parent_node_id',            parent_node_id,</span>
<span class="line">     [ 'sort_by',                   sort_by,                   ]</span>
<span class="line">     [ 'offset',                    offset,                    ]</span>
<span class="line">     [ 'limit',                     limit,                     ]</span>
<span class="line">     [ 'attribute_filter',          attribute_filter,          ]</span>
<span class="line">     [ 'extended_attribute_filter', extended_attribute_filter, ]</span>
<span class="line">     [ 'class_filter_type',         class_filter_type,         ]</span>
<span class="line">     [ 'class_filter_array',        class_filter_array,        ]</span>
<span class="line">     [ 'only_translated',           only_translated,           ]</span>
<span class="line">     [ 'language',                  language,                  ]</span>
<span class="line">     [ 'main_node_only',            main_node_only,            ]</span>
<span class="line">     [ 'as_object',                 as_object,                 ]</span>
<span class="line">     [ 'depth',                     depth,                     ]</span>
<span class="line">     [ 'limitation',                limitation,                 ]</span>
<span class="line">     [ 'ignore_visibility',         ignore_visibility,          ]</span>
<span class="line">     [ 'load_data_map',         load_data_map,          ]</span>
<span class="line">     [ 'objectname_filter',         objectname_filter,          ] ) )</span>

</pre><h3>Parameters</h3><table class="list" cellspacing="0">
<tr><th>Name</th><th>Type</th><th>Description</th><th>Required</th></tr><tr class="bglight">
        <td>parent_node_id</td>
        <td>mixed</td>
        <td>The ID number(s) of the parent  node(s).</td>
        <td>Yes.</td>
    </tr><tr class="bgdark">
        <td>sort_by</td>
        <td>array</td>
        <td>The sorting mechanism that should be used.</td>
        <td>No.</td>
    </tr><tr class="bglight">
        <td>offset</td>
        <td>integer</td>
        <td>The offset to start at.</td>
        <td>No.</td>
    </tr><tr class="bgdark">
        <td>limit</td>
        <td>integer/boolean</td>
        <td>The number of nodes that should be fetched or false for no limit.</td>
        <td>No.</td>
    </tr><tr class="bglight">
        <td>attribute_filter</td>
        <td>mixed</td>
        <td>The attribute level filter logic.</td>
        <td>No.</td>
    </tr><tr class="bgdark">
        <td>extended_attribute_filter</td>
        <td>mixed</td>
        <td>The extended attribute level filter logic.</td>
        <td>No.</td>
    </tr><tr class="bglight">
        <td>class_filter_type</td>
        <td>string</td>
        <td>The type of class filtering (include/exclude).</td>
        <td>No.</td>
    </tr><tr class="bgdark">
        <td>class_filter_array</td>
        <td>array</td>
        <td>The classes that should be filtered.</td>
        <td>No.</td>
    </tr><tr class="bglight">
        <td>group_by</td>
        <td>array</td>
        <td>DEPRECATED</td>
        <td>No.</td>
    </tr><tr class="bgdark">
        <td>only_translated</td>
        <td>boolean</td>
        <td>Translation filtering (on/off). DEPRECATED</td>
        <td>No.</td>
    </tr><tr class="bglight">
        <td>language</td>
        <td>string</td>
        <td>The translations that should be fetched.</td>
        <td>No.</td>
    </tr><tr class="bgdark">
        <td>main_node_only</td>
        <td>boolean</td>
        <td>Type of nodes that should be fetched (all or main nodes only).</td>
        <td>No.</td>
    </tr><tr class="bglight">
        <td>as_object</td>
        <td>boolean</td>
        <td>If TRUE (or omitted), an array of "ezcontentobjecttreenode" objects will be fetched. Otherwise, an array of arrays will be returned.</td>
        <td>No.</td>
    </tr><tr class="bgdark">
        <td>depth</td>
        <td>integer</td>
        <td>The maximum level of depth that should be explored (1 by default).</td>
        <td>No.</td>
    </tr><tr class="bglight">
        <td>limitation</td>
        <td>array</td>
        <td>Limitation array (emtpy array = access override).</td>
        <td>No.</td>
    </tr><tr class="bgdark">
        <td>ignore_visibility</td>
        <td>boolean</td>
        <td>Makes it possible to fetch hidden nodes.</td>
        <td>No.</td>
    </tr><tr class="bglight">
        <td>load_data_map</td>
        <td>boolean</td>
        <td>Forces preloading of data map when fetch is performed. Default is on if fetch returns less than 15 items.</td>
        <td>No.</td>
    </tr><tr class="bgdark">
        <td>objectname_filter</td>
        <td>string</td>
        <td>searches object names, which start with the given string: 'car' finds objects which names start with car and cars. 'others' finds objects which don't start with a letter.</td>
        <td>No.</td>
    </tr></table><h3>Returns</h3>
<p>An array of <a href="../../../Objects/ezcontentobjecttreenode.html" target="_self">ezcontentobjecttreenode</a> objects or FALSE.</p><h3>Description</h3>
<p>This function fetches the children of a single node or a collection of nodes. The parent node(s) must be specified using the "parent_node_id" parameter. This parameter can either be the ID number of a single node or an array containing several node ID numbers. The function will fetch the nodes that are directly under the specified parent node(s). The collection is returned as an array of <a href="../../../Objects/ezcontentobjecttreenode.html" target="_self">ezcontentobjecttreenode</a> objects. If no nodes are found or if an error occurs, the function will return FALSE. The optional "group_by" parameter (grouping on a date/time basis) is deprecated since this functionality is not supported by Oracle and PostgreSQL.</p><a name="eztoc87605_0_0_1" id="eztoc87605_0_0_1"></a><h4>Sorting</h4><p>The "sort_by" parameter makes it possible to sort the result in different ways. This parameter must be provided as an array. The first element of the array must be the desired sorting method. The second element of the array must be the sorting direction, it can be either true() or false() - ascending or descending. The following table shows the sorting methods that can be used.</p><table class="renderedtable" cellpadding="2" cellspacing="0">

<tr>
<th>  <p>Sorting method</p>
  </th><th>  <p>Description</p>
  </th>
</tr>

<tr>
<td valign="top" style="vertical-align: top">  <p>attribute</p>
  </td>
<td valign="top" style="vertical-align: top">  <p>The nodes are sorted according to the value of a specific attribute.</p>
  </td>

</tr>

<tr>
<td valign="top" style="vertical-align: top">  <p>class_identifier</p>
  </td>
<td valign="top" style="vertical-align: top">  <p>The nodes are sorted by the class identifiers of the objects.</p>
  </td>

</tr>

<tr>
<td valign="top" style="vertical-align: top">  <p>class_name</p>
  </td>
<td valign="top" style="vertical-align: top">  <p>The nodes are sorted by the class names of the objects.</p>
  </td>

</tr>

<tr>
<td valign="top" style="vertical-align: top">  <p>depth</p>
  </td>
<td valign="top" style="vertical-align: top">  <p>The nodes are sorted by their depth in the content tree.</p>
  </td>

</tr>

<tr>
<td valign="top" style="vertical-align: top">  <p>modified</p>
  </td>
<td valign="top" style="vertical-align: top">  <p>The nodes are sorted by the modification time of the objects.</p>
  </td>

</tr>

<tr>
<td valign="top" style="vertical-align: top">  <p>name</p>
  </td>
<td valign="top" style="vertical-align: top">  <p>The nodes are sorted by the names of the objects.</p>
  </td>

</tr>

<tr>
<td valign="top" style="vertical-align: top">  <p>path</p>
  </td>
<td valign="top" style="vertical-align: top">  <p>The nodes are sorted by their node ID path strings (/1/2/43/56).</p>
  </td>

</tr>

<tr>
<td valign="top" style="vertical-align: top">  <p>path_string</p>
  </td>
<td valign="top" style="vertical-align: top">  <p>The nodes are sorted by their virtual path strings (/company/about).</p>
  </td>

</tr>

<tr>
<td valign="top" style="vertical-align: top">  <p>priority</p>
  </td>
<td valign="top" style="vertical-align: top">  <p>The nodes are sorted by their priority.</p>
  </td>

</tr>

<tr>
<td valign="top" style="vertical-align: top">  <p>published</p>
  </td>
<td valign="top" style="vertical-align: top">  <p>The nodes are sorted by the creation time of the objects.</p>
  </td>

</tr>

<tr>
<td valign="top" style="vertical-align: top">  <p>section</p>
  </td>
<td valign="top" style="vertical-align: top">  <p>The nodes are sorted by the section IDs of the objects.</p>
  </td>

</tr>

</table>
<p>It is possible to combine different sorting methods. For example, it is possible to sort the nodes alphabetically and by their publish date/time at the same time.</p><p>Sorting on the attribute level is supported for the following datatypes:</p>
<ul>
<li><div> <a href="../../../Datatypes/Checkbox.html" target="_self">Checkbox</a> </div></li><li><div> <a href="../../../Datatypes/Country.html" target="_self">Country</a> </div></li><li><div> <a href="../../../Datatypes/Date.html" target="_self">Date</a> </div></li><li><div> <a href="../../../Datatypes/Date-and-time.html" target="_self">Date and time</a> </div></li><li><div> <a href="../../../Datatypes/E-mail.html" target="_self">E-mail</a> </div></li><li><div> <a href="../../../Datatypes/Identifier.html" target="_self">Identifier</a> </div></li><li><div> <a href="../../../Datatypes/Integer.html" target="_self">Integer</a> </div></li><li><div> <a href="../../../Datatypes/Multi-price.html" target="_self">Multi-price</a> (only supported in sort_by in content/list and content/tree, not for content/search) </div></li><li><div> <a href="../../../Datatypes/Object-relation.html" target="_self">Object relation</a> (on related object's ID) </div></li><li><div> <a href="../../../Datatypes/Price.html" target="_self">Price</a> </div></li><li><div> <a href="../../../Datatypes/Product-category.html" target="_self">Product category</a> (category ID)</div></li><li><div> <a href="../../../Datatypes/Selection.html" target="_self">Selection</a> (will not work when used as multiple selector) </div></li><li><div> <a href="../../../Datatypes/Text-line.html" target="_self">Text line</a> </div></li><li><div> <a href="../../../Datatypes/Time.html" target="_self">Time</a> </div></li>
</ul>
<p>The syntax for doing attribute level sorting is almost the same as for normal sorting. The only difference is that the ID number or the identifier of the target attribute must be specified. If the identifier is used then both the identifier of the class and the attribute must be specified (separated by a slash, like this: "my_class/my_attribute"). Attribute sorting can only be used if the returned collection contains the same type of nodes.</p><a name="eztoc87605_0_0_2" id="eztoc87605_0_0_2"></a><h4>Fetching subsets</h4><p>By making use of the "offset" and "limit" parameters, it is possible to fetch only a subset of the collection that would have been returned if these parameters were omitted. While the "offset" parameter defines the start of the subset, the "limit" parameter defines the length (number of elements/nodes) of the subset. These parameters are processed at the final stage. In other words, it is possible to do advanced sorting/filtering and grab only a specific chunk of from the sorted/filtered/etc. collection.</p><a name="eztoc87605_0_0_3" id="eztoc87605_0_0_3"></a><h4>Class filtering</h4><p>The class filter mechanism is controlled by the "class_filter_type" and "class_filter_array" parameters. The "class_filter_type" parameter tells eZ Publish to include or exclude specific node types. This parameter must be either "include" or "exclude". It is not possible to include one set and to exclude another at the same time. The value of the "class_filter_array" parameter specifies the type of nodes that should be included or excluded. This parameter must be an array of class ID numbers or class identifier strings.</p><a name="eztoc87605_0_0_4" id="eztoc87605_0_0_4"></a><h4>Attribute filtering</h4><p>The attribute filter mechanism is controlled by the "attribute_filter" parameter. Attribute filtering makes it possible to fetch a set of nodes where an attribute (or several attributes) contains some specific data. Filtering on the attribute level is supported for the following datatypes:</p>
<ul>
<li><div> Checkbox </div></li><li><div> Date </div></li><li><div> Date and time </div></li><li><div> E-mail </div></li><li><div> Integer </div></li><li><div> Object relation </div></li><li><div> Selection (will not work when used as multiple selector) </div></li><li><div> Text line </div></li><li><div> Time </div></li>
</ul>
<p>The "attribute_filter" parameter must be an array. The first element may be set to either "and" or "or" - this controls how the matching specified in the upcoming elements should be carried out. If this parameter is omitted, the system will default to "and". The rest of the elements are arrays, each array specifies a match. The elements in this array are:</p>
<ol>
<li><div> Attribute ID </div></li><li><div> Match type </div></li><li><div> Match value </div></li>
</ol>
<p>The attribute ID can be specified either as the ID number of the attribute or as a string that contains the identifier of the class and the identifier of the attribute separated by a slash. (Note that it is also possible to specify one of the pre-defined strings in order to do filtering on a non-attribute.) The ID number of the attribute or the identifier of the class and the attribute can be found when viewing/editing content classes.</p><p>The match type tells how eZ Publish should try to match the values. The match value is the data that should be matched. The following match types can be used:</p><table class="renderedtable" cellpadding="2" cellspacing="0">

<tr>
<th class="tight">  <p>Type</p>
  </th><th>  <p>Description</p>
  </th>
</tr>

<tr>
<td valign="top" style="vertical-align: top">  <p>=</p>
  </td>
<td valign="top" style="vertical-align: top">  <p>Equal</p>
  </td>

</tr>

<tr>
<td valign="top" style="vertical-align: top">  <p>!=</p>
  </td>
<td valign="top" style="vertical-align: top">  <p>Not equal</p>
  </td>

</tr>

<tr>
<td valign="top" style="vertical-align: top">  <p>&lt;</p>
  </td>
<td valign="top" style="vertical-align: top">  <p>Less than</p>
  </td>

</tr>

<tr>
<td valign="top" style="vertical-align: top">  <p>&gt;</p>
  </td>
<td valign="top" style="vertical-align: top">  <p>Greater than</p>
  </td>

</tr>

<tr>
<td valign="top" style="vertical-align: top">  <p>&lt;=</p>
  </td>
<td valign="top" style="vertical-align: top">  <p>Less than or equal to</p>
  </td>

</tr>

<tr>
<td valign="top" style="vertical-align: top">  <p>&gt;=</p>
  </td>
<td valign="top" style="vertical-align: top">  <p>Greater than or equal to</p>
  </td>

</tr>

<tr>
<td valign="top" style="vertical-align: top">  <p>in</p>
  </td>
<td valign="top" style="vertical-align: top">  <p>Matches one of the array values</p>
  </td>

</tr>

<tr>
<td valign="top" style="vertical-align: top">  <p>not_in</p>
  </td>
<td valign="top" style="vertical-align: top">  <p>Does not match any of the array values</p>
  </td>

</tr>

<tr>
<td valign="top" style="vertical-align: top">  <p>between</p>
  </td>
<td valign="top" style="vertical-align: top">  <p>Is a part of the range determined by the start and end values</p>
  </td>

</tr>

<tr>
<td valign="top" style="vertical-align: top">  <p>not_between</p>
  </td>
<td valign="top" style="vertical-align: top">  <p>Is outside the range determined by the start and end values</p>
  </td>

</tr>

<tr>
<td valign="top" style="vertical-align: top">  <p>like</p>
  </td>
<td valign="top" style="vertical-align: top">  <p>Matches the wildcard string (the wildcard character is '*')</p>
  </td>

</tr>

</table>
<p>Note: the ‘state’ attribute filter only support =, !=, in, and not_in filter type. It is not possible to filter on attributes of different classes, for example it is not possible to filter on both "article/show_comments" and "folder/show_comments" in the same filter.</p><a name="eztoc87605_0_0_5" id="eztoc87605_0_0_5"></a><h4>Filtering on a non-attribute</h4><p>Instead of the class/attribute syntax, you can use "published" and "priority" as "AttributeID". It is also possible to use "owner" as "AttributeID" which refers to the owner's identifier of the content object. This can for instance be used to find all objects of a given user.</p><p>There are also some other pre-defined strings that can be used as "AttributeID" (refer to the following table). When one of these strings is used as "AttributeID", filtering is based on <a href="../../../../Templates/The-template-language/Variable-types.html#objects" target="_self">template object</a> attributes (not on <a href="../../../../Concepts-and-basics/Content-management/The-content-object.html" target="_self">content object</a> attributes). This means that if you use for example "priority" as "AttributeID", the system will check the value of the "priority" attribute of the "<a href="../../../Objects/ezcontentobjecttreenode.html" target="_self">ezcontentobjecttreenode</a>" objects that represent information about content nodes.</p><p>The following table describes the pre-defined strings and corresponding attributes.</p><table class="renderedtable" cellpadding="2" cellspacing="0">

<tr>
<th>  <p>Name</p>
  </th><th>  <p>Description</p>
  </th>
</tr>

<tr>
<td valign="top" style="vertical-align: top">  <p>class_identifier</p>
  </td>
<td valign="top" style="vertical-align: top">  <p>The identifier of the class which the object encapsulated by the node is an instance of.</p>
  </td>

</tr>

<tr>
<td valign="top" style="vertical-align: top">  <p>class_name</p>
  </td>
<td valign="top" style="vertical-align: top">  <p>The name of the class which the object encapsulated by the node is an instance of.</p>
  </td>

</tr>

<tr>
<td valign="top" style="vertical-align: top">  <p>depth</p>
  </td>
<td valign="top" style="vertical-align: top">  <p>The depth of the node within the content node tree.</p>
  </td>

</tr>

<tr>
<td valign="top" style="vertical-align: top">  <p>modified</p>
  </td>
<td valign="top" style="vertical-align: top">  <p>A UNIX timestamp pinpointing the exact date/time when the object encapsulated by the node was last modified (the "modified" attribute of the corresponding "ezcontentobject" object).</p>
  </td>

</tr>

<tr>
<td valign="top" style="vertical-align: top">  <p>modified_subnode</p>
  </td>
<td valign="top" style="vertical-align: top">  <p>A UNIX timestamp pinpointing the exact time a sub node was changed.</p>
  </td>

</tr>

<tr>
<td valign="top" style="vertical-align: top">  <p>name</p>
  </td>
<td valign="top" style="vertical-align: top">  <p>The name of the object the node encapsulates.</p>
  </td>

</tr>

<tr>
<td valign="top" style="vertical-align: top">  <p>owner</p>
  </td>
<td valign="top" style="vertical-align: top">  <p>The ID number of the object representing the user who initially created the object (the "owner_id" attribute of the corresponding "ezcontentobject" object).</p>
  </td>

</tr>

<tr>
<td valign="top" style="vertical-align: top">  <p>path</p>
  </td>
<td valign="top" style="vertical-align: top">  <p>The node's path string (the "path_string" attribute).</p>
  </td>

</tr>

<tr>
<td valign="top" style="vertical-align: top">  <p>priority</p>
  </td>
<td valign="top" style="vertical-align: top">  <p>The node's priority.</p>
  </td>

</tr>

<tr>
<td valign="top" style="vertical-align: top">  <p>published</p>
  </td>
<td valign="top" style="vertical-align: top">  <p>A UNIX timestamp pinpointing the exact date/time when the object was published for the first time (the "published" attribute of the corresponding "ezcontentobject" object).</p>
  </td>

</tr>

<tr>
<td valign="top" style="vertical-align: top">  <p>section</p>
  </td>
<td valign="top" style="vertical-align: top">  <p>The ID number of the section that the object belongs to (the "section_id" attribute of the corresponding "ezcontentobject" object).</p>
  </td>

</tr>

<tr>
<td valign="top" style="vertical-align: top">  <p>state</p>
  </td>
<td valign="top" style="vertical-align: top">  <p>This parameter allows to filter on a content object state id or an array of content object states ids. This parameter only supports =, !=, in and not_in operator in the attribute filter. With = and != operators, it's possible to filter on a numeric id while in and not_in are dedicated to filter an array of id.</p>
  </td>

</tr>

</table>
<a name="eztoc87605_0_0_6" id="eztoc87605_0_0_6"></a><h4>Extended attribute filtering</h4><p>The "extended_attribute_filter" parameter can be used to do advanced attribute filtering. It is for expert/experienced users. This mechanism makes it possible to introduce additional SQL conditions within the fetch. It allows filtering based on values in custom tables and/or special filtering within the "<i>ezcontentobject_attribute</i>" table.</p><p>When an extended attribute filter adds a new column in the result set from the database, it is possible to use it for sorting, by specifying new_table.column in the sort_by parameter of the fetch.</p><p>The mechanism must be configured using a configuration override for "<i>extendedattributefilter.ini</i>". This file allows the site administrator to set up different custom filters. Each filter must be a named collection of configuration settings. The name of a filter is the name of the configuration block under which the filter's settings are defined. The following text shows an example that demonstrates the setup of a filter called "MyFilter".</p><pre class="wordwrap copytoclipboard"><span class="line">#The name of the filter.</span>
<span class="line">[MyFilter]</span>
<span class="line"> </span>
<span class="line">#The name of the extension where the filtering code is defined.</span>
<span class="line">ExtensionName=myextension</span>
<span class="line"> </span>
<span class="line">#The name of the filter class.</span>
<span class="line">ClassName=eZMyExtendedFilter</span>
<span class="line"> </span>
<span class="line">#The name of the method which is called to generate the SQL parts.</span>
<span class="line">MethodName=createSqlParts</span>
<span class="line"> </span>
<span class="line">#The file which should be included (extension/myextension will automatically be prepended).</span>
<span class="line">FileName=classes/ezmyextendedfilter.php</span>
</pre><!--[if IE]>
<p class="copytoclipboard"><img src="/extension/ezdoc/design/doc/images/copytoclipboard.gif" height="16" width="16" alt="Copy to clipboard" title="Copy to clipboard" onclick="window.clipboardData.setData( 'text', '#The name of the filter.\r\n[MyFilter]\r\n\r\n#The name of the extension where the filtering code is defined.\r\nExtensionName=myextension\r\n\r\n#The name of the filter class.\r\nClassName=eZMyExtendedFilter\r\n\r\n#The name of the method which is called to generate the SQL parts.\r\nMethodName=createSqlParts\r\n\r\n#The file which should be included (extension/myextension will automatically be prepended).\r\nFileName=classes/ezmyextendedfilter.php' ); return false;" /></p>
<![endif]--><p>The function defined by the "MethodName" setting must return an associative array containing two strings:</p><pre class="wordwrap"><span class="line">array( 'tables' =&gt; '...', 'joins' =&gt; '...' , 'columns' =&gt; '...', 'group_by' =&gt; '...' ));</span>
</pre><p><b>Up to 4.7 :</b></p>
<ul>
<li><div><b>tables</b> : must start with a comma. The rest of the string should contain a comma separated list of other tables that should be included in the query. </div></li><li><div><b>joins</b> : will be added inside the "WHERE" section of the query. This string must start with a space and contain an "AND" and an additional space at the end.</div></li><li><div><b>columns</b> : Additional columns to fetch in the query</div></li><li><div><b>group_by</b> (not required) : Fill it with specific column when necessary</div></li>
</ul>
<p><b>As of 5.0 :</b></p>
<ul>
<li><div><b>tables</b> : The tables you want to join using the <i>JOIN/INNER JOIN</i> syntax. Use <i>ON</i> clause for join conditions.</div></li><li><div><b>joins</b> : Must NOT contain join conditions any more, but general filters that will be added inside the <i>WHERE</i> section of the query.</div></li><li><div><b>columns</b> : Unchanged</div></li><li><div><b>group_by</b> : Unchanged</div></li>
</ul>
<p>The example below shows a solution that filters the content based on values within an additional/custom table. This table is joined with the node table (by object ID and object version). The additional/custom table would most likely be maintained by a special/custom datatype.</p><p><b>Note</b> : This example is valid for eZ Publish versions up to 4.7. For 5.x, please refer to changes mentioned above.</p><pre class="wordwrap copytoclipboard"><span class="line">class eZMyExtendedFilter</span>
<span class="line">{</span>
<span class="line">    /*!</span>
<span class="line">     Constructor</span>
<span class="line">    */</span>
<span class="line">    public function __construct()</span>
<span class="line">    {</span>
<span class="line">        // Empty...</span>
<span class="line">    }</span>
<span class="line"> </span>
<span class="line">    public function createSqlParts( $params )</span>
<span class="line">    {</span>
<span class="line">        $sqlTables= ', ezmyfiltertable ';</span>
<span class="line"> </span>
<span class="line">        $sqlJoins = ' ezcontentobject_tree.contentobject_id = ezmyfiltertable.contentobject_id AND ezcontentobject_tree.contentobject_version = ezmyfiltertable.version AND ';</span>
<span class="line"> </span>
<span class="line">        if ( isset( $params['value1'] ) )</span>
<span class="line">        {</span>
<span class="line">             $value1 = $params['value1'];</span>
<span class="line">        }</span>
<span class="line">        else</span>
<span class="line">        {</span>
<span class="line">             $value1 = "10";</span>
<span class="line">        }</span>
<span class="line">        if ( isset( $params['value2'] ) )</span>
<span class="line">        {</span>
<span class="line">             $value2 = $params['value2'];</span>
<span class="line">        }</span>
<span class="line">        else</span>
<span class="line">        {</span>
<span class="line">             $value2 = "10";</span>
<span class="line">        }</span>
<span class="line"> </span>
<span class="line">        $sqlCondArray = array();</span>
<span class="line"> </span>
<span class="line">        $sqlCondArray[] = 'ezmyfiltertable.my_cond1 = ' . $value1;</span>
<span class="line"> </span>
<span class="line">        $sqlCondArray[] = 'ezmyfiltertable.my_cond1 = ' . $value2;</span>
<span class="line"> </span>
<span class="line">        $sqlCond = implode( ' or ', $sqlCondArray );</span>
<span class="line"> </span>
<span class="line">        $sqlCond = ' ( ' . $sqlCond . ' ) AND ' . $sqlJoins . ' ';</span>
<span class="line"> </span>
<span class="line">        return array( 'tables' =&gt; $sqlTables, 'joins' =&gt; $sqlCond, 'columns' =&gt;'' );</span>
<span class="line"> </span>
<span class="line">    }</span>
<span class="line">}</span>
</pre><!--[if IE]>
<p class="copytoclipboard"><img src="/extension/ezdoc/design/doc/images/copytoclipboard.gif" height="16" width="16" alt="Copy to clipboard" title="Copy to clipboard" onclick="window.clipboardData.setData( 'text', 'class eZMyExtendedFilter\r\n{\r\n    /*!\r\n     Constructor\r\n    */\r\n    public function __construct()\r\n    {\r\n        // Empty...\r\n    }\r\n\r\n    public function createSqlParts( $params )\r\n    {\r\n        $sqlTables= \', ezmyfiltertable \';\r\n\r\n        $sqlJoins = \' ezcontentobject_tree.contentobject_id = ezmyfiltertable.contentobject_id AND ezcontentobject_tree.contentobject_version = ezmyfiltertable.version AND \';\r\n\r\n        if ( isset( $params[\'value1\'] ) )\r\n        {\r\n             $value1 = $params[\'value1\'];\r\n        }\r\n        else\r\n        {\r\n             $value1 = &quot;10&quot;;\r\n        }\r\n        if ( isset( $params[\'value2\'] ) )\r\n        {\r\n             $value2 = $params[\'value2\'];\r\n        }\r\n        else\r\n        {\r\n             $value2 = &quot;10&quot;;\r\n        }\r\n\r\n        $sqlCondArray = array();\r\n\r\n        $sqlCondArray[] = \'ezmyfiltertable.my_cond1 = \' . $value1;\r\n\r\n        $sqlCondArray[] = \'ezmyfiltertable.my_cond1 = \' . $value2;\r\n\r\n        $sqlCond = implode( \' or \', $sqlCondArray );\r\n\r\n        $sqlCond = \' ( \' . $sqlCond . \' ) AND \' . $sqlJoins . \' \';\r\n\r\n        return array( \'tables\' =&gt; $sqlTables, \'joins\' =&gt; $sqlCond, \'columns\' =&gt;\'\' );\r\n\r\n    }\r\n}' ); return false;" /></p>
<![endif]--><p>The following template code shows how the extended attribute filter (see the PHP code above) can be used within a fetch.</p><pre class="wordwrap copytoclipboard"><span class="line">{fetch( 'content', 'list',</span>
<span class="line">        hash( 'parent_node_id', 2,</span>
<span class="line">              'sort_by', array( 'priority', false() ),</span>
<span class="line">              'limit', 15,</span>
<span class="line">              'extended_attribute_filter',</span>
<span class="line">                            hash( 'id', 'MyFilter',</span>
<span class="line">                                          'params', hash( 'value1', 15,</span>
<span class="line">                                                        'value2', 30 ) ),</span>
<span class="line">              'depth', 10,</span>
<span class="line">              'main_node_only', true() ) )}</span>
</pre><!--[if IE]>
<p class="copytoclipboard"><img src="/extension/ezdoc/design/doc/images/copytoclipboard.gif" height="16" width="16" alt="Copy to clipboard" title="Copy to clipboard" onclick="window.clipboardData.setData( 'text', '{fetch( \'content\', \'list\',\r\n        hash( \'parent_node_id\', 2,\r\n              \'sort_by\', array( \'priority\', false() ),\r\n              \'limit\', 15,\r\n              \'extended_attribute_filter\', \r\n                            hash( \'id\', \'MyFilter\',\r\n                                          \'params\', hash( \'value1\', 15,\r\n                                                        \'value2\', 30 ) ),\r\n              \'depth\', 10,\r\n              \'main_node_only\', true() ) )}' ); return false;" /></p>
<![endif]--><p>There is an additional example at the bottom of this page: <a href="list.html#example20" target="_self">Example 20</a>.</p><a name="eztoc87605_0_0_7" id="eztoc87605_0_0_7"></a><h4>Fetching main nodes only</h4><p>The "main_node_only" parameter can be used to tell eZ Publish that it should only fetch main nodes (nodes that are main locations for content objects). This parameter is optional and can be set to either true() or false(). When set to true(), the fetch function will only return main nodes. This functionality can be used to avoid duplicates (different nodes but same objects) in the result.</p><a name="eztoc87605_0_0_8" id="eztoc87605_0_0_8"></a><h4>Fetching translated objects only</h4><p><b>Note:</b> This description applies to eZ Publish 3.8 or earlier. The "only_translated" parameter is deprecated in all later versions. In some multi-language scenarios, not all objects are translated into other/all languages. When the "only_translated" parameter is set to "true()" the system will only fetch objects that have been translated into the language used by the siteaccess (the current language). The "language" parameter can be used to control which translations that should be fetched. The value of this parameter must be a valid locale string, for example "ger-DE".</p><a name="eztoc87605_0_0_9" id="eztoc87605_0_0_9"></a><h4>Access override</h4><p>The "limitation" parameter makes it possible to instruct the system to use an alternate set of access limitations instead of the ones that belong to the current user. This is typically useful when there is a need to fetch nodes that the current user does not have access to. All permission checking can be skipped by providing an empty array. It is also possible to provide arrays that dictate the access limitations of other users and/or virtual sets of limitations. The array follows an internal structure that will be documented in the future.</p><a name="eztoc87605_0_0_10" id="eztoc87605_0_0_10"></a><h4>Visibility override</h4><p>The "ignore_visibility" parameter makes it possible to fetch hidden nodes. It can be set to either "true()" or "false()". If set to "true()", the fetch will ignore the visibility flags of nodes and thus it will return all nodes regardless of their visibility status. In other words, this parameter overrides the <a href="../../../Configuration-files/site.ini/SiteAccessSettings/ShowHiddenNodes.html" target="_self">"ShowHiddenNodes"</a> configuration directive for a specific fetch operation in a template.</p><h3>Examples</h3>
<a name="eztoc87606_0_0_1" id="eztoc87606_0_0_1"></a><h4>Example 1</h4><pre class="wordwrap copytoclipboard"><span class="line">{def $nodes=fetch( 'content', 'list',</span>
<span class="line">        hash( 'parent_node_id', 42,</span>
<span class="line">              'depth', 3 ) )}</span>
<span class="line"> </span>
<span class="line">{foreach $nodes as $node}</span>
<span class="line">    {$node.name|wash} &lt;br /&gt;</span>
<span class="line">{/foreach}</span>
</pre><!--[if IE]>
<p class="copytoclipboard"><img src="/extension/ezdoc/design/doc/images/copytoclipboard.gif" height="16" width="16" alt="Copy to clipboard" title="Copy to clipboard" onclick="window.clipboardData.setData( 'text', '{def $nodes=fetch( \'content\', \'list\',\r\n        hash( \'parent_node_id\', 42,\r\n              \'depth\', 3 ) )}\r\n\r\n{foreach $nodes as $node}\r\n    {$node.name|wash} &lt;br /&gt;\r\n{/foreach}' ); return false;" /></p>
<![endif]--><p>This example demonstrates how to fetch nodes which are until the third level under the parent node number 42. Outputs the names of all these nodes.</p><a name="eztoc87606_0_0_2" id="eztoc87606_0_0_2"></a><h4>Example 2</h4><pre class="wordwrap"><span class="line">{fetch( 'content', 'list',</span>
<span class="line">        hash( 'parent_node_id', 42,</span>
<span class="line">              'sort_by',        array( 'published', false() ) ) )}</span>
</pre><p>This example demonstrates how to fetch all nodes that are the children of node number 42. The nodes are sorted by the time they were created; the most recently created node will be the first element in the collection.</p><a name="eztoc87606_0_0_3" id="eztoc87606_0_0_3"></a><h4>Example 3</h4><pre class="wordwrap"><span class="line">{fetch( 'content', 'list',</span>
<span class="line">        hash( 'parent_node_id', array( '42', '43', '45' ),</span>
<span class="line">              'sort_by',        array( 'published', false() ) ) )}</span>
</pre><p>This example demonstrates how to fetch all nodes that are the children of multiple nodes; number 42, 43 and 45. The nodes are sorted by the time they were created; the most recently created node will be the first element in the collection.</p><a name="eztoc87606_0_0_4" id="eztoc87606_0_0_4"></a><h4>Example 4</h4><pre class="wordwrap copytoclipboard"><span class="line">{fetch( 'content', 'list',</span>
<span class="line">        hash( 'parent_node_id', 42,</span>
<span class="line">              'sort_by',        array( array( 'name',      false() ),</span>
<span class="line">                                      array( 'published', false() ) ) )}</span>
</pre><!--[if IE]>
<p class="copytoclipboard"><img src="/extension/ezdoc/design/doc/images/copytoclipboard.gif" height="16" width="16" alt="Copy to clipboard" title="Copy to clipboard" onclick="window.clipboardData.setData( 'text', '{fetch( \'content\', \'list\', \r\n        hash( \'parent_node_id\', 42,\r\n              \'sort_by\',        array( array( \'name\',      false() ),\r\n                                      array( \'published\', false() ) ) )}' ); return false;" /></p>
<![endif]--><p>This example demonstrates how to combine different sorting methods. The fetch function will fetch the child nodes of node number 42. The fetched nodes will be sorted by their name and the time they were created.</p><a name="eztoc87606_0_0_5" id="eztoc87606_0_0_5"></a><h4>Example 5</h4><pre class="wordwrap copytoclipboard"><span class="line">{fetch( 'content', 'list',</span>
<span class="line">        hash( 'parent_node_id', 42,</span>
<span class="line">              'sort_by',        array( 'attribute',</span>
<span class="line">                                      false(),</span>
<span class="line">                                      107 ) ) )}</span>
</pre><!--[if IE]>
<p class="copytoclipboard"><img src="/extension/ezdoc/design/doc/images/copytoclipboard.gif" height="16" width="16" alt="Copy to clipboard" title="Copy to clipboard" onclick="window.clipboardData.setData( 'text', '{fetch( \'content\', \'list\', \r\n        hash( \'parent_node_id\', 42,\r\n              \'sort_by\',        array( \'attribute\', \r\n                                      false(), \r\n                                      107 ) ) )}' ); return false;" /></p>
<![endif]--><p>This example demonstrates attribute sorting by using the ID number of the attribute.</p><a name="eztoc87606_0_0_6" id="eztoc87606_0_0_6"></a><h4>Example 6</h4><pre class="wordwrap copytoclipboard"><span class="line">{fetch( 'content', 'list',</span>
<span class="line">        hash( 'parent_node_id', 42,</span>
<span class="line">              'sort_by',        array( 'attribute',</span>
<span class="line">                                      false(),</span>
<span class="line">                                      'person/last_name' ) ) )}</span>
</pre><!--[if IE]>
<p class="copytoclipboard"><img src="/extension/ezdoc/design/doc/images/copytoclipboard.gif" height="16" width="16" alt="Copy to clipboard" title="Copy to clipboard" onclick="window.clipboardData.setData( 'text', '{fetch( \'content\', \'list\', \r\n        hash( \'parent_node_id\', 42,\r\n              \'sort_by\',        array( \'attribute\', \r\n                                      false(), \r\n                                      \'person/last_name\' ) ) )}' ); return false;" /></p>
<![endif]--><p>This example demonstrates attribute sorting by using the string notation to pinpoint the identifier of the class and the attribute.</p><a name="eztoc87606_0_0_7" id="eztoc87606_0_0_7"></a><h4>Example 7</h4><pre class="wordwrap copytoclipboard"><span class="line">{fetch( 'content', 'list',</span>
<span class="line">        hash( 'parent_node_id',     42,</span>
<span class="line">              'class_filter_type',  'include',</span>
<span class="line">              'class_filter_array', array( '13' ) ) )}</span>
</pre><!--[if IE]>
<p class="copytoclipboard"><img src="/extension/ezdoc/design/doc/images/copytoclipboard.gif" height="16" width="16" alt="Copy to clipboard" title="Copy to clipboard" onclick="window.clipboardData.setData( 'text', '{fetch( \'content\', \'list\', \r\n        hash( \'parent_node_id\',     42,\r\n              \'class_filter_type\',  \'include\',\r\n              \'class_filter_array\', array( \'13\' ) ) )}' ); return false;" /></p>
<![endif]--><p>This example demonstrates how to use class filtering to fetch only nodes that reference objects that are instances of class number 13.</p><a name="eztoc87606_0_0_8" id="eztoc87606_0_0_8"></a><h4>Example 8</h4><pre class="wordwrap copytoclipboard"><span class="line">{fetch( 'content', 'list',</span>
<span class="line">        hash( 'parent_node_id',     42,</span>
<span class="line">              'class_filter_type',  'include',</span>
<span class="line">              'class_filter_array', array( 'folder' ) ) )}</span>
</pre><!--[if IE]>
<p class="copytoclipboard"><img src="/extension/ezdoc/design/doc/images/copytoclipboard.gif" height="16" width="16" alt="Copy to clipboard" title="Copy to clipboard" onclick="window.clipboardData.setData( 'text', '{fetch( \'content\', \'list\', \r\n        hash( \'parent_node_id\',     42,\r\n              \'class_filter_type\',  \'include\',\r\n              \'class_filter_array\', array( \'folder\' ) ) )}' ); return false;" /></p>
<![endif]--><p>This example demonstrates how to use class filtering to fetch only nodes that reference folder objects.</p><a name="eztoc87606_0_0_9" id="eztoc87606_0_0_9"></a><h4>Example 9</h4><pre class="wordwrap copytoclipboard"><span class="line">{fetch( 'content', 'list',</span>
<span class="line">        hash( 'parent_node_id',     42,</span>
<span class="line">              'class_filter_type',  'exclude',</span>
<span class="line">              'class_filter_array', array( 'article',</span>
<span class="line">                                          'comment' ) ) )}</span>
</pre><!--[if IE]>
<p class="copytoclipboard"><img src="/extension/ezdoc/design/doc/images/copytoclipboard.gif" height="16" width="16" alt="Copy to clipboard" title="Copy to clipboard" onclick="window.clipboardData.setData( 'text', '{fetch( \'content\', \'list\',\r\n        hash( \'parent_node_id\',     42,\r\n              \'class_filter_type\',  \'exclude\',\r\n              \'class_filter_array\', array( \'article\', \r\n                                          \'comment\' ) ) )}' ); return false;" /></p>
<![endif]--><p>This example demonstrates how to use class filtering to exclude articles and comments from a fetch.</p><a name="eztoc87606_0_0_10" id="eztoc87606_0_0_10"></a><h4>Example 10</h4><pre class="wordwrap copytoclipboard"><span class="line">{fetch( 'content', 'list',</span>
<span class="line">        hash( 'parent_node_id',   42,</span>
<span class="line">              'attribute_filter', array( 'or',</span>
<span class="line">                                        array( 152, '=', 'abc' ),</span>
<span class="line">                                        array( 153, '=', '42' ) ) ) )}</span>
</pre><!--[if IE]>
<p class="copytoclipboard"><img src="/extension/ezdoc/design/doc/images/copytoclipboard.gif" height="16" width="16" alt="Copy to clipboard" title="Copy to clipboard" onclick="window.clipboardData.setData( 'text', '{fetch( \'content\', \'list\', \r\n        hash( \'parent_node_id\',   42,\r\n              \'attribute_filter\', array( \'or\',\r\n                                        array( 152, \'=\', \'abc\' ),\r\n                                        array( 153, \'=\', \'42\' ) ) ) )}' ); return false;" /></p>
<![endif]--><p>This example demonstrates how to do attribute filtering. Only nodes that have attributes number 152 and 153 set to "abc" and 42 respectively will be included in the result.</p><a name="eztoc87606_0_0_11" id="eztoc87606_0_0_11"></a><h4>Example 11</h4><pre class="wordwrap copytoclipboard"><span class="line">{fetch( 'content',</span>
<span class="line">        'list',</span>
<span class="line">        hash( 'parent_node_id',   42,</span>
<span class="line">              'attribute_filter', array( array( 'article/title',</span>
<span class="line">                                        'like',</span>
<span class="line">                                        '*story*' ) ) ) )}</span>
</pre><!--[if IE]>
<p class="copytoclipboard"><img src="/extension/ezdoc/design/doc/images/copytoclipboard.gif" height="16" width="16" alt="Copy to clipboard" title="Copy to clipboard" onclick="window.clipboardData.setData( 'text', '{fetch( \'content\', \r\n        \'list\', \r\n        hash( \'parent_node_id\',   42, \r\n              \'attribute_filter\', array( array( \'article/title\',\r\n                                        \'like\',\r\n                                        \'*story*\' ) ) ) )}' ); return false;" /></p>
<![endif]--><p>This example demonstrates how to do attribute filtering. Instead of specifying the ID number of the attribute (as in the previous example), the identifier of the class and the attribute is used. Only article nodes that contain the text "story" in their title attribute will be included in the result.</p><a name="eztoc87606_0_0_12" id="eztoc87606_0_0_12"></a><h4>Example 12</h4><pre class="wordwrap copytoclipboard"><span class="line">{fetch( 'content',</span>
<span class="line">        'list',</span>
<span class="line">        hash( 'parent_node_id',   42,</span>
<span class="line">              'attribute_filter', array( array( 'article/image',</span>
<span class="line">                                        '=',</span>
<span class="line">                                        87 ) ) ) )}</span>
</pre><!--[if IE]>
<p class="copytoclipboard"><img src="/extension/ezdoc/design/doc/images/copytoclipboard.gif" height="16" width="16" alt="Copy to clipboard" title="Copy to clipboard" onclick="window.clipboardData.setData( 'text', '{fetch( \'content\', \r\n        \'list\', \r\n        hash( \'parent_node_id\',   42, \r\n              \'attribute_filter\', array( array( \'article/image\',\r\n                                        \'=\',\r\n                                        87 ) ) ) )}' ); return false;" /></p>
<![endif]--><p>This example demonstrates how to do attribute filtering using an attribute of the "Object relation" datatype. Only article nodes that store relation to the specified content object (object ID = 87) in their "image" attribute will be included in the result.</p><a name="eztoc87606_0_0_13" id="eztoc87606_0_0_13"></a><h4>Example 13</h4><pre class="wordwrap copytoclipboard"><span class="line">{fetch( 'content',</span>
<span class="line">        'list',</span>
<span class="line">        hash( 'parent_node_id',   42,</span>
<span class="line">              'attribute_filter', array( array( 'review/rating',</span>
<span class="line">                                        'between',</span>
<span class="line">                                        array( 0, 2 ) ) ) ) )}</span>
</pre><!--[if IE]>
<p class="copytoclipboard"><img src="/extension/ezdoc/design/doc/images/copytoclipboard.gif" height="16" width="16" alt="Copy to clipboard" title="Copy to clipboard" onclick="window.clipboardData.setData( 'text', '{fetch( \'content\', \r\n        \'list\', \r\n        hash( \'parent_node_id\',   42, \r\n              \'attribute_filter\', array( array( \'review/rating\',\r\n                                        \'between\',\r\n                                        array( 0, 2 ) ) ) ) )}' ); return false;" /></p>
<![endif]--><p>This example demonstrates how to do attribute filtering using an attribute of the "Selection" datatype. Only review nodes that contain "Very good", "Good" or "Ok" (options 0, 1 or 2) in their "rating" attribute will be included in the result.</p><a name="eztoc87606_0_0_14" id="eztoc87606_0_0_14"></a><h4>Example 14</h4><pre class="wordwrap copytoclipboard"><span class="line">{fetch( 'content',</span>
<span class="line">        'list',</span>
<span class="line">        hash( 'parent_node_id',   42,</span>
<span class="line">              'attribute_filter', array( array( 'bug/priority',</span>
<span class="line">                                        'in',</span>
<span class="line">                                        array( 1, 4 ) ) ) ) )}</span>
</pre><!--[if IE]>
<p class="copytoclipboard"><img src="/extension/ezdoc/design/doc/images/copytoclipboard.gif" height="16" width="16" alt="Copy to clipboard" title="Copy to clipboard" onclick="window.clipboardData.setData( 'text', '{fetch( \'content\', \r\n        \'list\', \r\n        hash( \'parent_node_id\',   42, \r\n              \'attribute_filter\', array( array( \'bug/priority\',\r\n                                        \'in\',\r\n                                        array( 1, 4 ) ) ) ) )}' ); return false;" /></p>
<![endif]--><p>Fetches bugs with priority 1 and 4 (i.e. bug nodes that have their priority attribute set to 1 or 4).</p><a name="eztoc87606_0_0_15" id="eztoc87606_0_0_15"></a><h4>Example 15</h4><pre class="wordwrap copytoclipboard"><span class="line">{fetch( 'content',</span>
<span class="line">        'list',</span>
<span class="line">        hash( 'parent_node_id',   42,</span>
<span class="line">              'attribute_filter', array( array( 'bug/priority',</span>
<span class="line">                                        'between',</span>
<span class="line">                                        array( 2, 4 ) ) ) ) )}</span>
</pre><!--[if IE]>
<p class="copytoclipboard"><img src="/extension/ezdoc/design/doc/images/copytoclipboard.gif" height="16" width="16" alt="Copy to clipboard" title="Copy to clipboard" onclick="window.clipboardData.setData( 'text', '{fetch( \'content\', \r\n        \'list\', \r\n        hash( \'parent_node_id\',   42, \r\n              \'attribute_filter\', array( array( \'bug/priority\',\r\n                                        \'between\',\r\n                                        array( 2, 4 ) ) ) ) )}' ); return false;" /></p>
<![endif]--><p>Fetches bugs with priority 2, 3 and 4 (i.e. bug nodes that have their priority attribute value between 2 and 4).</p><a name="eztoc87606_0_0_16" id="eztoc87606_0_0_16"></a><h4>Example 16</h4><pre class="wordwrap copytoclipboard"><span class="line">{fetch( 'content', 'list',</span>
<span class="line">        hash( 'parent_node_id',   42,</span>
<span class="line">              'attribute_filter', array( 'and',</span>
<span class="line">                                        array( 'priority', '&gt;', '20' ),</span>
<span class="line">                                        array( 'article/title', '=', 'abc' ) ) ) )}</span>
</pre><!--[if IE]>
<p class="copytoclipboard"><img src="/extension/ezdoc/design/doc/images/copytoclipboard.gif" height="16" width="16" alt="Copy to clipboard" title="Copy to clipboard" onclick="window.clipboardData.setData( 'text', '{fetch( \'content\', \'list\', \r\n        hash( \'parent_node_id\',   42, \r\n              \'attribute_filter\', array( \'and\',\r\n                                        array( \'priority\', \'&gt;\', \'20\' ), \r\n                                        array( \'article/title\', \'=\', \'abc\' ) ) ) )}' ); return false;" /></p>
<![endif]--><p>This example demonstrates how to do filtering on a non-attribute. Instead of specifying the identifier of the class and the attribute, "priority" is used. Only article nodes that have their title attribute set to "abc" and have a priority greater than 20 will be included in the result.</p><a name="eztoc87606_0_0_17" id="eztoc87606_0_0_17"></a><h4>Example 17</h4><pre class="wordwrap copytoclipboard"><span class="line">{def $nodes=fetch( 'content', 'list',</span>
<span class="line">        hash( 'parent_node_id', 42,</span>
<span class="line">             'attribute_filter', array( 'and',</span>
<span class="line">                                 array( 'owner',</span>
<span class="line">                                  '=',</span>
<span class="line">                                 $current_user.contentobject_id ) ,</span>
<span class="line">                                 array( 'class_identifier', '=', 'folder' ) ) ,</span>
<span class="line">             'depth', 3 ) )}</span>
<span class="line"> </span>
<span class="line">{foreach $nodes as $node}</span>
<span class="line">    {$node.name|wash}&lt;br /&gt;</span>
<span class="line">{/foreach}</span>
<span class="line"> </span>
<span class="line">{undef $nodes}</span>
</pre><!--[if IE]>
<p class="copytoclipboard"><img src="/extension/ezdoc/design/doc/images/copytoclipboard.gif" height="16" width="16" alt="Copy to clipboard" title="Copy to clipboard" onclick="window.clipboardData.setData( 'text', '{def $nodes=fetch( \'content\', \'list\', \r\n        hash( \'parent_node_id\', 42, \r\n             \'attribute_filter\', array( \'and\',\r\n                                 array( \'owner\',\r\n                                  \'=\',\r\n                                 $current_user.contentobject_id ) ,\r\n                                 array( \'class_identifier\', \'=\', \'folder\' ) ) ,\r\n             \'depth\', 3 ) )} \r\n\r\n{foreach $nodes as $node}\r\n    {$node.name|wash}&lt;br /&gt;\r\n{/foreach}\r\n\r\n{undef $nodes}' ); return false;" /></p>
<![endif]--><p>Fetches folder nodes which are until the third level under the parent node number 42 and are created by the current user.</p><a name="eztoc87606_0_0_18" id="eztoc87606_0_0_18"></a><h4>Example 18</h4><pre class="wordwrap"><span class="line">{fetch( 'content', 'list',</span>
<span class="line">        hash( 'parent_node_id',  2,</span>
<span class="line">              'only_translated', true() ) )}</span>
</pre><p>This example demonstrates how to fetch only nodes that reference objects that have been translated into the current language (the language that the siteaccess is using).</p><a name="eztoc87606_0_0_19" id="eztoc87606_0_0_19"></a><h4>Example 19</h4><pre class="wordwrap copytoclipboard"><span class="line">{fetch( 'content', 'list',</span>
<span class="line">        hash( 'parent_node_id',  2,</span>
<span class="line">              'limit',           3,</span>
<span class="line">              'only_translated', true(),</span>
<span class="line">              'language',        'ger-DE' ) )}</span>
</pre><!--[if IE]>
<p class="copytoclipboard"><img src="/extension/ezdoc/design/doc/images/copytoclipboard.gif" height="16" width="16" alt="Copy to clipboard" title="Copy to clipboard" onclick="window.clipboardData.setData( 'text', '{fetch( \'content\', \'list\',\r\n        hash( \'parent_node_id\',  2,\r\n              \'limit\',           3,       \r\n              \'only_translated\', true(),\r\n              \'language\',        \'ger-DE\' ) )}' ); return false;" /></p>
<![endif]--><p>This example demonstrates another way to fetch translated objects. The fetch will return nodes that reference objects which have been translated into the German language.</p><a name="eztoc87606_0_0_20" id="eztoc87606_0_0_20"></a><h4>Example 20</h4><pre class="wordwrap copytoclipboard"><span class="line">{fetch( 'content', 'list',</span>
<span class="line">        hash( 'parent_node_id', 2,</span>
<span class="line">              'sort_by', array( 'priority', false() ),</span>
<span class="line">              'limit', 15,</span>
<span class="line">              'extended_attribute_filter',</span>
<span class="line">                            hash( 'id', 'MyFilter',</span>
<span class="line">                            'params', hash( 'value1', 'text1',</span>
<span class="line">                                          'value2', 'text2' ) ) ) )}</span>
</pre><!--[if IE]>
<p class="copytoclipboard"><img src="/extension/ezdoc/design/doc/images/copytoclipboard.gif" height="16" width="16" alt="Copy to clipboard" title="Copy to clipboard" onclick="window.clipboardData.setData( 'text', '{fetch( \'content\', \'list\',\r\n        hash( \'parent_node_id\', 2,\r\n              \'sort_by\', array( \'priority\', false() ),\r\n              \'limit\', 15,\r\n              \'extended_attribute_filter\',\r\n                            hash( \'id\', \'MyFilter\',\r\n                            \'params\', hash( \'value1\', \'text1\',\r\n                                          \'value2\', \'text2\' ) ) ) )}' ); return false;" /></p>
<![endif]--><p>This example demonstrates how the extended attribute filter can be used. The template code above will fetch objects that match the following condition: any object using the ezstring datatype containing either "text1" or "text2". The necessary PHP implementation is shown in the example below.</p><pre class="wordwrap copytoclipboard"><span class="line">class eZMyExtendedFilter</span>
<span class="line">{</span>
<span class="line">    /*!</span>
<span class="line">     Constructor</span>
<span class="line">    */</span>
<span class="line">    function eZMyExtendedFilter()</span>
<span class="line">    {</span>
<span class="line">        // Empty...</span>
<span class="line">    }</span>
<span class="line"> </span>
<span class="line">    function createSqlParts( $params )</span>
<span class="line">    {</span>
<span class="line">        $sqlTables= ', ezcontentobject_attribute as myfilter_alias ';</span>
<span class="line"> </span>
<span class="line">        $sqlJoins = ' ezcontentobject_tree.contentobject_id = myfilter_alias.contentobject_id AND ezcontentobject_tree.contentobject_version = myfilter_alias.version AND myfilter_alias.data_type_string = "ezstring"  AND';</span>
<span class="line"> </span>
<span class="line">        if ( isset( $params['value1'] ) )</span>
<span class="line">        {</span>
<span class="line">             $value1 = $params['value1'];</span>
<span class="line">        }</span>
<span class="line">        else</span>
<span class="line">        {</span>
<span class="line">             $value1 = 'fooo';</span>
<span class="line">        }</span>
<span class="line">        if ( isset( $params['value2'] ) )</span>
<span class="line">        {</span>
<span class="line">             $value2 = $params['value2'];</span>
<span class="line">        }</span>
<span class="line">        else</span>
<span class="line">        {</span>
<span class="line">             $value2 = 'boooo';</span>
<span class="line">        }</span>
<span class="line"> </span>
<span class="line">        $sqlCondArray = array();</span>
<span class="line"> </span>
<span class="line">        $sqlCondArray[] = 'myfilter_alias.data_text = "' . $value1 . '"';</span>
<span class="line">        $sqlCondArray[] = 'myfilter_alias.data_text = "' . $value2 . '"';</span>
<span class="line"> </span>
<span class="line">        $sqlCond = implode( ' or ', $sqlCondArray );</span>
<span class="line"> </span>
<span class="line">        $sqlCond = ' ( ' . $sqlCond . ' ) AND ' . $sqlJoins . ' ';</span>
<span class="line"> </span>
<span class="line">        return array( 'tables' =&gt; $sqlTables, 'joins' =&gt; $sqlCond );</span>
<span class="line"> </span>
<span class="line">    }</span>
<span class="line">}</span>
</pre><!--[if IE]>
<p class="copytoclipboard"><img src="/extension/ezdoc/design/doc/images/copytoclipboard.gif" height="16" width="16" alt="Copy to clipboard" title="Copy to clipboard" onclick="window.clipboardData.setData( 'text', 'class eZMyExtendedFilter\r\n{\r\n    /*!\r\n     Constructor\r\n    */\r\n    function eZMyExtendedFilter()\r\n    {\r\n        // Empty...\r\n    }\r\n\r\n    function createSqlParts( $params )\r\n    {\r\n        $sqlTables= \', ezcontentobject_attribute as myfilter_alias \';\r\n\r\n        $sqlJoins = \' ezcontentobject_tree.contentobject_id = myfilter_alias.contentobject_id AND ezcontentobject_tree.contentobject_version = myfilter_alias.version AND myfilter_alias.data_type_string = &quot;ezstring&quot;  AND\';\r\n\r\n        if ( isset( $params[\'value1\'] ) )\r\n        {\r\n             $value1 = $params[\'value1\'];\r\n        }\r\n        else\r\n        {\r\n             $value1 = \'fooo\';\r\n        }\r\n        if ( isset( $params[\'value2\'] ) )\r\n        {\r\n             $value2 = $params[\'value2\'];\r\n        }\r\n        else\r\n        {\r\n             $value2 = \'boooo\';\r\n        }\r\n\r\n        $sqlCondArray = array();\r\n\r\n        $sqlCondArray[] = \'myfilter_alias.data_text = &quot;\' . $value1 . \'&quot;\';\r\n        $sqlCondArray[] = \'myfilter_alias.data_text = &quot;\' . $value2 . \'&quot;\';\r\n\r\n        $sqlCond = implode( \' or \', $sqlCondArray );\r\n\r\n        $sqlCond = \' ( \' . $sqlCond . \' ) AND \' . $sqlJoins . \' \';\r\n\r\n        return array( \'tables\' =&gt; $sqlTables, \'joins\' =&gt; $sqlCond );\r\n\r\n    }\r\n}' ); return false;" /></p>
<![endif]--><a name="eztoc87606_0_0_21" id="eztoc87606_0_0_21"></a><h4>Example 21</h4><pre class="wordwrap"><span class="line">{fetch( 'content', 'list', hash( 'parent_node_id', 2,</span>
<span class="line">                                'ignore_visibility', true() ) )}</span>
</pre><p>This example demonstrates how to fetch nodes regardless of their visibility status. The operation above will return both visible and hidden nodes that are directly below node #2.</p><a name="eztoc87606_0_0_22" id="eztoc87606_0_0_22"></a><h4>Example 22</h4><pre class="wordwrap copytoclipboard"><span class="line">{def $nodes=fetch( 'content', 'list', hash( 'parent_node_id', 2,</span>
<span class="line">                                'as_object', false() ) )}</span>
<span class="line"> </span>
<span class="line">The result is an array of arrays. The first inner array reveals information about the node "{$nodes[0].name|wash}":</span>
<span class="line">&lt;br /&gt; {$nodes[0]|attribute( show, 1 )}</span>
</pre><!--[if IE]>
<p class="copytoclipboard"><img src="/extension/ezdoc/design/doc/images/copytoclipboard.gif" height="16" width="16" alt="Copy to clipboard" title="Copy to clipboard" onclick="window.clipboardData.setData( 'text', '{def $nodes=fetch( \'content\', \'list\', hash( \'parent_node_id\', 2,\r\n                                \'as_object\', false() ) )}\r\n\r\nThe result is an array of arrays. The first inner array reveals information about the node &quot;{$nodes[0].name|wash}&quot;: \r\n&lt;br /&gt; {$nodes[0]|attribute( show, 1 )}' ); return false;" /></p>
<![endif]--><p>This example demonstrates the behavior when the "as_object" parameter is set to FALSE. The following output will be produced:</p><p>The result is an array of arrays. The first inner array reveals information about the node "Multiprice products":</p><table class="renderedtable" cellpadding="2" cellspacing="0">

<tr>
<th>  <p>Attribute</p>
  </th><th>  <p>Type</p>
  </th><th>  <p>Value</p>
  </th>
</tr>

<tr>
<td valign="top" style="vertical-align: top">  <p>contentclass_id</p>
  </td>
<td valign="top" style="vertical-align: top">  <p>string</p>
  </td>
<td valign="top" style="vertical-align: top">  <p>1</p>
  </td>

</tr>

<tr>
<td valign="top" style="vertical-align: top">  <p>current_version</p>
  </td>
<td valign="top" style="vertical-align: top">  <p>string</p>
  </td>
<td valign="top" style="vertical-align: top">  <p>1</p>
  </td>

</tr>

<tr>
<td valign="top" style="vertical-align: top">  <p>id</p>
  </td>
<td valign="top" style="vertical-align: top">  <p>string</p>
  </td>
<td valign="top" style="vertical-align: top">  <p>61</p>
  </td>

</tr>

<tr>
<td valign="top" style="vertical-align: top">  <p>initial_language_id</p>
  </td>
<td valign="top" style="vertical-align: top">  <p>string</p>
  </td>
<td valign="top" style="vertical-align: top">  <p>2</p>
  </td>

</tr>

<tr>
<td valign="top" style="vertical-align: top">  <p>is_published</p>
  </td>
<td valign="top" style="vertical-align: top">  <p>string</p>
  </td>
<td valign="top" style="vertical-align: top">   
  </td>

</tr>

<tr>
<td valign="top" style="vertical-align: top">  <p>language_mask</p>
  </td>
<td valign="top" style="vertical-align: top">  <p>string</p>
  </td>
<td valign="top" style="vertical-align: top">  <p>3</p>
  </td>

</tr>

<tr>
<td valign="top" style="vertical-align: top">  <p>modified</p>
  </td>
<td valign="top" style="vertical-align: top">  <p>string</p>
  </td>
<td valign="top" style="vertical-align: top">  <p>1161682117</p>
  </td>

</tr>

<tr>
<td valign="top" style="vertical-align: top">  <p>name</p>
  </td>
<td valign="top" style="vertical-align: top">  <p>string</p>
  </td>
<td valign="top" style="vertical-align: top">  <p>'Multiprice products'</p>
  </td>

</tr>

<tr>
<td valign="top" style="vertical-align: top">  <p>owner_id</p>
  </td>
<td valign="top" style="vertical-align: top">  <p>string</p>
  </td>
<td valign="top" style="vertical-align: top">  <p>14</p>
  </td>

</tr>

<tr>
<td valign="top" style="vertical-align: top">  <p>published</p>
  </td>
<td valign="top" style="vertical-align: top">  <p>string</p>
  </td>
<td valign="top" style="vertical-align: top">  <p>1161682117</p>
  </td>

</tr>

<tr>
<td valign="top" style="vertical-align: top">  <p>remote_id</p>
  </td>
<td valign="top" style="vertical-align: top">  <p>string</p>
  </td>
<td valign="top" style="vertical-align: top">  <p>'f3f9d3443e61498e01523e3016ca136b'</p>
  </td>

</tr>

<tr>
<td valign="top" style="vertical-align: top">  <p>section_id</p>
  </td>
<td valign="top" style="vertical-align: top">  <p>string</p>
  </td>
<td valign="top" style="vertical-align: top">  <p>1</p>
  </td>

</tr>

<tr>
<td valign="top" style="vertical-align: top">  <p>status</p>
  </td>
<td valign="top" style="vertical-align: top">  <p>string</p>
  </td>
<td valign="top" style="vertical-align: top">  <p>1</p>
  </td>

</tr>

<tr>
<td valign="top" style="vertical-align: top">  <p>contentobject_id</p>
  </td>
<td valign="top" style="vertical-align: top">  <p>string</p>
  </td>
<td valign="top" style="vertical-align: top">  <p>61</p>
  </td>

</tr>

<tr>
<td valign="top" style="vertical-align: top">  <p>contentobject_is_published</p>
  </td>
<td valign="top" style="vertical-align: top">  <p>string</p>
  </td>
<td valign="top" style="vertical-align: top">  <p>1</p>
  </td>

</tr>

<tr>
<td valign="top" style="vertical-align: top">  <p>contentobject_version</p>
  </td>
<td valign="top" style="vertical-align: top">  <p>string</p>
  </td>
<td valign="top" style="vertical-align: top">  <p>1</p>
  </td>

</tr>

<tr>
<td valign="top" style="vertical-align: top">  <p>depth</p>
  </td>
<td valign="top" style="vertical-align: top">  <p>string</p>
  </td>
<td valign="top" style="vertical-align: top">  <p>2</p>
  </td>

</tr>

<tr>
<td valign="top" style="vertical-align: top">  <p>is_hidden</p>
  </td>
<td valign="top" style="vertical-align: top">  <p>string</p>
  </td>
<td valign="top" style="vertical-align: top">   
  </td>

</tr>

<tr>
<td valign="top" style="vertical-align: top">  <p>is_invisible</p>
  </td>
<td valign="top" style="vertical-align: top">  <p>string</p>
  </td>
<td valign="top" style="vertical-align: top">   
  </td>

</tr>

<tr>
<td valign="top" style="vertical-align: top">  <p>main_node_id</p>
  </td>
<td valign="top" style="vertical-align: top">  <p>string</p>
  </td>
<td valign="top" style="vertical-align: top">  <p>63</p>
  </td>

</tr>

<tr>
<td valign="top" style="vertical-align: top">  <p>modified_subnode</p>
  </td>
<td valign="top" style="vertical-align: top">  <p>string</p>
  </td>
<td valign="top" style="vertical-align: top">  <p>1161682290</p>
  </td>

</tr>

<tr>
<td valign="top" style="vertical-align: top">  <p>node_id</p>
  </td>
<td valign="top" style="vertical-align: top">  <p>string</p>
  </td>
<td valign="top" style="vertical-align: top">  <p>63</p>
  </td>

</tr>

<tr>
<td valign="top" style="vertical-align: top">  <p>parent_node_id</p>
  </td>
<td valign="top" style="vertical-align: top">  <p>string</p>
  </td>
<td valign="top" style="vertical-align: top">  <p>2</p>
  </td>

</tr>

<tr>
<td valign="top" style="vertical-align: top">  <p>path_identification_string</p>
  </td>
<td valign="top" style="vertical-align: top">  <p>string</p>
  </td>
<td valign="top" style="vertical-align: top">  <p>'multiprice_products'</p>
  </td>

</tr>

<tr>
<td valign="top" style="vertical-align: top">  <p>path_string</p>
  </td>
<td valign="top" style="vertical-align: top">  <p>string</p>
  </td>
<td valign="top" style="vertical-align: top">  <p>'/1/2/63/'</p>
  </td>

</tr>

<tr>
<td valign="top" style="vertical-align: top">  <p>priority</p>
  </td>
<td valign="top" style="vertical-align: top">  <p>string</p>
  </td>
<td valign="top" style="vertical-align: top">   
  </td>

</tr>

<tr>
<td valign="top" style="vertical-align: top">  <p>sort_field</p>
  </td>
<td valign="top" style="vertical-align: top">  <p>string</p>
  </td>
<td valign="top" style="vertical-align: top">  <p>2</p>
  </td>

</tr>

<tr>
<td valign="top" style="vertical-align: top">  <p>sort_order</p>
  </td>
<td valign="top" style="vertical-align: top">  <p>string</p>
  </td>
<td valign="top" style="vertical-align: top">   
  </td>

</tr>

<tr>
<td valign="top" style="vertical-align: top">  <p>class_name</p>
  </td>
<td valign="top" style="vertical-align: top">  <p>string</p>
  </td>
<td valign="top" style="vertical-align: top">  <p>'Folder'</p>
  </td>

</tr>

<tr>
<td valign="top" style="vertical-align: top">  <p>class_identifier</p>
  </td>
<td valign="top" style="vertical-align: top">  <p>string</p>
  </td>
<td valign="top" style="vertical-align: top">  <p>'folder'</p>
  </td>

</tr>

<tr>
<td valign="top" style="vertical-align: top">  <p>real_translation</p>
  </td>
<td valign="top" style="vertical-align: top">  <p>string</p>
  </td>
<td valign="top" style="vertical-align: top">  <p>'eng-GB'</p>
  </td>

</tr>

</table>
<a name="eztoc87606_0_0_23" id="eztoc87606_0_0_23"></a><h4>Example 23</h4><pre class="wordwrap copytoclipboard"><span class="line">{def $items=fetch('content', 'tree', hash( 'parent_node_id', 2,</span>
<span class="line">                         'attribute_filter', array( 'and',</span>
<span class="line">                                               p;array('state', "=", 3))</span>
<span class="line">                           ))}</span>
</pre><!--[if IE]>
<p class="copytoclipboard"><img src="/extension/ezdoc/design/doc/images/copytoclipboard.gif" height="16" width="16" alt="Copy to clipboard" title="Copy to clipboard" onclick="window.clipboardData.setData( 'text', '{def $items=fetch(\'content\', \'tree\', hash( \'parent_node_id\', 2,\r\n                         \'attribute_filter\', array( \'and\',\r\n                                               p;array(\'state\', &quot;=&quot;, 3))\r\n                           ))}' ); return false;" /></p>
<![endif]--><p>The following fetch function would bring back all nodes under node 2 that has a state with the id of 3.</p>


<div class="break"></div><div class="pageinfo float-break">
<div class="created">


<p><label>Written by:</label>Balazs Halasy (06/02/2004 12:07 pm)</p>
</div>
<div class="modified">
<p><label>Last updated by:</label>Sarah Haïm-Lubczanski (06/08/2014 4:21 pm)</p>
</div><div class="authors">
<p><label>Maintainers:</label>André R., Geir Arne Waaler, Jérôme Vieilledent, Sarah Haïm-Lubczanski</p>
</div></div>
<hr class="hide">

</div>
</div>
</div>

<div id="comments" class="class-comment">
<div class="content-view-children">

<h1>Comments</h1>
<div id="comments-content">
<ul>    <li class="comment-bglight"><div class="padding">
    <div class="content-view-line">
<div class="class-comment">

<div>

<div id="comment18011" class="attribute-heading">
<h2>like filter</h2>
</div>

<div class="attribute-byline float-break">
    <p class="date">Wednesday 01 March 2006 8:21:35 pm</p>
    <p class="author">Douglas</p>
</div>

<div class="attribute-short">
like is case sensitive when using postgresql<br>
<br>
would be nice to have ilike for case insensitive like.
</div>




     


</div>


</div>
</div>    </div></li>    <li class="comment-bgdark"><div class="padding">
    <div class="content-view-line">
<div class="class-comment">

<div>

<div id="comment18012" class="attribute-heading">
<h2>limitation</h2>
</div>

<div class="attribute-byline float-break">
    <p class="date">Wednesday 16 August 2006 9:18:47 pm</p>
    <p class="author">André R.</p>
</div>

<div class="attribute-short">
When 'limitation' is explained, it is refered to "limitations" witch is wrong.
</div>




     


</div>


</div>
</div>    </div></li>    <li class="comment-bglight"><div class="padding">
    <div class="content-view-line">
<div class="class-comment">

<div>

<div id="comment18013" class="attribute-heading">
<h2>Syntax for sorting by multiple attributes should be specified</h2>
</div>

<div class="attribute-byline float-break">
    <p class="date">Monday 21 August 2006 2:21:20 pm</p>
    <p class="author">Leif Arne Storset</p>
</div>

<div class="attribute-short">
Example 3 should be complemented by an outline of the syntax for sorting by multiple attributes. For instance, replace the sentence<br>
<br>
"It is possible to combine different sorting methods. For example, it is possible to sort the nodes alphabetically and by their publish date/time at the same time."<br>
<br>
with<br>
<br>
"To combine several sorting methods, put the sort arrays in an outer array. See Example 3."
</div>




     


</div>


</div>
</div>    </div></li>    <li class="comment-bgdark"><div class="padding">
    <div class="content-view-line">
<div class="class-comment">

<div>

<div id="comment18014" class="attribute-heading">
<h2>Sort by price datatype seems works as well</h2>
</div>

<div class="attribute-byline float-break">
    <p class="date">Monday 25 September 2006 8:57:58 pm</p>
    <p class="author">Claudia Kosny</p>
</div>

<div class="attribute-short">
Sorting on attribute level seems to work for the price datatype too. I assume that it works for all datatypes that have some content in the sort key string, so generally just try it out.
</div>




     


</div>


</div>
</div>    </div></li>    <li class="comment-bglight"><div class="padding">
    <div class="content-view-line">
<div class="class-comment">

<div>

<div id="comment18015" class="attribute-heading">
<h2>Multiple attribute sorting ?</h2>
</div>

<div class="attribute-byline float-break">
    <p class="date">Thursday 18 January 2007 1:53:03 pm</p>
    <p class="author">Alimi Nabil</p>
</div>

<div class="attribute-short">
Seems not possible.<br>
<br>
Is it ?
</div>




     


</div>

<ul>    <li class="comment-bglight"><div class="padding">
    <div class="content-view-line">
<div class="class-comment">

<div>

<div id="comment18016" class="attribute-heading">
<h2>Re: Multiple attribute sorting ?</h2>
</div>

<div class="attribute-byline float-break">
    <p class="date">Tuesday 09 October 2007 2:22:02 pm</p>
    <p class="author">Luc</p>
</div>

<div class="attribute-short">
Yes, you can sort by multiple attributes using an array of arrays. <br>
This uses fetch_alias but it would be the same for fetch list.<br>
<br>
<pre class="wordwrap"><span class="line">{set list_items=fetch_alias( children,hash( 'parent_node_id', $node.node_id,</span>
<span class="line">                                                             'offset', $view_parameters.offset,</span>
<span class="line">                                                             'sort_by', array( array( 'attribute', false(), 'news/sticky' ), array(  'attribute', false(), 'news/date')),</span>
<span class="line">                                                             'limit', $page_limit ) ) }</span>
</pre>
</div>




     


</div>


</div>
</div>    </div></li></ul>
</div>
</div>    </div></li>    <li class="comment-bgdark"><div class="padding">
    <div class="content-view-line">
<div class="class-comment">

<div>

<div id="comment18017" class="attribute-heading">
<h2>sorting by modified_subnode</h2>
</div>

<div class="attribute-byline float-break">
    <p class="date">Tuesday 09 October 2007 8:10:24 pm</p>
    <p class="author">André R.</p>
</div>

<div class="attribute-short">
sorting method 'modified_subnode' don't seem to be documentet but works on list and tree fetch.
</div>




     


</div>


</div>
</div>    </div></li>    <li class="comment-bglight"><div class="padding">
    <div class="content-view-line">
<div class="class-comment">

<div>

<div id="comment18018" class="attribute-heading">
<h2>Extended attribute filter</h2>
</div>

<div class="attribute-byline float-break">
    <p class="date">Sunday 04 November 2007 6:19:34 pm</p>
    <p class="author">Nicolas Lescure</p>
</div>

<div class="attribute-short">
If you use an attribute filter, since the 3.10 version, the array to return is : <br>
<pre class="wordwrap"><span class="line">array( 'tables' =&gt; '...', 'joins' =&gt; '...', 'columns' =&gt; '...' );</span>
</pre>
</div>




     


</div>


</div>
</div>    </div></li>    <li class="comment-bgdark"><div class="padding">
    <div class="content-view-line">
<div class="class-comment">

<div>

<div id="comment18019" class="attribute-heading">
<h2>Don't forget attribute_filter 'not_like' in the doc</h2>
</div>

<div class="attribute-byline float-break">
    <p class="date">Friday 09 November 2007 10:04:30 am</p>
    <p class="author">LIU Bin</p>
</div>

<div class="attribute-short">
for attribute_filter, we can use 'not_like' too.
</div>




     


</div>


</div>
</div>    </div></li>    <li class="comment-bglight"><div class="padding">
    <div class="content-view-line">
<div class="class-comment">

<div>

<div id="comment19809" class="attribute-heading">
<h2>pay attention to commas in attribute_filter-array</h2>
</div>

<div class="attribute-byline float-break">
    <p class="date">Thursday 21 February 2008 12:05:30 pm</p>
    <p class="author">mab at silversolutions de</p>
</div>

<div class="attribute-short">
If you're like me and coding a fetch() like this:<br>
<br>
<pre class="wordwrap"><span class="line">{def $calist=fetch('content', 'list', hash(</span>
<span class="line">    'parent_node_id', 6250,</span>
<span class="line">    'attribute_filter', array(</span>
<span class="line">        array( 'name', '=', $cacode ),</span>
<span class="line">    ),</span>
<span class="line">))}</span>
</pre><br>
<br>
with a comma at the end of each line in an array or hash (so that you can easily remove/comment that line), you'll have no result. It took us a while to figure out that the comma after $cacode) generates a new empty entry in that array which results to false(). And since the default operation (if omitted) is 'AND', the whole attribute_filter returns false. In this example, eZ would see it like this:<br>
<br>
<pre class="wordwrap"><span class="line">'attribute_filter', array('and', array( 'name', '=', $cacode ), false())</span>
</pre><br>
<br>
So pay attention to your commas!
</div>




     


</div>


</div>
</div>    </div></li>    <li class="comment-bgdark"><div class="padding">
    <div class="content-view-line">
<div class="class-comment">

<div>

<div id="comment19852" class="attribute-heading">
<h2>thank</h2>
</div>

<div class="attribute-byline float-break">
    <p class="date">Friday 14 March 2008 1:28:08 pm</p>
    <p class="author">vmbuyi</p>
</div>

<div class="attribute-short">
with this Doc, I understand well what I did not understand i.e. bases of ez
</div>




     


</div>


</div>
</div>    </div></li>    <li class="comment-bglight"><div class="padding">
    <div class="content-view-line">
<div class="class-comment">

<div>

<div id="comment20221" class="attribute-heading">
<h2>Good Doc</h2>
</div>

<div class="attribute-byline float-break">
    <p class="date">Friday 30 May 2008 10:58:36 am</p>
    <p class="author">Yannick Komotir</p>
</div>

<div class="attribute-short">
Thank's for this doc i understand many things :)
</div>




     


</div>


</div>
</div>    </div></li>    <li class="comment-bgdark"><div class="padding">
    <div class="content-view-line">
<div class="class-comment">

<div>

<div id="comment20264" class="attribute-heading">
<h2>'only_translated? deprecated?</h2>
</div>

<div class="attribute-byline float-break">
    <p class="date">Tuesday 08 July 2008 10:01:19 am</p>
    <p class="author">Stefano Guandalini</p>
</div>

<div class="attribute-short">
I noticed that all PHP code related do 'only_translated' in ezcontentobjecttreenode.php is commented out in version 4.0.0. As a result the option does not work.<br>
Is this option on the "deprecating" way?<br>
<br>
g
</div>




     


</div>

<ul>    <li class="comment-bglight"><div class="padding">
    <div class="content-view-line">
<div class="class-comment">

<div>

<div id="comment20267" class="attribute-heading">
<h2>Re: 'only_translated? deprecated?</h2>
</div>

<div class="attribute-byline float-break">
    <p class="date">Tuesday 08 July 2008 2:32:07 pm</p>
    <p class="author">Julia Shymova</p>
</div>

<div class="attribute-short">
Your question is now posted here: <a href="http://issues.ez.no/13321" title="http://issues.ez.no/13321">http://issues.ez.no/13321</a>.<br>
Thanks for your feedback.
</div>




     


</div>


</div>
</div>    </div></li>    <li class="comment-bgdark"><div class="padding">
    <div class="content-view-line">
<div class="class-comment">

<div>

<div id="comment20547" class="attribute-heading">
<h2>Re: 'only_translated? deprecated? =&gt; workaround</h2>
</div>

<div class="attribute-byline float-break">
    <p class="date">Tuesday 24 March 2009 3:04:57 pm</p>
    <p class="author">Mickael ROBIN</p>
</div>

<div class="attribute-short">
'only_translated' seems to work only when it is followed by 'language', 'xxx-YY'<br>
<br>
To filter on the current language, you can therefore use thise code :<br>
<pre class="wordwrap"><span class="line">{def $locale = ezini( 'RegionalSettings', 'Locale', 'site.ini' )}</span>
<span class="line"> </span>
<span class="line">{def $items=fetch( 'content', 'tree',</span>
<span class="line">		                   hash( 'parent_node_id', $node.node_id',</span>
<span class="line">		                   		'only_translated', true(),</span>
<span class="line">              					'language', $locale ))}</span>
</pre><br>
<br>
It seems to work for me :-)<br>
I hope this will help...
</div>




     


</div>

<ul>    <li class="comment-bglight"><div class="padding">
    <div class="content-view-line">
<div class="class-comment">

<div>

<div id="comment22250" class="attribute-heading">
<h2>Re: Re: 'only_translated? deprecated? =&gt; workaround</h2>
</div>

<div class="attribute-byline float-break">
    <p class="date">Thursday 13 May 2010 2:18:42 am</p>
    <p class="author">xiaoleng</p>
</div>

<div class="attribute-short">
I want to fetch all language node list, i set 'only_translated', false(), but it not work.<br>
I use below code:<br>
{def $items=fetch( 'content', 'list',<br>
		                   hash( 'parent_node_id', $node.node_id' ))}<br>
the result is equal to:<br>
{def $locale = ezini( 'RegionalSettings', 'Locale', 'site.ini' )}<br>
{def $items=fetch( 'content', 'list',<br>
		                   hash( 'parent_node_id', $node.node_id',<br>
		                   		'only_translated', true(),<br>
              					'language', $locale ))}<br>
but it is not i want.<br>

</div>




     


</div>


</div>
</div>    </div></li></ul>
</div>
</div>    </div></li></ul>
</div>
</div>    </div></li>    <li class="comment-bglight"><div class="padding">
    <div class="content-view-line">
<div class="class-comment">

<div>

<div id="comment20404" class="attribute-heading">
<h2>many classes, one attribute</h2>
</div>

<div class="attribute-byline float-break">
    <p class="date">Monday 13 October 2008 6:43:56 pm</p>
    <p class="author">Adrien</p>
</div>

<div class="attribute-short">
Is it truely impossible to fetch different classes of content, and sort them by a common attribute ??<br>
<br>
{set $item_list = fetch('content', 'tree', hash( 'parent_node_id', $node.node_id,<br>
'sort_by', array( array('attribute',false(),'*/rating'), array('published',false()) ),<br>
'class_filter_type', 'include',<br>
'class_filter_array', array( 'article', 'slideshow', 'quizz' ) ) )} could have been so sexy!<br>
<br>
Nothing helps to avoid the need of inheritance...
</div>




     


</div>


</div>
</div>    </div></li>    <li class="comment-bgdark"><div class="padding">
    <div class="content-view-line">
<div class="class-comment">

<div>

<div id="comment20521" class="attribute-heading">
<h2>Attribute filtering</h2>
</div>

<div class="attribute-byline float-break">
    <p class="date">Friday 06 February 2009 7:05:45 pm</p>
    <p class="author">Gaetano</p>
</div>

<div class="attribute-short">
Looking into the code, it looks like the following datatypes also support attribute filtering: country, identifier, package, price, category.<br>
<br>
Nb: some of those attributes will be a bit hard to match against:<br>
- country datatype will return a comma-imploded list of country names<br>
- price type is multiplied by 100 and rounded to int<br>
<br>
all all strings to be matched against (even for string datatypes) are lowercase!!!
</div>




     


</div>


</div>
</div>    </div></li>    <li class="comment-bglight"><div class="padding">
    <div class="content-view-line">
<div class="class-comment">

<div>

<div id="comment20591" class="attribute-heading">
<h2>Attribute filtering on States in 4.1</h2>
</div>

<div class="attribute-byline float-break">
    <p class="date">Thursday 14 May 2009 10:39:50 pm</p>
    <p class="author">Ken Walters</p>
</div>

<div class="attribute-short">
Though not documented, "states" are available as a attribute filter using a standard fetch('content', 'list', ...) function with an "attribute_filter" in 4.1.<br>
<br>
kernel/classes/ezcontentobjecttreenode.php - line #958<br>
<br>
<pre class="wordwrap"><span class="line">// state only supports =, !=, in, and not_in</span>
<span class="line">// other operators do not make any sense in this context</span>
</pre><br>
<br>
As an example, the following fetch function would bring back all nodes under node 2 with a that has a state with the id of 3.<br>
<br>
<pre class="wordwrap"><span class="line">{def $items=fetch('content', 'tree', hash( 'parent_node_id', 2,</span>
<span class="line">                                           'attribute_filter', array( 'and',</span>
<span class="line">                                                                      array('state', "=", 3))</span>
<span class="line">                                          ))}</span>
</pre>
</div>




     


</div>

<ul>    <li class="comment-bglight"><div class="padding">
    <div class="content-view-line">
<div class="class-comment">

<div>

<div id="comment21288" class="attribute-heading">
<h2>Re: Attribute filtering on States in 4.1</h2>
</div>

<div class="attribute-byline float-break">
    <p class="date">Wednesday 09 December 2009 11:50:20 pm</p>
    <p class="author">Vids</p>
</div>

<div class="attribute-short">
Sooo helpfull!
</div>




     


</div>


</div>
</div>    </div></li></ul>
</div>
</div>    </div></li>    <li class="comment-bgdark"><div class="padding">
    <div class="content-view-line">
<div class="class-comment">

<div>

<div id="comment20615" class="attribute-heading">
<h2>default sort order?</h2>
</div>

<div class="attribute-byline float-break">
    <p class="date">Wednesday 10 June 2009 1:09:01 pm</p>
    <p class="author">Gaetano</p>
</div>

<div class="attribute-short">
It would be nice to have it specified here. It is, afaict, the same as set in the admin interface
</div>




     


</div>


</div>
</div>    </div></li>    <li class="comment-bglight"><div class="padding">
    <div class="content-view-line">
<div class="class-comment">

<div>

<div id="comment20639" class="attribute-heading">
<h2>Sorting on Object State</h2>
</div>

<div class="attribute-byline float-break">
    <p class="date">Sunday 28 June 2009 9:48:49 pm</p>
    <p class="author">Benjamin Lorteau</p>
</div>

<div class="attribute-short">
It's possible to sort on Object State, here is the syntax :<br>
<br>
<pre class="wordwrap"><span class="line">array( 'state', [Sorting Order], [Object State Group Id]  )</span>
</pre><br>
<br>
Where [Sorting Order] is true() or false(), as always, and [Object State Group Id] is the groupe of object state on which you want to sort. It's then possible to sort on multiple Object State Groups.<br>

</div>




     


</div>


</div>
</div>    </div></li>    <li class="comment-bgdark"><div class="padding">
    <div class="content-view-line">
<div class="class-comment">

<div>

<div id="comment20648" class="attribute-heading">
<h2>attribute filter doesnt work</h2>
</div>

<div class="attribute-byline float-break">
    <p class="date">Monday 06 July 2009 3:57:10 am</p>
    <p class="author">james</p>
</div>

<div class="attribute-short">
if i make a fetch code like this,<br>
<br>
{def $news = fetch('content','list',hash(<br>
'parent_node_id',179,<br>
'depth',2,<br>
'limit',5,<br>
'sort_by',array('published',false()),<br>
'class_filter_type','include'<br>
'class_filter_array',array('article','blog')<br>
'attribute_filter_array',array('or',array('article/headline','=',1),array('blog/headline','=',1))<br>
))}<br>
<br>
it doesnt work ... but if i removed the attribute_filter_array it works but of course without attributes filtering. and i'm very sure that the content that i expected to show is should be available from that fetch statement...so my question is, can attribute_filter_array work if we use class_filter_array?<br>
<br>
thanks
</div>




     


</div>

<ul>    <li class="comment-bglight"><div class="padding">
    <div class="content-view-line">
<div class="class-comment">

<div>

<div id="comment20692" class="attribute-heading">
<h2>Re: attribute filter doesnt work</h2>
</div>

<div class="attribute-byline float-break">
    <p class="date">Thursday 20 August 2009 2:40:45 pm</p>
    <p class="author">primehellix</p>
</div>

<div class="attribute-short">
I'm pretty sure up there above they wrote that you cannot filter objects of different classes in the same fetch ....
</div>




     


</div>


</div>
</div>    </div></li>    <li class="comment-bgdark"><div class="padding">
    <div class="content-view-line">
<div class="class-comment">

<div>

<div id="comment22692" class="attribute-heading">
<h2>Re: attribute filter doesnt work</h2>
</div>

<div class="attribute-byline float-break">
    <p class="date">Wednesday 07 July 2010 1:34:56 pm</p>
    <p class="author">mario</p>
</div>

<div class="attribute-short">
attribute_filter_array isn't this something like attribute_filter
</div>




     


</div>


</div>
</div>    </div></li></ul>
</div>
</div>    </div></li>    <li class="comment-bglight"><div class="padding">
    <div class="content-view-line">
<div class="class-comment">

<div>

<div id="comment20694" class="attribute-heading">
<h2>limitation example</h2>
</div>

<div class="attribute-byline float-break">
    <p class="date">Tuesday 25 August 2009 2:08:02 pm</p>
    <p class="author">Marcel</p>
</div>

<div class="attribute-short">
example for using "limitation"<br>
<br>
<pre class="wordwrap"><span class="line"> </span>
<span class="line">{def $newslist=fetch('content','tree',</span>
<span class="line">                       hash('parent_node_id', 123,</span>
<span class="line">                            'sort_by',array('published',false()),</span>
<span class="line">                            'class_filter_type',  'include',</span>
<span class="line">                            'class_filter_array', array('news','article'),</span>
<span class="line">                            'limit',5,</span>
<span class="line">                            'limitation', array( hash( 'Section', array( 1, 3, 6, 7 ) )</span>
<span class="line">                                               )</span>
<span class="line">                            )</span>
<span class="line">                     )</span>
<span class="line">}</span>
<span class="line"> </span>
</pre>
</div>




     


</div>


</div>
</div>    </div></li>    <li class="comment-bgdark"><div class="padding">
    <div class="content-view-line">
<div class="class-comment">

<div>

<div id="comment20703" class="attribute-heading">
<h2>class_filter_array and attribute_filter</h2>
</div>

<div class="attribute-byline float-break">
    <p class="date">Tuesday 01 September 2009 10:47:03 am</p>
    <p class="author">roman204</p>
</div>

<div class="attribute-short">
i`ve the same Problem is it solved ? have you found any solution ?
</div>




     


</div>


</div>
</div>    </div></li>    <li class="comment-bglight"><div class="padding">
    <div class="content-view-line">
<div class="class-comment">

<div>

<div id="comment21169" class="attribute-heading">
<h2>complexPublish</h2>
</div>

<div class="attribute-byline float-break">
    <p class="date">Wednesday 18 November 2009 10:57:24 am</p>
    <p class="author">complexPublish</p>
</div>

<div class="attribute-short">
Why is eZ Publish called eZ? I hope it doesn't stand for easy...<br>
<br>
Ok, ofcourse it's much easier than building from scratch indeed! But for a CMS... I think it's way too heavy and too complex to be called eZ.<br>
<br>
What a hell of configuration files, unbelievable! And for what? Convention over configuration is something that I believe is much EZier!<br>
<br>
I also wonder why it has an own proprietary template language for views? Why not good old PHP? An extra language is an extra burden and an extra complexity for developers. Instead of making it simpler, you end up figuring out how things are done in this 'special language' instead of PHP. It's far more eZ to stick with a language that everyone knows. :S<br>
<br>
And then there's the documentation part. It seems cool, and there is a lot of documentation at first sight. But every time I encounter a problem, and search for it, I'm usually 'the first guy on the net' that encounters it. And then I end up digging into the codes of eZ Publish. What it seems to be missing is large community of eZ Publish lovers that like to talk about it. When I dig into the documentation it's very abstract and seems to be missing in depth tutorials.<br>
<br>
And a little in contradiction what is more powerful, something that everybody understands immediately? Or all the documentation in the world? In my opinion I'd go for something that everybody understands. And with eZ Publish I got the opposite feeling, I had to dig into long documents before I could understand the very basics. And in my perception this is wrong for something that is called eZ!<br>
<br>
And ok, you can say enterprise this, and enterprise that. It's an enterprise solution bla bla. That's no reason for making things complex!<br>
<br>
Well, I cannot speak for everyone ofcourse, but eZ Publish is certainly not easy for me.<br>
<br>
EZ? NO! www.ez.no<br>

</div>




     


</div>

<ul>    <li class="comment-bglight"><div class="padding">
    <div class="content-view-line">
<div class="class-comment">

<div>

<div id="comment21368" class="attribute-heading">
<h2>Re: complexPublish</h2>
</div>

<div class="attribute-byline float-break">
    <p class="date">Tuesday 16 February 2010 2:21:31 pm</p>
    <p class="author">Yep</p>
</div>

<div class="attribute-short">
We've taken to calling it ezNO! for the very reasons you describe. Poor documentation, convoluted ini configurations, odd templating language decisions...
</div>




     


</div>


</div>
</div>    </div></li></ul>
</div>
</div>    </div></li>    <li class="comment-bgdark"><div class="padding">
    <div class="content-view-line">
<div class="class-comment">

<div>

<div id="comment21948" class="attribute-heading">
<h2>Sort by multiple attributes</h2>
</div>

<div class="attribute-byline float-break">
    <p class="date">Friday 09 April 2010 6:10:21 pm</p>
    <p class="author">Rich G.</p>
</div>

<div class="attribute-short">
Hi<br>
<br>
I have a fetch that is calling two different classes.<br>
{def $reviews = fetch( content, tree, hash( parent_node_id, $node.node_id,<br>
class_filter_type, 'include',<br>
class_filter_array, array(43,175),<br>
sort_by, array( 'attribute', false(),345) 		<br>
))<br>
$year=''<br>
$month=''<br>
}<br>
<br>
<br>
175 is a newly added class ID.  So obviously this fetch fails because the sort_by attribute has a different ID number (1677) in that class.<br>
<br>
How can I make this fetch work so that the returned objects are sorted correctly by this attribute (it is a date field, but independent from ez publish's published date).  I tried using the identifier name, because it is the same for both, but that doesn't work.
</div>




     


</div>


</div>
</div>    </div></li></ul>
</div>
<div class="toolbar">


</div>

</div>
</div>

</div>
<!-- Main area content: END -->

</div>
</div>
<!-- Main area: END -->
<hr class="hide">

</div></div></div>



</div>
<!-- Complete page area: END -->











</body>
</html><!-- th[eZ] 20050804 -->
