<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">

<head>


<style type="text/css">
    @import url(../../../../extension/ezdoc/design/doc/stylesheets/core.css);
    @import url(../../../../extension/ezdoc/design/doc/stylesheets/classes.css);
    @import url(../../../../extension/ezdoc/design/doc/stylesheets/doc.css);
    @import url(../../../../extension/ezdoc/design/doc/stylesheets/print.css) print;</style>

<link type="text/css" rel="stylesheet" href="../../../../extension/ezdoc/design/doc/stylesheets/print.css" media="print" />

<!-- IE conditional comments; for bug fixes for different IE versions -->
<!--[if IE 5]>     <style type="text/css"> @import url(/extension/ezdoc/design/doc/stylesheets/ie5.css);    </style>     <![endif]-->
<!--[if lte IE 6]> <style type="text/css"> @import url(/extension/ezdoc/design/doc/stylesheets/ie6lte.css); </style>     <![endif]-->
<!--[if lte IE 6]> <style type="text/css"> @import url(/extension/ezdoc/design/doc/stylesheets/ie6lte-doc.css); </style> <![endif]-->
<!--[if IE 6]>     <style type="text/css"> @import url(/extension/ezdoc/design/doc/stylesheets/ie6.css);    </style>     <![endif]-->

<!-- Load special stylesheet (if necessary) for newer Netscape decendants, Mozilla and Firefox, using the Gecko renderer -->
<script type="text/javascript"><!-- if ((navigator.userAgent.indexOf("Gecko") != -1)&&(navigator.userAgent.indexOf("KHTML") == -1)) document.write("<style type=\"text/css\">@import url(/extension/ezdoc/design/doc/stylesheets/gecko.css);</style>"); --></script>

<script type="text/javascript" src="../../../../extension/ezdoc/design/doc/javascripts/mainmenu-hover.js"></script>
<script type="text/javascript" src="../../../../extension/ezdoc/design/doc/javascripts/dropdownmenu.js"></script>
<script type="text/javascript" src="../../../../extension/ezdoc/design/doc/javascripts/ezno-searchbox.js"></script>
                                              
    <title>Configuration / Comments Module / 5.x / User manual / eZ Publish / Documentation - Doc</title>

    
    
    
            <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />

            <meta http-equiv="Content-language" content="en-GB" />

    
                <meta name="author" content="eZ systems" />
                    <meta name="copyright" content="eZ systems" />
                    <meta name="description" content="eZ Publish Documentation" />
                    <meta name="keywords" content="eZ Publish, documentation, manual, reference, eZ systems" />
        
    <meta name="generator" content="eZ Publish" />
    <link rel="Home" href="https://doc.ez.no/" title="Doc front page" />
<link rel="Search" href="https://doc.ez.no/content/advancedsearch" title="Search Doc" />
<link rel="Shortcut icon" href="../../../../extension/ezdoc/design/doc/images/favicon.ico" type="image/x-icon" />

</head>
<body onload="initDocSearch();menuInit();">

<!-- Complete page area: START -->
<div id="page">


<div><a href="https://www.ibexa.co"><img class="logotype" width="100" height="50" src="https://ibexa-lookandfeel.s3-eu-west-1.amazonaws.com/ibexa/assets/images/ibexa_logo.svg" alt="ibexa"></a></div>
<div id="page-content-position"><div id="page-content-position-inner"><div id="page-content">

<!-- Path area: START -->
<div id="path">

<div id="page-width4">
<h2 class="hide">Path</h2>

<!-- Path content: START -->
<p> <a href="http://ez.no/">ez.no</a> /
                        <a href="https://doc.ez.no/">documentation</a>
        
                        /
                            <a href="https://doc.ez.no/eZ-Publish">ez publish</a>
        
                        /
                            <a href="../../../User-manual.html">user manual</a>
        
                        /
                            <a href="../../5.x.html">5.x</a>
        
                        /
                            <a href="../Comments-Module.html">comments module</a>
        
                        /
                            configuration
        
            </p>
<!-- Path content: END -->

</div>

</div>
<!-- Path area: END -->

<hr class="hide" />

<!-- Main area: START -->
                                    <div id="ezp5disclaimer">
                <p><strong style="color: red">Caution:</strong> This documentation is for <strong>eZ Publish</strong> <em>legacy</em>, from version 3.x to 5.x.<br/>
                For 5.x documentation covering <em>Platform</em> see <a href="https://doc.ez.no/display/MAIN/eZ+Documentation+Center">eZ Documentation Center</a>, for difference between <em>legacy</em> and <em>Platform</em> see <a href="https://doc.ez.no/pages/viewpage.action?pageId=11403666">5.x Architecture overview</a>.</p>
            </div>
            
<div id="page-width5">
<div id="main" class="float-break">


<div class="template-design area-docmenu-normal">
<div class="template-module">
<div class="template-object">
<div id="contentmenu">
                        <div class="attribute-heading"><h2 class="bullet"><a href="../../5.x.html">Table of contents</a></h2></div>
<div class="boxcontent">

<map id="contentstructure">

    
                                                                        
            <ul>
	    
                                                    
	<li 
		    		class="topchapter"
	    
	    	    >
	    <div>
	    
	    

	    
	    
	    
	    			    	    
	    
	    		<a class="nodetext" href="../General-Links.html" title="">
	    	    		                    		    <span class="node-name-normal">General Links</span>
                    			    	    		</a>
			           </div>
        
                                    </li>
            
                                
                                                    
	<li 
		    		class="topchapter"
	    
	    	    >
	    <div>
	    
	    

	    
	    
	    
	    			    	    
	    
	    		<a class="nodetext" href="../The-Administration-Interface.html" title="">
	    	    		                    		    <span class="node-name-normal">The Administration Interface</span>
                    			    	    		</a>
			           </div>
        
                                    </li>
            
                                
                                                    
	<li 
		    		class="topchapter"
	    
	    	    >
	    <div>
	    
	    

	    
	    
	    
	    			    	    
	    
	    		<a class="nodetext" href="../The-Website-Interface.html" title="">
	    	    		                    		    <span class="node-name-normal">The Website Interface</span>
                    			    	    		</a>
			           </div>
        
                                    </li>
            
                                
                                                    
	<li 
		    		class="topchapter"
	    
	    	    >
	    <div>
	    
	    

	    
	    
	    
	    			    	    
	    
	    		<a class="nodetext" href="../The-Online-Editor.html" title="">
	    	    		                    		    <span class="node-name-normal">The Online Editor</span>
                    			    	    		</a>
			           </div>
        
                                    </li>
            
                                
                                                    
	<li 
		    		class="topchapter"
	    
	    	    >
	    <div>
	    
	    

	    
	    
	    
	    			    	    
	    
	    		<a class="nodetext" href="../Daily-tasks.html" title="">
	    	    		                    		    <span class="node-name-normal">Daily tasks</span>
                    			    	    		</a>
			           </div>
        
                                    </li>
            
                                
                                                    
	<li 
		    		class="topchapter"
	    
	    	    >
	    <div>
	    
	    

	    
	    
	    
	    			    	    
	    
	    		<a class="nodetext" href="../Content-Staging.html" title="">
	    	    		                    		    <span class="node-name-normal">Content Staging</span>
                    			    	    		</a>
			           </div>
        
                                    </li>
            
                                
                                                    
	<li 
		    		class="topchapter-selected  "
		
	    	    >
	    <div>
	    
	    

	    
	    
	    
	    			    	    
	    
	    		<a class="nodetext" href="../Comments-Module.html" title="">
	    	    		                    		    <span class="node-name-normal">Comments Module</span>
                    			    	    		</a>
			           </div>
        
            <ul>
	    
                                                    
	<li 
					    		    			    	    >
	    <div>
	    
	    

	    
	    
	    
	    			    	    
	    
	    		<a class="nodetext" href="System-requirements-and-issues.html" title="">
	    	    		                    		    <span class="node-name-normal">System requirements and issues</span>
                    			    	    		</a>
			           </div>
        
                                    </li>
            
                                
                                                    
	<li 
					    		    			class="currentnode"
		    			    	    >
	    <div>
	    
	    

	    
	    
	    
	    			    	    
	    
	    		<a class="nodetext" href="Configuration.html" title="">
	    	    		                    		    <span class="node-name-normal">Configuration</span>
                    			    	    		</a>
			           </div>
        
                                    </li>
            
                                
                                                    
	<li 
					    		    			    	    >
	    <div>
	    
	    

	    
	    
	    
	    			    	    
	    
	    		<a class="nodetext" href="Setup.html" title="">
	    	    		                    		    <span class="node-name-normal">Setup</span>
                    			    	    		</a>
			           </div>
        
                                    </li>
            
                                
                                                    
	<li 
					    		    			    	    >
	    <div>
	    
	    

	    
	    
	    
	    			    	    
	    
	    		<a class="nodetext" href="ezcomments.ini-settings.html" title="">
	    	    		                    		    <span class="node-name-normal">ezcomments.ini settings</span>
                    			    	    		</a>
			           </div>
        
                                    </li>
            
                                
                                                    
	<li 
					    			class="last"
		    		    			    	    >
	    <div>
	    
	    

	    
	    
	    
	    			    	    
	    
	    		<a class="nodetext" href="Template-customization.html" title="">
	    	    		                    		    <span class="node-name-normal">Template customization</span>
                    			    	    		</a>
			           </div>
        
                                    </li>
            
                                            </ul>
                                        </li>
            
                                
                                                    
	<li 
		    		class="topchapter"
	    
	    	    >
	    <div>
	    
	    

	    
	    
	    
	    			    	    
	    
	    		<a class="nodetext" href="../Open-Document-Format-Import-Export.html" title="">
	    	    		                    		    <span class="node-name-normal">Open Document Format Import / Export</span>
                    			    	    		</a>
			           </div>
        
                                    </li>
            
                                
                                                    
	<li 
		    		class="topchapter"
	    
	    	    >
	    <div>
	    
	    

	    
	    
	    
	    			    	    
	    
	    		<a class="nodetext" href="../Password-Expiry.html" title="">
	    	    		                    		    <span class="node-name-normal">Password Expiry</span>
                    			    	    		</a>
			           </div>
        
                                    </li>
            
                                
                                                    
	<li 
		    		class="topchapter"
	    
	    	    >
	    <div>
	    
	    

	    
	    
	    
	    			    	    
	    
	    		<a class="nodetext" href="../Multi-Upload.html" title="">
	    	    		                    		    <span class="node-name-normal">Multi Upload</span>
                    			    	    		</a>
			           </div>
        
                                    </li>
            
                                
                                                    
	<li 
		    		class="topchapter"
	    
	    	    >
	    <div>
	    
	    

	    
	    
	    
	    			    	    
	    
	    		<a class="nodetext" href="../JavaScript-and-CSS-framework.html" title="">
	    	    		                    		    <span class="node-name-normal">JavaScript and CSS framework</span>
                    			    	    		</a>
			           </div>
        
                                    </li>
            
                                
                                                    
	<li 
		    		class="topchapter"
	    
	    	    >
	    <div>
	    
	    

	    
	    
	    
	    			    	    
	    
	    		<a class="nodetext" href="../Autosave.html" title="">
	    	    		                    		    <span class="node-name-normal">Autosave</span>
                    			    	    		</a>
			           </div>
        
                                    </li>
            
                                
                                                    
	<li 
		    		class="topchapter"
	    
	    	    >
	    <div>
	    
	    

	    
	    
	    
	    			    	    
	    
	    		<a class="nodetext" href="../Image-Editor.html" title="">
	    	    		                    		    <span class="node-name-normal">Image Editor</span>
                    			    	    		</a>
			           </div>
        
                                    </li>
            
                                
                                                        
                                    </li>
            
                                            </ul>
                        
            
</map>

</div>            
</div>
</div>
</div>
</div>
<div class="area-docmain-normal">
<div class="template-design">
<div class="template-module content-view-full">
<div class="template-object">

<div class="attribute-heading">
<h1>Configuration</h1>
</div>

<p>This module provides some configurations to customize comment sorting, the number of comments per page, the notification format, etc. All of these settings are defined in <i>settings/ezcomments.ini.append.php</i>. For the full settings description please read <a href="https://doc.ez.no/Extensions/eZ-Publish-extensions/eZ-Comments/Setup-and-User-Guide-1.4/ezcomments.ini-settings" target="_self">ezcomments.ini.settings</a>.</p><a name="eztoc134308_0_0_1" id="eztoc134308_0_0_1"></a><h4>Set comment sort</h4><p>You can change the sort order of comments in the content view, which has comments embedded, or in the comment view, which lists all comments in a separate page.</p><p>In the content view, the default setting is that comments are sorted chronologically by the commenting time in descending order. To change the sorting, you can override <i>settings/ezcomments.ini.append.php</i> as follows:</p><pre class="wordwrap"><span class="line">[GlobalSettings]</span>
<span class="line">DefaultEmbededSortField=created</span>
<span class="line">DefaultEmbededSortOrder=asc</span>
</pre><p>The oldest comments will now be shown first in the content view.</p><p>Similarly, in the comment view, to change the sorting to update time in descending order you can override <i>settings/ezcomments.ini.append.php</i> as follows:</p><pre class="wordwrap"><span class="line">[CommentSettings]</span>
<span class="line">DefaultSortField=modified</span>
<span class="line">DefaultSortOrder=desc</span>
</pre><a name="eztoc134308_0_0_2" id="eztoc134308_0_0_2"></a><h4>Set number of comments shown in content</h4><p>You can define how many comments are shown in the content by overriding <i>settings/ezcomments.ini.append.php</i> like this:</p><pre class="wordwrap"><span class="line">[GlobalSettings]</span>
<span class="line">DefaultEmbededCount=15</span>
</pre><p>This will display the 15 latest or oldest comments, depending on the sort setting defined in the content view.</p><a name="eztoc134308_0_0_3" id="eztoc134308_0_0_3"></a><h4>Hide comment fields</h4><p>By default, eZ Comments has some predefined fields in the comment form such as title, name, website, email, content. But often, you don't need this many fields. To hide fields, remove the unnecessary fields in <i>settings/ezcomments.ini.append.php</i>:</p><pre class="wordwrap copytoclipboard"><span class="line">[FormSettings]</span>
<span class="line">AvailableFields[]=title</span>
<span class="line">AvailableFields[]=name</span>
<span class="line">AvailableFields[]=website</span>
<span class="line">AvailableFields[]=email</span>
<span class="line">AvailableFields[]=comment</span>
<span class="line">AvailableFields[]=notificationField</span>
</pre><!--[if IE]>
<p class="copytoclipboard"><img src="/extension/ezdoc/design/doc/images/copytoclipboard.gif" height="16" width="16" alt="Copy to clipboard" title="Copy to clipboard" onclick="window.clipboardData.setData( 'text', '[FormSettings]\r\nAvailableFields[]=title\r\nAvailableFields[]=name\r\nAvailableFields[]=website\r\nAvailableFields[]=email\r\nAvailableFields[]=comment\r\nAvailableFields[]=notificationField' ); return false;" /></p>
<![endif]--><p>Afterwards, the removed field will not be shown in the comment form. But note that the field <i>comment</i> (comment content) can not be deleted.</p><p><b>Note:</b> if email is removed but <i>notificationField</i> is kept, the anonymous user will not able to subscribe to comment updates when he/she comments. But a user who logged in can subscribe comment update using his/her registration email. In this case, editor can not update commentor's notification in comment editing page.</p><a name="eztoc134308_0_0_4" id="eztoc134308_0_0_4"></a><h4>Configure activation settings</h4><p>When an anonymous user comments on content with notification, the user should activate the subscription in order to receive a confirmation email. In addition, the activation link should expire after some time. You can configure the settings in <i>settings/ezcomments.ini.append.php </i>to enable the activation and set expiry time.</p><a name="eztoc134308_0_0_4_1" id="eztoc134308_0_0_4_1"></a><h5>Enable activation</h5><p>To disable the activation feature change the setting like this:</p><pre class="wordwrap"><span class="line">SubscriptionActivated=false</span>
</pre><p>If the activation is disabled, the user can subscribe to comment updates without confirming his/her email address, although this is usually not considered safe or recommended.</p><a name="eztoc134308_0_0_4_2" id="eztoc134308_0_0_4_2"></a><h5>Set expiry time</h5><p>If a user does not activate the subscription in a set period of time, the activation should not remain valid. You can set expiry time by changing the setting like this</p><pre class="wordwrap"><span class="line">DaysToCleanupSubscription=20</span>
</pre><p>In this example the activation will expire after 20 days.</p><a name="eztoc134308_0_0_5" id="eztoc134308_0_0_5"></a><h4>Configure Notification email settings</h4><p>
When there is a new comment on a content, the user who has subscribed to the comment update should receive a notification. A typical setting for the notification is shown here:<br />&nbsp;Email from: To change the 'from' in the notification email, you can override <i>ezcomment.ini.append.php</i> like this:</p><pre class="wordwrap"><span class="line">MailFrom=noreply@yourdomain.com</span>
</pre><p>Multi-comment updates in one email: Some users don't want to receive an email every time a new comment is posted. You can easily configure the settings to avoid this:</p><pre class="wordwrap"><span class="line">CommentsInOne=true</span>
</pre><p>When the value is set to true, the system will send a notification with all the updated comments inside.</p><p><b>Note:</b>&nbsp;To ensure this setting makes sense, we suggest that ou set the eZ Comments cronjob to run infrequently, for example every day at 7:00 am. Otherwise the subscribers will still receive a notification every 5 minutes according to the setup setting. The infrequent cronjob setting might be like</p><pre class="wordwrap"><span class="line">0 7 * * * cd $EZPUBLISHROOT &amp;&amp; $PHP &nbsp;runcronjobs.php -q ezcomments 2&gt;&amp;1</span>
</pre><p>Or you can just specify ezcomments cronjob to be infrequent by changing <i>extension/ezcomments/settings/cronjob.ini.append.php</i> to be:</p><pre class="wordwrap copytoclipboard"><span class="line">[CronjobSettings]</span>
<span class="line">ExtensionDirectories[]=ezcomments</span>
<span class="line">[CronjobPart-infrequent]</span>
<span class="line">Scripts[]=ezcomcleanupsubscription.php</span>
<span class="line">Scripts[]=ezcomhandlenotification.php</span>
</pre><!--[if IE]>
<p class="copytoclipboard"><img src="/extension/ezdoc/design/doc/images/copytoclipboard.gif" height="16" width="16" alt="Copy to clipboard" title="Copy to clipboard" onclick="window.clipboardData.setData( 'text', '[CronjobSettings]\r\nExtensionDirectories[]=ezcomments\r\n[CronjobPart-infrequent]\r\nScripts[]=ezcomcleanupsubscription.php\r\nScripts[]=ezcomhandlenotification.php' ); return false;" /></p>
<![endif]-->

<div class="break"></div><div class="pageinfo float-break">
<div class="created">


<p><label>Written by:</label>Andrea Melo&nbsp;(15/01/2013 11:00 am)</p>
</div>
<div class="modified">
<p><label>Last updated by:</label>Andrea Melo&nbsp;(22/01/2013 2:21 pm)</p>
</div></div>
<hr class="hide" />

</div>
</div>
</div>

<div id="comments" class="class-comment">
<div class="content-view-children">

<h1>Comments</h1>
<p>There are no comments.</p>
<div class="toolbar">

<form method="post" action="https://doc.ez.no/content/action">
<input class="button" type="submit" name="NewButton" value="New comment" />
<input type="hidden" name="NodeID" value="28494" />
<input type="hidden" name="RedirectURIAfterPublish" value="eZ-Publish/User-manual/5.x/Comments-Module/Configuration" />
<input type="hidden" name="ClassID" value="17" />
</form>
</div>

</div>
</div>

</div>
<!-- Main area content: END -->

</div>
</div>
<!-- Main area: END -->
<hr class="hide" />

</div></div></div>



</div>
<!-- Complete page area: END -->



<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-303624-13', 'auto');
  ga('send', 'pageview');

</script>




<script type="text/javascript">
(function()
{var ff=document.createElement('script');ff.type='text/javascript';ff.async=true;ff.src='https://secure.liveviewer.ez.no/statjs/sst-120-1304513615/stat.js';var s=document.getElementsByTagName('script')[0];s.parentNode.insertBefore(ff,s);}
)();
</script>


</body>
</html>

<!-- th[eZ] 20050804 -->
