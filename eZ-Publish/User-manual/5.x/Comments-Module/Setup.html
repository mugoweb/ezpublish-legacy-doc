<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">

<head>


<style type="text/css">
    @import url(../../../../extension/ezdoc/design/doc/stylesheets/core.css);
    @import url(../../../../extension/ezdoc/design/doc/stylesheets/classes.css);
    @import url(../../../../extension/ezdoc/design/doc/stylesheets/doc.css);
    @import url(../../../../extension/ezdoc/design/doc/stylesheets/print.css) print;</style>

<link type="text/css" rel="stylesheet" href="../../../../extension/ezdoc/design/doc/stylesheets/print.css" media="print" />

<!-- IE conditional comments; for bug fixes for different IE versions -->
<!--[if IE 5]>     <style type="text/css"> @import url(/extension/ezdoc/design/doc/stylesheets/ie5.css);    </style>     <![endif]-->
<!--[if lte IE 6]> <style type="text/css"> @import url(/extension/ezdoc/design/doc/stylesheets/ie6lte.css); </style>     <![endif]-->
<!--[if lte IE 6]> <style type="text/css"> @import url(/extension/ezdoc/design/doc/stylesheets/ie6lte-doc.css); </style> <![endif]-->
<!--[if IE 6]>     <style type="text/css"> @import url(/extension/ezdoc/design/doc/stylesheets/ie6.css);    </style>     <![endif]-->

<!-- Load special stylesheet (if necessary) for newer Netscape decendants, Mozilla and Firefox, using the Gecko renderer -->
<script type="text/javascript"><!-- if ((navigator.userAgent.indexOf("Gecko") != -1)&&(navigator.userAgent.indexOf("KHTML") == -1)) document.write("<style type=\"text/css\">@import url(/extension/ezdoc/design/doc/stylesheets/gecko.css);</style>"); --></script>

<script type="text/javascript" src="../../../../extension/ezdoc/design/doc/javascripts/mainmenu-hover.js"></script>
<script type="text/javascript" src="../../../../extension/ezdoc/design/doc/javascripts/dropdownmenu.js"></script>
<script type="text/javascript" src="../../../../extension/ezdoc/design/doc/javascripts/ezno-searchbox.js"></script>
                                              
    <title>Setup / Comments Module / 5.x / User manual / eZ Publish / Documentation - Doc</title>

    
    
    
            <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />

            <meta http-equiv="Content-language" content="en-GB" />

    
                <meta name="author" content="eZ systems" />
                    <meta name="copyright" content="eZ systems" />
                    <meta name="description" content="eZ Publish Documentation" />
                    <meta name="keywords" content="eZ Publish, documentation, manual, reference, eZ systems" />
        
    <meta name="generator" content="eZ Publish" />
    <link rel="Home" href="https://doc.ez.no/" title="Doc front page" />
<link rel="Search" href="https://doc.ez.no/content/advancedsearch" title="Search Doc" />
<link rel="Shortcut icon" href="../../../../extension/ezdoc/design/doc/images/favicon.ico" type="image/x-icon" />

</head>
<body onload="initDocSearch();menuInit();">

<!-- Complete page area: START -->
<div id="page">


<div><a href="https://www.ibexa.co"><img class="logotype" width="100" height="50" src="https://ibexa-lookandfeel.s3-eu-west-1.amazonaws.com/ibexa/assets/images/ibexa_logo.svg" alt="ibexa"></a></div>
<div id="page-content-position"><div id="page-content-position-inner"><div id="page-content">

<!-- Path area: START -->
<div id="path">

<div id="page-width4">
<h2 class="hide">Path</h2>

<!-- Path content: START -->
<p> <a href="http://ez.no/">ez.no</a> /
                        <a href="https://doc.ez.no/">documentation</a>
        
                        /
                            <a href="https://doc.ez.no/eZ-Publish">ez publish</a>
        
                        /
                            <a href="../../../User-manual.html">user manual</a>
        
                        /
                            <a href="../../5.x.html">5.x</a>
        
                        /
                            <a href="../Comments-Module.html">comments module</a>
        
                        /
                            setup
        
            </p>
<!-- Path content: END -->

</div>

</div>
<!-- Path area: END -->

<hr class="hide" />

<!-- Main area: START -->
                                    <div id="ezp5disclaimer">
                <p><strong style="color: red">Caution:</strong> This documentation is for <strong>eZ Publish</strong> <em>legacy</em>, from version 3.x to 5.x.<br/>
                For 5.x documentation covering <em>Platform</em> see <a href="https://doc.ez.no/display/MAIN/eZ+Documentation+Center">eZ Documentation Center</a>, for difference between <em>legacy</em> and <em>Platform</em> see <a href="https://doc.ez.no/pages/viewpage.action?pageId=11403666">5.x Architecture overview</a>.</p>
            </div>
            
<div id="page-width5">
<div id="main" class="float-break">


<div class="template-design area-docmenu-normal">
<div class="template-module">
<div class="template-object">
<div id="contentmenu">
                        <div class="attribute-heading"><h2 class="bullet"><a href="../../5.x.html">Table of contents</a></h2></div>
<div class="boxcontent">

<map id="contentstructure">

    
                                                                        
            <ul>
	    
                                                    
	<li 
		    		class="topchapter"
	    
	    	    >
	    <div>
	    
	    

	    
	    
	    
	    			    	    
	    
	    		<a class="nodetext" href="../General-Links.html" title="">
	    	    		                    		    <span class="node-name-normal">General Links</span>
                    			    	    		</a>
			           </div>
        
                                    </li>
            
                                
                                                    
	<li 
		    		class="topchapter"
	    
	    	    >
	    <div>
	    
	    

	    
	    
	    
	    			    	    
	    
	    		<a class="nodetext" href="../The-Administration-Interface.html" title="">
	    	    		                    		    <span class="node-name-normal">The Administration Interface</span>
                    			    	    		</a>
			           </div>
        
                                    </li>
            
                                
                                                    
	<li 
		    		class="topchapter"
	    
	    	    >
	    <div>
	    
	    

	    
	    
	    
	    			    	    
	    
	    		<a class="nodetext" href="../The-Website-Interface.html" title="">
	    	    		                    		    <span class="node-name-normal">The Website Interface</span>
                    			    	    		</a>
			           </div>
        
                                    </li>
            
                                
                                                    
	<li 
		    		class="topchapter"
	    
	    	    >
	    <div>
	    
	    

	    
	    
	    
	    			    	    
	    
	    		<a class="nodetext" href="../The-Online-Editor.html" title="">
	    	    		                    		    <span class="node-name-normal">The Online Editor</span>
                    			    	    		</a>
			           </div>
        
                                    </li>
            
                                
                                                    
	<li 
		    		class="topchapter"
	    
	    	    >
	    <div>
	    
	    

	    
	    
	    
	    			    	    
	    
	    		<a class="nodetext" href="../Daily-tasks.html" title="">
	    	    		                    		    <span class="node-name-normal">Daily tasks</span>
                    			    	    		</a>
			           </div>
        
                                    </li>
            
                                
                                                    
	<li 
		    		class="topchapter"
	    
	    	    >
	    <div>
	    
	    

	    
	    
	    
	    			    	    
	    
	    		<a class="nodetext" href="../Content-Staging.html" title="">
	    	    		                    		    <span class="node-name-normal">Content Staging</span>
                    			    	    		</a>
			           </div>
        
                                    </li>
            
                                
                                                    
	<li 
		    		class="topchapter-selected  "
		
	    	    >
	    <div>
	    
	    

	    
	    
	    
	    			    	    
	    
	    		<a class="nodetext" href="../Comments-Module.html" title="">
	    	    		                    		    <span class="node-name-normal">Comments Module</span>
                    			    	    		</a>
			           </div>
        
            <ul>
	    
                                                    
	<li 
					    		    			    	    >
	    <div>
	    
	    

	    
	    
	    
	    			    	    
	    
	    		<a class="nodetext" href="System-requirements-and-issues.html" title="">
	    	    		                    		    <span class="node-name-normal">System requirements and issues</span>
                    			    	    		</a>
			           </div>
        
                                    </li>
            
                                
                                                    
	<li 
					    		    			    	    >
	    <div>
	    
	    

	    
	    
	    
	    			    	    
	    
	    		<a class="nodetext" href="Configuration.html" title="">
	    	    		                    		    <span class="node-name-normal">Configuration</span>
                    			    	    		</a>
			           </div>
        
                                    </li>
            
                                
                                                    
	<li 
					    		    			class="currentnode"
		    			    	    >
	    <div>
	    
	    

	    
	    
	    
	    			    	    
	    
	    		<a class="nodetext" href="Setup.html" title="">
	    	    		                    		    <span class="node-name-normal">Setup</span>
                    			    	    		</a>
			           </div>
        
                                    </li>
            
                                
                                                    
	<li 
					    		    			    	    >
	    <div>
	    
	    

	    
	    
	    
	    			    	    
	    
	    		<a class="nodetext" href="ezcomments.ini-settings.html" title="">
	    	    		                    		    <span class="node-name-normal">ezcomments.ini settings</span>
                    			    	    		</a>
			           </div>
        
                                    </li>
            
                                
                                                    
	<li 
					    			class="last"
		    		    			    	    >
	    <div>
	    
	    

	    
	    
	    
	    			    	    
	    
	    		<a class="nodetext" href="Template-customization.html" title="">
	    	    		                    		    <span class="node-name-normal">Template customization</span>
                    			    	    		</a>
			           </div>
        
                                    </li>
            
                                            </ul>
                                        </li>
            
                                
                                                    
	<li 
		    		class="topchapter"
	    
	    	    >
	    <div>
	    
	    

	    
	    
	    
	    			    	    
	    
	    		<a class="nodetext" href="../Open-Document-Format-Import-Export.html" title="">
	    	    		                    		    <span class="node-name-normal">Open Document Format Import / Export</span>
                    			    	    		</a>
			           </div>
        
                                    </li>
            
                                
                                                    
	<li 
		    		class="topchapter"
	    
	    	    >
	    <div>
	    
	    

	    
	    
	    
	    			    	    
	    
	    		<a class="nodetext" href="../Password-Expiry.html" title="">
	    	    		                    		    <span class="node-name-normal">Password Expiry</span>
                    			    	    		</a>
			           </div>
        
                                    </li>
            
                                
                                                    
	<li 
		    		class="topchapter"
	    
	    	    >
	    <div>
	    
	    

	    
	    
	    
	    			    	    
	    
	    		<a class="nodetext" href="../Multi-Upload.html" title="">
	    	    		                    		    <span class="node-name-normal">Multi Upload</span>
                    			    	    		</a>
			           </div>
        
                                    </li>
            
                                
                                                    
	<li 
		    		class="topchapter"
	    
	    	    >
	    <div>
	    
	    

	    
	    
	    
	    			    	    
	    
	    		<a class="nodetext" href="../JavaScript-and-CSS-framework.html" title="">
	    	    		                    		    <span class="node-name-normal">JavaScript and CSS framework</span>
                    			    	    		</a>
			           </div>
        
                                    </li>
            
                                
                                                    
	<li 
		    		class="topchapter"
	    
	    	    >
	    <div>
	    
	    

	    
	    
	    
	    			    	    
	    
	    		<a class="nodetext" href="../Autosave.html" title="">
	    	    		                    		    <span class="node-name-normal">Autosave</span>
                    			    	    		</a>
			           </div>
        
                                    </li>
            
                                
                                                    
	<li 
		    		class="topchapter"
	    
	    	    >
	    <div>
	    
	    

	    
	    
	    
	    			    	    
	    
	    		<a class="nodetext" href="../Image-Editor.html" title="">
	    	    		                    		    <span class="node-name-normal">Image Editor</span>
                    			    	    		</a>
			           </div>
        
                                    </li>
            
                                
                                                        
                                    </li>
            
                                            </ul>
                        
            
</map>

</div>            
</div>
</div>
</div>
</div>
<div class="area-docmain-normal">
<div class="template-design">
<div class="template-module content-view-full">
<div class="template-object">

<div class="attribute-heading">
<h1>Setup</h1>
</div>

<a name="eztoc134341_0_0_1" id="eztoc134341_0_0_1"></a><h4>Get the packages</h4><p>As of eZ Publish 5.0, if you install the demo design package, setup is already done for you and you can skip to the step concerning cronjobs.</p><p>If you have an eZ Publish Enterprise, you'll be able to download a supported stable version for your eZ Publish Enterprise version from your service portal on <a href="http://support.ez.no" target="_self">support.ez.no</a>, as for community version it is&nbsp;bundled&nbsp;but also available via <a href="https://github.com/ezsystems/ezcomments/downloads" target="_self">github</a>.</p><a name="eztoc134341_0_0_2" id="eztoc134341_0_0_2"></a><h4>Copy the extension</h4><p>After downloading the source code of the Comments module (folder named <i>ezcomments</i>), you must copy <i>ezcomments</i> into your eZ Publish <i>extension</i> directory.</p><a name="eztoc134341_0_0_3" id="eztoc134341_0_0_3"></a><h4>Install database</h4><p>Because the Comments module uses custom tables, you must create the tables separately. Currently supported databases are &quot;Mysql&quot;, &quot;PostgreSQL&quot; and &quot;Oracle&quot;. You can execute the sql file in</p><pre class="wordwrap"><span class="line">ezcomments/sql/&lt;databasetype&gt;/schema.sql</span>
</pre><p>The example command line in mysql is</p><pre class="wordwrap"><span class="line">$ mysql --host=&lt;mysql_host&gt; --port=&lt;port&gt; -u &nbsp;&lt;mysql_user&gt; -p&lt;mysql_password&gt; &lt;database&gt; &lt; &nbsp;extension/ezcomments/sql/mysql/schema.sql</span>
</pre><p><i><b>Important note:</b> If your site uses a MySQL database, then the following SQL script has to be executed:</i></p><pre class="wordwrap"><span class="line">extension/ezcomments/update/database/mysql/1.4/dbupdate-1.3.0-to-1.4.0.sql</span>
</pre><a name="eztoc134341_0_0_4" id="eztoc134341_0_0_4"></a><h4>Activate Comments</h4><p>The module can be activated both from the Administrator Interface and the setting file. Using the first way, you must log in to the Administrator Interface, click the <b>Setup</b> tab, then open the <b>Extensions</b> link in the left hand menu. A list will appear with all the <b>Available extensions</b>, where you must check the <b>ezcomments</b> box to select the feature. The click the button <b>Apply Changes</b> to activate it.</p><p>If you prefer to use the second way, open <i>settings/override/site.ini.append.php</i> and add the activation configuration under the &quot;ExtensionSettings&quot; section like this:</p><pre class="wordwrap"><span class="line">[ExtensionSettings]</span>
<span class="line">ActiveExtensions[]=ezcomments</span>
</pre><p><b>Note:</b> ezcomments should be before ezwebin in site.ini.</p><a name="eztoc134341_0_0_5" id="eztoc134341_0_0_5"></a><h4>Regenerate autoload arrays</h4><p>After activating the module, it is necessary to regenerate the autoload arrays. This can be done from the Administrator Interface after you have activated the extension as described in the previous step. When you have applied the changes simply click on the <b>Regenerate autoload arrays for extensions</b>.</p><p>You can also generate the autoload arrays by running the following script from your eZ Publish directory:</p><pre class="wordwrap"><span class="line">php bin/php/ezpgenerateautoloads.php -e</span>
</pre><a name="eztoc134341_0_0_6" id="eztoc134341_0_0_6"></a><h4>Clear cache</h4><p>Don't forget to clear the cache. You can clear INI and template caches from the <b>Setup</b> tab in the Administrator Interface or by running the following command from your eZ Publish directory:</p><pre class="wordwrap"><span class="line">php bin/php/ezcache.php --ini --template</span>
</pre><a name="eztoc134341_0_0_7" id="eztoc134341_0_0_7"></a><h4>Setup cronjob</h4><p>
The Comments module uses a cronjob to send notifications. If the cronjob is not running, the notification system will not work but the notifications will remain in queue until cronjob is running.<br />&nbsp;If you do wish to configure and run a cronjob for eZ Publish, you can do this by following the steps in the chapter <a href="../../../Technical-manual/4.x/Features/Cronjobs.html" target="_self">Cronjobs</a></p><p>A simple setting for the Comments module is to add this line into ezpublish.cron:</p><pre class="wordwrap"><span class="line">*/5 * * * * cd $EZPUBLISHROOT &amp;&amp; $PHP runcronjobs.php -q &nbsp;ezcomments 2&gt;&amp;1</span>
</pre><p>which will send notification every 5 minutes. There is an advanced setting, which can be found in next chapter <a href="https://doc.ez.no/Extensions/eZ-Publish-extensions/eZ-Comments/Setup-and-user-guide-1.0/Configuration" target="_self">Configuration/Configure Notification email settings</a>.</p><p><b>Note:</b> if you want to send notification in other language instead of default language, you can specify different site access. For instance, configuration</p><pre class="wordwrap"><span class="line">*/5 * * * * cd $EZPUBLISHROOT &amp;&amp; $PHP runcronjobs.php -s ger -q &nbsp;ezcomments 2&gt;&amp;1</span>
</pre><p>will send notification based on locale in site access <i>ger</i> where German might be the main language.</p><a name="eztoc134341_0_0_8" id="eztoc134341_0_0_8"></a><h4>Default permission Setup</h4><p>There is an example in user manual describing how to set permission. Please see <a href="https://doc.ez.no/Extensions/eZ-Publish-extensions/eZ-Comments/Setup-and-user-guide-1.0/Using-eZ-Comments/Adminstrator-options/Setting-access-and-restriction-policies" target="_self">Setting access and restriction policies</a> in user manual for detail.</p>

<div class="break"></div><div class="pageinfo float-break">
<div class="created">


<p><label>Written by:</label>Andrea Melo&nbsp;(15/01/2013 2:31 pm)</p>
</div>
<div class="modified">
<p><label>Last updated by:</label>Andrea Melo&nbsp;(22/01/2013 2:30 pm)</p>
</div></div>
<hr class="hide" />

</div>
</div>
</div>

<div id="comments" class="class-comment">
<div class="content-view-children">

<h1>Comments</h1>
<p>There are no comments.</p>
<div class="toolbar">

<form method="post" action="https://doc.ez.no/content/action">
<input class="button" type="submit" name="NewButton" value="New comment" />
<input type="hidden" name="NodeID" value="28505" />
<input type="hidden" name="RedirectURIAfterPublish" value="eZ-Publish/User-manual/5.x/Comments-Module/Setup" />
<input type="hidden" name="ClassID" value="17" />
</form>
</div>

</div>
</div>

</div>
<!-- Main area content: END -->

</div>
</div>
<!-- Main area: END -->
<hr class="hide" />

</div></div></div>



</div>
<!-- Complete page area: END -->



<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-303624-13', 'auto');
  ga('send', 'pageview');

</script>




<script type="text/javascript">
(function()
{var ff=document.createElement('script');ff.type='text/javascript';ff.async=true;ff.src='https://secure.liveviewer.ez.no/statjs/sst-120-1304513615/stat.js';var s=document.getElementsByTagName('script')[0];s.parentNode.insertBefore(ff,s);}
)();
</script>


</body>
</html>

<!-- th[eZ] 20050804 -->
