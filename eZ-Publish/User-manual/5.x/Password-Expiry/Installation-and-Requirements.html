<!DOCTYPE html>
<html lang="en-US">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">


<style type="text/css">
    @import url(../../../../extension/ezdoc/design/doc/stylesheets/core.css);
    @import url(../../../../extension/ezdoc/design/doc/stylesheets/classes.css);
    @import url(../../../../extension/ezdoc/design/doc/stylesheets/doc.css);
    @import url(../../../../extension/ezdoc/design/doc/stylesheets/print.css) print;</style>

<link type="text/css" rel="stylesheet" href="../../../../extension/ezdoc/design/doc/stylesheets/print.css" media="print">

<!-- IE conditional comments; for bug fixes for different IE versions -->
<!--[if IE 5]>     <style type="text/css"> @import url(/extension/ezdoc/design/doc/stylesheets/ie5.css);    </style>     <![endif]-->
<!--[if lte IE 6]> <style type="text/css"> @import url(/extension/ezdoc/design/doc/stylesheets/ie6lte.css); </style>     <![endif]-->
<!--[if lte IE 6]> <style type="text/css"> @import url(/extension/ezdoc/design/doc/stylesheets/ie6lte-doc.css); </style> <![endif]-->
<!--[if IE 6]>     <style type="text/css"> @import url(/extension/ezdoc/design/doc/stylesheets/ie6.css);    </style>     <![endif]-->

<!-- Load special stylesheet (if necessary) for newer Netscape decendants, Mozilla and Firefox, using the Gecko renderer -->
<script type="text/javascript"><!-- if ((navigator.userAgent.indexOf("Gecko") != -1)&&(navigator.userAgent.indexOf("KHTML") == -1)) document.write("<style type=\"text/css\">@import url(/extension/ezdoc/design/doc/stylesheets/gecko.css);</style>"); --></script>

<script type="text/javascript" src="../../../../extension/ezdoc/design/doc/javascripts/mainmenu-hover.js"></script>
<script type="text/javascript" src="../../../../extension/ezdoc/design/doc/javascripts/dropdownmenu.js"></script>
<script type="text/javascript" src="../../../../extension/ezdoc/design/doc/javascripts/ezno-searchbox.js"></script>
                                              
    <title>Installation and Requirements / Password Expiry / 5.x / User manual / eZ Publish / Documentation - Doc</title>

    
    
    
            <meta http-equiv="Content-Type" content="text/html; charset=utf-8">

            <meta http-equiv="Content-language" content="en-GB">

    
                <meta name="author" content="eZ systems">
                    <meta name="copyright" content="eZ systems">
                    <meta name="description" content="eZ Publish Documentation">
                    <meta name="keywords" content="eZ Publish, documentation, manual, reference, eZ systems">
        
    <meta name="generator" content="eZ Publish">
    <link rel="Home" href="https://doc.ez.no/" title="Doc front page">
<link rel="Search" href="https://doc.ez.no/content/advancedsearch" title="Search Doc">
<link rel="Shortcut icon" href="../../../../extension/ezdoc/design/doc/images/favicon.ico" type="image/x-icon">

</head>
<body onload="initDocSearch();menuInit();">

<!-- Complete page area: START -->
<div id="page">


<div><a href="https://www.ibexa.co"><img class="logotype" width="100" height="50" src="https://ezpublishdoc.mugo.ca/design/standard/images/ibexa_logo.svg" alt="ibexa"></a></div>
<div id="page-content-position"><div id="page-content-position-inner"><div id="page-content">

<!-- Path area: START -->
<div id="path">

<div id="page-width4">
<h2 class="hide">Path</h2>

<!-- Path content: START -->
<p><a href="../index.html">ez publish</a>
        
                        /
                            <a href="../../../User-manual.html">user manual</a>
        
                        /
                            <a href="../../5.x.html">5.x</a>
        
                        /
                            <a href="../Password-Expiry.html">password expiry</a>
        
                        /
                            installation and requirements
        
            </p>
<!-- Path content: END -->

</div>

</div>
<!-- Path area: END -->

<hr class="hide">

<!-- Main area: START -->
                                    <div id="ezp5disclaimer">
                <p><strong style="color: red">Caution:</strong> This documentation is for <strong>eZ Publish</strong> <em>legacy</em>, from version 3.x to 5.x.<br></p>
            </div>
            
<div id="page-width5">
<div id="main" class="float-break">


<div class="template-design area-docmenu-normal">
<div class="template-module">
<div class="template-object">
<div id="contentmenu">
                        <div class="attribute-heading"><h2 class="bullet"><a href="../../5.x.html">Table of contents</a></h2></div>
<div class="boxcontent">

<map id="contentstructure">

    
                                                                        
            <ul>
	    
                                                    
	<li class="topchapter">
	    <div>
	    
	    

	    
	    
	    
	    			    	    
	    
	    		<a class="nodetext" href="../General-Links.html" title="">
	    	    		                    		    <span class="node-name-normal">General Links</span>
                    			    	    		</a>
			           </div>
        
                                    </li>
            
                                
                                                    
	<li class="topchapter">
	    <div>
	    
	    

	    
	    
	    
	    			    	    
	    
	    		<a class="nodetext" href="../The-Administration-Interface.html" title="">
	    	    		                    		    <span class="node-name-normal">The Administration Interface</span>
                    			    	    		</a>
			           </div>
        
                                    </li>
            
                                
                                                    
	<li class="topchapter">
	    <div>
	    
	    

	    
	    
	    
	    			    	    
	    
	    		<a class="nodetext" href="../The-Website-Interface.html" title="">
	    	    		                    		    <span class="node-name-normal">The Website Interface</span>
                    			    	    		</a>
			           </div>
        
                                    </li>
            
                                
                                                    
	<li class="topchapter">
	    <div>
	    
	    

	    
	    
	    
	    			    	    
	    
	    		<a class="nodetext" href="../The-Online-Editor.html" title="">
	    	    		                    		    <span class="node-name-normal">The Online Editor</span>
                    			    	    		</a>
			           </div>
        
                                    </li>
            
                                
                                                    
	<li class="topchapter">
	    <div>
	    
	    

	    
	    
	    
	    			    	    
	    
	    		<a class="nodetext" href="../Daily-tasks.html" title="">
	    	    		                    		    <span class="node-name-normal">Daily tasks</span>
                    			    	    		</a>
			           </div>
        
                                    </li>
            
                                
                                                    
	<li class="topchapter">
	    <div>
	    
	    

	    
	    
	    
	    			    	    
	    
	    		<a class="nodetext" href="../Content-Staging.html" title="">
	    	    		                    		    <span class="node-name-normal">Content Staging</span>
                    			    	    		</a>
			           </div>
        
                                    </li>
            
                                
                                                    
	<li class="topchapter">
	    <div>
	    
	    

	    
	    
	    
	    			    	    
	    
	    		<a class="nodetext" href="../Comments-Module.html" title="">
	    	    		                    		    <span class="node-name-normal">Comments Module</span>
                    			    	    		</a>
			           </div>
        
                                    </li>
            
                                
                                                    
	<li class="topchapter">
	    <div>
	    
	    

	    
	    
	    
	    			    	    
	    
	    		<a class="nodetext" href="../Open-Document-Format-Import-Export.html" title="">
	    	    		                    		    <span class="node-name-normal">Open Document Format Import / Export</span>
                    			    	    		</a>
			           </div>
        
                                    </li>
            
                                
                                                    
	<li class="topchapter-selected  ">
	    <div>
	    
	    

	    
	    
	    
	    			    	    
	    
	    		<a class="nodetext" href="../Password-Expiry.html" title="">
	    	    		                    		    <span class="node-name-normal">Password Expiry</span>
                    			    	    		</a>
			           </div>
        
            <ul>
	    
                                                    
	<li class="currentnode">
	    <div>
	    
	    

	    
	    
	    
	    			    	    
	    
	    		<a class="nodetext" href="Installation-and-Requirements.html" title="">
	    	    		                    		    <span class="node-name-normal">Installation and Requirements</span>
                    			    	    		</a>
			           </div>
        
                                    </li>
            
                                
                                                    
	<li>
	    <div>
	    
	    

	    
	    
	    
	    			    	    
	    
	    		<a class="nodetext" href="Use.html" title="">
	    	    		                    		    <span class="node-name-normal">Use</span>
                    			    	    		</a>
			           </div>
        
                                    </li>
            
                                
                                                    
	<li>
	    <div>
	    
	    

	    
	    
	    
	    			    	    
	    
	    		<a class="nodetext" href="Forgot-Password-Function.html" title="">
	    	    		                    		    <span class="node-name-normal">Forgot Password Function</span>
                    			    	    		</a>
			           </div>
        
                                    </li>
            
                                
                                                    
	<li>
	    <div>
	    
	    

	    
	    
	    
	    			    	    
	    
	    		<a class="nodetext" href="Update-Children-feature.html" title="">
	    	    		                    		    <span class="node-name-normal">Update Children feature</span>
                    			    	    		</a>
			           </div>
        
                                    </li>
            
                                
                                                    
	<li>
	    <div>
	    
	    

	    
	    
	    
	    			    	    
	    
	    		<a class="nodetext" href="Password-about-to-expire-notification.html" title="">
	    	    		                    		    <span class="node-name-normal">"Password about to expire" notification</span>
                    			    	    		</a>
			           </div>
        
                                    </li>
            
                                
                                                    
	<li>
	    <div>
	    
	    

	    
	    
	    
	    			    	    
	    
	    		<a class="nodetext" href="Audit-logs.html" title="">
	    	    		                    		    <span class="node-name-normal">Audit logs</span>
                    			    	    		</a>
			           </div>
        
                                    </li>
            
                                
                                                    
	<li class="last">
	    <div>
	    
	    

	    
	    
	    
	    			    	    
	    
	    		<a class="nodetext" href="Changes-since-previous-versions.html" title="">
	    	    		                    		    <span class="node-name-normal">Changes since previous versions</span>
                    			    	    		</a>
			           </div>
        
                                    </li>
            
                                            </ul>
                                        </li>
            
                                
                                                    
	<li class="topchapter">
	    <div>
	    
	    

	    
	    
	    
	    			    	    
	    
	    		<a class="nodetext" href="../Multi-Upload.html" title="">
	    	    		                    		    <span class="node-name-normal">Multi Upload</span>
                    			    	    		</a>
			           </div>
        
                                    </li>
            
                                
                                                    
	<li class="topchapter">
	    <div>
	    
	    

	    
	    
	    
	    			    	    
	    
	    		<a class="nodetext" href="../JavaScript-and-CSS-framework.html" title="">
	    	    		                    		    <span class="node-name-normal">JavaScript and CSS framework</span>
                    			    	    		</a>
			           </div>
        
                                    </li>
            
                                
                                                    
	<li class="topchapter">
	    <div>
	    
	    

	    
	    
	    
	    			    	    
	    
	    		<a class="nodetext" href="../Autosave.html" title="">
	    	    		                    		    <span class="node-name-normal">Autosave</span>
                    			    	    		</a>
			           </div>
        
                                    </li>
            
                                
                                                    
	<li class="topchapter">
	    <div>
	    
	    

	    
	    
	    
	    			    	    
	    
	    		<a class="nodetext" href="../Image-Editor.html" title="">
	    	    		                    		    <span class="node-name-normal">Image Editor</span>
                    			    	    		</a>
			           </div>
        
                                    </li>
            
                                
                                                        
                                    
            
                                            </ul>
                        
            
</map>

</div>            
</div>
</div>
</div>
</div>
<div class="area-docmain-normal">
<div class="template-design">
<div class="template-module content-view-full">
<div class="template-object">

<div class="attribute-heading">
<h1>Installation and Requirements</h1>
</div>

<a name="eztoc134445_1" id="eztoc134445_1"></a><h2>Requirements</h2><p>Compatible since eZ Publish 4.1.</p><a name="eztoc134445_2" id="eztoc134445_2"></a><h2>Installation</h2>
<ol>
<li><div> Copy the ezmbpaex folder into the "extension" directory in the root of your eZ Publish installation and unpack the files. </div></li><li><div><p>Update the eZ Publish database by running</p><pre class="wordwrap"><span class="line">$ mysql -u&lt;username&gt; -p&lt;password&gt; &lt;ezdatabase&gt; -P&lt;port&gt; &lt; extension/ezmbpaex/sql/install/mbpaex.sql</span>
</pre><p>in the command line from the root of your eZ Publish installation.</p></div></li><li><div><p>The default settings in extension/ezmbpaex/settings/mbpaex.ini (or an override) must be customized as follows:</p><pre class="wordwrap copytoclipboard"><span class="line">[mbpaexSettings]</span>
<span class="line"> </span>
<span class="line"># Regular expression used for password validation when</span>
<span class="line"># none is defined in the contentobject</span>
<span class="line">PasswordValidationRegexp=</span>
<span class="line"> </span>
<span class="line"># Default lifetime for password in DAYS</span>
<span class="line"># 0 means no limit (passwords never expire)</span>
<span class="line">DefaultPasswordLifeTime=0</span>
<span class="line"> </span>
<span class="line"># Number of seconds before password expiration to send a</span>
<span class="line"># mail notification to the user</span>
<span class="line"># Default 172800 (2 days)</span>
<span class="line">ExpirationNotification=172800</span>
<span class="line"> </span>
<span class="line"># Number of seconds that the forgot password generated hash will be valid</span>
<span class="line"># Default 86400 (1 day)</span>
<span class="line">ForgotPasswordHashLifeTime=86400</span>
<span class="line"> </span>
<span class="line"># Login of the eZ user used in the updatechildren cronjob, must have access to</span>
<span class="line"># read the Users section.</span>
<span class="line">UpdateChildrenUser=admin</span>
</pre><!--[if IE]>
<p class="copytoclipboard"><img src="/extension/ezdoc/design/doc/images/copytoclipboard.gif" height="16" width="16" alt="Copy to clipboard" title="Copy to clipboard" onclick="window.clipboardData.setData( 'text', '[mbpaexSettings]\r\n\r\n# Regular expression used for password validation when\r\n# none is defined in the contentobject\r\nPasswordValidationRegexp=\r\n\r\n# Default lifetime for password in DAYS\r\n# 0 means no limit (passwords never expire)\r\nDefaultPasswordLifeTime=0\r\n\r\n# Number of seconds before password expiration to send a\r\n# mail notification to the user\r\n# Default 172800 (2 days)\r\nExpirationNotification=172800\r\n\r\n# Number of seconds that the forgot password generated hash will be valid\r\n# Default 86400 (1 day)\r\nForgotPasswordHashLifeTime=86400\r\n\r\n# Login of the eZ user used in the updatechildren cronjob, must have access to\r\n# read the Users section.\r\nUpdateChildrenUser=admin' ); return false;" /></p>
<![endif]--></div></li><li><div><p>
Enable the extension in "site.ini.append(.php)" in the /settings/override folder of your eZ Publish installation.<br> In "site.ini.append(.php)" you must add "ActiveExtensions[]=ezmbpaex" to the block [ExtensionSettings]. It will then most likely look like this:</p><pre class="wordwrap copytoclipboard"><span class="line">[ExtensionSettings]</span>
<span class="line"> </span>
<span class="line">ActiveExtensions[]=ezoe</span>
<span class="line">ActiveExtensions[]=ezodf</span>
<span class="line">ActiveExtensions[]=ezwebin</span>
<span class="line">ActiveExtensions[]=ezmbpaex</span>
</pre><!--[if IE]>
<p class="copytoclipboard"><img src="/extension/ezdoc/design/doc/images/copytoclipboard.gif" height="16" width="16" alt="Copy to clipboard" title="Copy to clipboard" onclick="window.clipboardData.setData( 'text', '[ExtensionSettings]\r\n\r\nActiveExtensions[]=ezoe\r\nActiveExtensions[]=ezodf\r\nActiveExtensions[]=ezwebin\r\nActiveExtensions[]=ezmbpaex' ); return false;" /></p>
<![endif]--></div></li><li><div><p>To prevent a user, whose password has expired, from having undesired access to default user module views which are not effected by the password expiration settings, you should only enable users to access the views you need them to. All standard views will then get access denied. These changes should be added to the global override of site.ini: (Note: these adjustments can be done in the site.ini of you eZ Publish installation as well as in the site.ini of ezmbpaex.)</p><pre class="wordwrap copytoclipboard"><span class="line">[SiteAccessSettings]</span>
<span class="line"> </span>
<span class="line">AnonymousAccessList[]</span>
<span class="line">AnonymousAccessList[]=user/success</span>
<span class="line">AnonymousAccessList[]=user/activate</span>
<span class="line">AnonymousAccessList[]=userpaex/password</span>
<span class="line">AnonymousAccessList[]=userpaex/forgotpassword</span>
<span class="line"> </span>
<span class="line">[RoleSettings]</span>
<span class="line">PolicyOmitList[]</span>
<span class="line">PolicyOmitList[]=user/login</span>
<span class="line">PolicyOmitList[]=user/logout</span>
<span class="line">PolicyOmitList[]=userpaex/password</span>
<span class="line">PolicyOmitList[]=userpaex/forgotpassword</span>
</pre><!--[if IE]>
<p class="copytoclipboard"><img src="/extension/ezdoc/design/doc/images/copytoclipboard.gif" height="16" width="16" alt="Copy to clipboard" title="Copy to clipboard" onclick="window.clipboardData.setData( 'text', '[SiteAccessSettings]\r\n\r\nAnonymousAccessList[]\r\nAnonymousAccessList[]=user/success\r\nAnonymousAccessList[]=user/activate\r\nAnonymousAccessList[]=userpaex/password\r\nAnonymousAccessList[]=userpaex/forgotpassword\r\n\r\n[RoleSettings]\r\nPolicyOmitList[]\r\nPolicyOmitList[]=user/login\r\nPolicyOmitList[]=user/logout\r\nPolicyOmitList[]=userpaex/password\r\nPolicyOmitList[]=userpaex/forgotpassword' ); return false;" /></p>
<![endif]--></div></li><li><div>
 The setup overrides the template used in replacement of node/view/full.tpl to display users and users groups in Administration Interface.<br>
 In the root of your eZ Publish installation at /extension/ezmbpaex/settings/siteaccess, you will find a folder that will be used for the "admin" siteaccess.<br> But if your admin siteaccess has a different name than this folder, you should add the content of the override.ini.append.php file to the override.ini of your custom admin siteaccess. </div></li><li><div>
 Next you must regenerate the autoloads array to include the new classes present in Password Expiry Extension.<br> This can be done with the following command:<pre class="wordwrap"><span class="line">$ php bin/php/ezpgenerateautoloads.php --extension</span>
</pre></div></li><li><div> Clear all caches to complete the installation. </div></li>
</ol>


<div class="break"></div><div class="pageinfo float-break">
<div class="created">


<p><label>Written by:</label>Ricardo Correia (18/01/2013 10:21 am)</p>
</div>
<div class="modified">
<p><label>Last updated by:</label>Ricardo Correia (18/01/2013 10:59 am)</p>
</div></div>
<hr class="hide">

</div>
</div>
</div>

<div id="comments" class="class-comment">
<div class="content-view-children">

<h1>Comments</h1>
<p>There are no comments.</p>
<div class="toolbar">


</div>

</div>
</div>

</div>
<!-- Main area content: END -->

</div>
</div>
<!-- Main area: END -->
<hr class="hide">

</div></div></div>



</div>
<!-- Complete page area: END -->











</body>
</html><!-- th[eZ] 20050804 -->
