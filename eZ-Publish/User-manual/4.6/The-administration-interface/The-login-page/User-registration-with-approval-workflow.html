<!DOCTYPE html>
<html lang="en-US">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">


<style type="text/css">
    @import url(../../../../../extension/ezdoc/design/doc/stylesheets/core.css);
    @import url(../../../../../extension/ezdoc/design/doc/stylesheets/classes.css);
    @import url(../../../../../extension/ezdoc/design/doc/stylesheets/doc.css);
    @import url(../../../../../extension/ezdoc/design/doc/stylesheets/print.css) print;</style>

<link type="text/css" rel="stylesheet" href="../../../../../extension/ezdoc/design/doc/stylesheets/print.css" media="print">

<!-- IE conditional comments; for bug fixes for different IE versions -->
<!--[if IE 5]>     <style type="text/css"> @import url(/extension/ezdoc/design/doc/stylesheets/ie5.css);    </style>     <![endif]-->
<!--[if lte IE 6]> <style type="text/css"> @import url(/extension/ezdoc/design/doc/stylesheets/ie6lte.css); </style>     <![endif]-->
<!--[if lte IE 6]> <style type="text/css"> @import url(/extension/ezdoc/design/doc/stylesheets/ie6lte-doc.css); </style> <![endif]-->
<!--[if IE 6]>     <style type="text/css"> @import url(/extension/ezdoc/design/doc/stylesheets/ie6.css);    </style>     <![endif]-->

<!-- Load special stylesheet (if necessary) for newer Netscape decendants, Mozilla and Firefox, using the Gecko renderer -->
<script type="text/javascript"><!-- if ((navigator.userAgent.indexOf("Gecko") != -1)&&(navigator.userAgent.indexOf("KHTML") == -1)) document.write("<style type=\"text/css\">@import url(/extension/ezdoc/design/doc/stylesheets/gecko.css);</style>"); --></script>

<script type="text/javascript" src="../../../../../extension/ezdoc/design/doc/javascripts/mainmenu-hover.js"></script>
<script type="text/javascript" src="../../../../../extension/ezdoc/design/doc/javascripts/dropdownmenu.js"></script>
<script type="text/javascript" src="../../../../../extension/ezdoc/design/doc/javascripts/ezno-searchbox.js"></script>
                                                    
    <title>User registration with approval workflow / The login page / The administration interface / 4.6 / User manual / eZ Publish / Documentation - Doc</title>

    
    
    
            <meta http-equiv="Content-Type" content="text/html; charset=utf-8">

            <meta http-equiv="Content-language" content="en-GB">

    
                <meta name="author" content="eZ systems">
                    <meta name="copyright" content="eZ systems">
                    <meta name="description" content="eZ Publish Documentation">
                    <meta name="keywords" content="eZ Publish, documentation, manual, reference, eZ systems">
        
    <meta name="generator" content="eZ Publish">
    <link rel="Home" href="https://doc.ez.no/" title="Doc front page">
<link rel="Search" href="https://doc.ez.no/content/advancedsearch" title="Search Doc">
<link rel="Shortcut icon" href="../../../../../extension/ezdoc/design/doc/images/favicon.ico" type="image/x-icon">

</head>
<body onload="initDocSearch();menuInit();">

<!-- Complete page area: START -->
<div id="page">


<div><a href="https://www.ibexa.co"><img class="logotype" width="100" height="50" src="https://ezpublishdoc.mugo.ca/design/standard/images/ibexa_logo.svg" alt="ibexa"></a></div>
<div id="page-content-position"><div id="page-content-position-inner"><div id="page-content">

<!-- Path area: START -->
<div id="path">

<div id="page-width4">
<h2 class="hide">Path</h2>

<!-- Path content: START -->
<p><a href="../index.html">ez publish</a>
        
                        /
                            <a href="../../../../User-manual.html">user manual</a>
        
                        /
                            <a href="../../../4.6.html">4.6</a>
        
                        /
                            <a href="../../The-administration-interface.html">the administration interface</a>
        
                        /
                            <a href="../The-login-page.html">the login page</a>
        
                        /
                            user registration with appr...
        
            </p>
<!-- Path content: END -->

</div>

</div>
<!-- Path area: END -->

<hr class="hide">

<!-- Main area: START -->
                                    <div id="ezp5disclaimer">
                <p><strong style="color: red">Caution:</strong> This documentation is for <strong>eZ Publish</strong> <em>legacy</em>, from version 3.x to 5.x.<br></p>
            </div>
            
<div id="page-width5">
<div id="main" class="float-break">


<div class="template-design area-docmenu-normal">
<div class="template-module">
<div class="template-object">
<div id="contentmenu">
                        <div class="attribute-heading"><h2 class="bullet"><a href="../../../4.6.html">Table of contents</a></h2></div>
<div class="boxcontent">

<map id="contentstructure">

    
                                                                        
            <ul>
	    
                                                    
	<li class="topchapter-selected  ">
	    <div>
	    
	    

	    
	    
	    
	    			    	    
	    
	    		<a class="nodetext" href="../../The-administration-interface.html" title="">
	    	    		                    		    <span class="node-name-normal">The administration interface</span>
                    			    	    		</a>
			           </div>
        
            <ul>
	    
                                                    
	<li>
	    <div>
	    
	    

	    
	    
	    
	    			    	    
	    
	    		<a class="nodetext" href="../The-login-page.html" title="">
	    	    		                    		    <span class="node-name-normal">The login page</span>
                    			    	    		</a>
			           </div>
        
            <ul>
	    
                                                    
	<li>
	    <div>
	    
	    

	    
	    
	    
	    			    	    
	    
	    		<a class="nodetext" href="User-registration.html" title="">
	    	    		                    		    <span class="node-name-normal">User registration</span>
                    			    	    		</a>
			           </div>
        
                                    </li>
            
                                
                                                    
	<li class="last currentnode">
	    <div>
	    
	    

	    
	    
	    
	    			    	    
	    
	    		<a class="nodetext" href="User-registration-with-approval-workflow.html" title="">
	    	    		                    		    <span class="node-name-normal">User registration with approval workflow</span>
                    			    	    		</a>
			           </div>
        
                                    </li>
            
                                            </ul>
                                        </li>
            
                                
                                                    
	<li>
	    <div>
	    
	    

	    
	    
	    
	    			    	    
	    
	    		<a class="nodetext" href="../Overview.html" title="">
	    	    		                    		    <span class="node-name-normal">Overview</span>
                    			    	    		</a>
			           </div>
        
                                    </li>
            
                                
                                                    
	<li>
	    <div>
	    
	    

	    
	    
	    
	    			    	    
	    
	    		<a class="nodetext" href="../The-Dashboard-tab.html" title="">
	    	    		                    		    <span class="node-name-normal">The Dashboard tab</span>
                    			    	    		</a>
			           </div>
        
                                    </li>
            
                                
                                                    
	<li>
	    <div>
	    
	    

	    
	    
	    
	    			    	    
	    
	    		<a class="nodetext" href="../The-Content-structure-tab.html" title="">
	    	    		                    		    <span class="node-name-normal">The "Content structure" tab</span>
                    			    	    		</a>
			           </div>
        
                                    </li>
            
                                
                                                    
	<li>
	    <div>
	    
	    

	    
	    
	    
	    			    	    
	    
	    		<a class="nodetext" href="../The-Media-library-tab.html" title="">
	    	    		                    		    <span class="node-name-normal">The "Media library" tab</span>
                    			    	    		</a>
			           </div>
        
                                    </li>
            
                                
                                                    
	<li>
	    <div>
	    
	    

	    
	    
	    
	    			    	    
	    
	    		<a class="nodetext" href="../The-User-accounts-tab.html" title="">
	    	    		                    		    <span class="node-name-normal">The "User accounts" tab</span>
                    			    	    		</a>
			           </div>
        
                                    </li>
            
                                
                                                    
	<li class="last">
	    <div>
	    
	    

	    
	    
	    
	    			    	    
	    
	    		<a class="nodetext" href="../The-object-edit-interface.html" title="">
	    	    		                    		    <span class="node-name-normal">The object edit interface</span>
                    			    	    		</a>
			           </div>
        
            <ul>
	    
                                                    
	<li>
	    <div>
	    
	    

	    
	    
	    
	    			    	    
	    
	    		<a class="nodetext" href="../The-object-edit-interface/Version-management.html" title="">
	    	    		                    		    <span class="node-name-normal">Version management</span>
                    			    	    		</a>
			           </div>
        
                                    </li>
            
                                
                                                    
	<li>
	    <div>
	    
	    

	    
	    
	    
	    			    	    
	    
	    		<a class="nodetext" href="../The-object-edit-interface/View.html" title="">
	    	    		                    		    <span class="node-name-normal">View</span>
                    			    	    		</a>
			           </div>
        
                                    </li>
            
                                
                                                    
	<li>
	    <div>
	    
	    

	    
	    
	    
	    			    	    
	    
	    		<a class="nodetext" href="../The-object-edit-interface/Related-objects.html" title="">
	    	    		                    		    <span class="node-name-normal">Related objects</span>
                    			    	    		</a>
			           </div>
        
                                    </li>
            
                                
                                                    
	<li>
	    <div>
	    
	    

	    
	    
	    
	    			    	    
	    
	    		<a class="nodetext" href="../The-object-edit-interface/Upload-image-to-related-objects.html" title="">
	    	    		                    		    <span class="node-name-normal">Upload image to related objects</span>
                    			    	    		</a>
			           </div>
        
                                    </li>
            
                                
                                                    
	<li>
	    <div>
	    
	    

	    
	    
	    
	    			    	    
	    
	    		<a class="nodetext" href="../The-object-edit-interface/Grouping-attributes.html" title="">
	    	    		                    		    <span class="node-name-normal">Grouping attributes</span>
                    			    	    		</a>
			           </div>
        
                                    </li>
            
                                
                                                    
	<li class="last">
	    <div>
	    
	    

	    
	    
	    
	    			    	    
	    
	    		<a class="nodetext" href="../The-object-edit-interface/Creating-help-texts-help-descriptions.html" title="">
	    	    		                    		    <span class="node-name-normal">Creating help texts/help descriptions</span>
                    			    	    		</a>
			           </div>
        
                                    </li>
            
                                            </ul>
                                        </li>
            
                                            </ul>
                                        </li>
            
                                
                                                    
	<li class="topchapter">
	    <div>
	    
	    

	    
	    
	    
	    			    	    
	    
	    		<a class="nodetext" href="../../Daily-tasks.html" title="">
	    	    		                    		    <span class="node-name-normal">Daily tasks</span>
                    			    	    		</a>
			           </div>
        
                                    </li>
            
                                            </ul>
                        
            
</map>

</div>            
</div>
</div>
</div>
</div>
<div class="area-docmain-normal">
<div class="template-design">
<div class="template-module content-view-full">
<div class="template-object">

<div class="attribute-heading">
<h1>User registration with approval workflow</h1>
</div>

<p>In eZ Publish 4.5 it is possible to set up an approval workflow for the user registration. This is the registration carried out by the user himself when he logs in to eZ Publish the first time. This functionality is useful in the case when you wish to control who logs on to your system.</p><a name="eztoc126211_0_1" id="eztoc126211_0_1"></a><h3>Configure the workflow</h3><p>The system does not come with an approval workflow functionality enabled. In order to enable the functionality follow the steps below. First create the needed workflows, then connect the workflows to triggers, so that the approval workflow functionality is triggered when a user wants to register on your system.</p><a name="eztoc126211_0_1_1" id="eztoc126211_0_1_1"></a><h4>Create workflow</h4><p>An example of how an administrator creates a workflow as described in the steps below:</p>
<ul>
<li><div>Go to "Setup"-"Workflow"</div></li><li><div>Click on the pre-defined workflow called "Standard"</div></li><li><div>Click "New workflow"</div></li><li><div>
Enter the name of the workflow, in this case "UserRegistration1" as shown in the screen below:<br>
<div class="object-center">        <img src="../../../../../var/doc/storage/images/media/images/create-workflow/123091-1-eng-GB/Create-workflow_doc.png" alt="">








</div></div></li><li><div>
Select "Event / Approve" and press "Add event" button. The screen below will appear:<br>
<div class="object-center">        <img src="../../../../../var/doc/storage/images/media/images/specify-workflow/123094-1-eng-GB/Specify-workflow_doc.png" alt="">








</div></div></li><li><div>Select "Users" under "Affected Sections" and "Publishing New Object" under "Affected Versions". </div></li><li><div>Select proper group who can approve the event  </div></li><li><div>Press "Add groups" under "Users who approve content" and select the group you wish to give control of approving the new users. </div></li><li><div>Press "OK" to save. </div></li>
</ul>
<p>The steps above shows an example for approving content before publish. This workflow can be complex, depending on the case. For more workflow configuration please see the separate <a href="../../../../Technical-manual/4.5/Concepts-and-basics/Workflows.html" target="_self">workflow</a> documentation.</p><p>Note that in the case of creating an approval workflow for user registration you will need to create a new workflow: This workflow will end the registration process by sending a confirmation mail to the user that his account has been successfully created.</p><p>Follow the steps below to create the new workflow, in this case "FinishUserRegistration" as shown in the screenshot below:</p>
<ul>
<li><div>Go to "Setup"-"Workflow"</div></li><li><div>Click on the pre-defined workflow called "Standard"</div></li><li><div>Click "New workflow"</div></li><li><div>
Enter the name of the workflow, in this case "FinishUserRegistration" as shown in the screen below:<br>
<div class="object-center">        <img src="../../../../../var/doc/storage/images/media/images/finish-registration-workflow2/123100-1-eng-GB/Finish-registration-workflow_doc.png" alt="">








</div> </div></li><li><div>Select "Event / Finish User Registration" and press "Add event" button. In the screen that appears you:</div></li><li><div>Select "Users" under "Affected Sections" and "Publishing New Object" under "Affected Versions". </div></li><li><div>Select proper group who can approve the event  </div></li><li><div>Press "Add groups" under "Users who approve content" and select the group you wish to give control of approving the new users. </div></li><li><div>Press "OK" to save the new workflow.</div></li>
</ul>
<a name="eztoc126211_0_1_2" id="eztoc126211_0_1_2"></a><h4>Connect workflow to triggers</h4><p>An administrator will do the following to connect the workflow to a trigger so that the user registration workflow will be enabled when a user wishes to register his/her user information.</p>
<ul>
<li><div>Go to "Setup"-"Triggers"</div></li><li><div>
Connect the workflow for user registration to the workflow trigger "Content"-"Publish"-"Before", in this case, select UserRegistration1 as shown in the screenshot below:<br> 
<div class="object-center">        <img src="../../../../../var/doc/storage/images/media/images/connect-workfloe-to-trigger-1/123103-1-eng-GB/Connect-workfloe-to-trigger-1_doc.png" alt="">








</div></div></li><li><div>
Connect the workflow for ending the user registration with a confirmation e-mail to the workflow trigger "Content"-"Publish"-"After", in this case, select FinishUserRegistration (note again that you need to create the FinishUserRegistration workflow before it appears in the "Workflow triggers" screen), as shown in the screen below:<br>
<div class="object-center">        <img src="../../../../../var/doc/storage/images/media/images/connect-workflow-to-trigger-2/123106-1-eng-GB/Connect-workflow-to-trigger-2_doc.png" alt="">








</div></div></li><li><div>Click "Apply changes" in the bottom of the screen</div></li>
</ul>
<p>You have now connected the approval workflow to triggers. This means that you have set-up a workflow approval process, and the user is presented with an approval workflow when he/she wants to register the user information in the log-in page.</p><a name="eztoc126211_0_2" id="eztoc126211_0_2"></a><h3>Register user with approval workflow enabled</h3><p>When a user logs in to eZ Publish the first time he/she needs to click "Sign up" in the log-in screen in order to register an account on the eZ Publish installation. In this case there is a workflow approval process connected to the user registration.</p>
<ul>
<li><div>The process starts when the user clicks "Register" to register his/her user information</div></li><li><div>A mail is sent to the user to confirm the user account. </div></li><li><div>
When the user clicks the confirmation mail, he/she is presented with a screen as shown below: <br>
<div class="object-center">        <img src="../../../../../var/doc/storage/images/media/images/confirmation-mail2/123112-1-eng-GB/Confirmation-mail_doc.png" alt="">








</div></div></li><li><div>
An event workflow process is created and a notification is created in the "Collaboration" screen in the "Dashboard" of an administrator or another role with the right policies. In this case the administrator must check the "Collaboration" item in the "Dashboard".  After clicking the notification from the user he as 3 choices as shown in the screen below. He can either Add comment, Approve or Deny the user registration.<br>
<div class="object-center">        <img src="../../../../../var/doc/storage/images/media/images/adminstrator-confirms2/123118-1-eng-GB/Adminstrator-confirms_doc.png" alt="">








</div></div></li><li><div>When the Administrator clicks "Approve" the user gets a confirmation mail that the user is created and is ready for eZ Publish log-in.  </div></li>
</ul>


<div class="break"></div><div class="pageinfo float-break">
<div class="created">


<p><label>Written by:</label>Geir Arne Waaler (21/01/2011 2:12 pm)</p>
</div>
<div class="modified">
<p><label>Last updated by:</label>Geir Arne Waaler (21/01/2011 3:00 pm)</p>
</div></div>
<hr class="hide">

</div>
</div>
</div>

<div id="comments" class="class-comment">
<div class="content-view-children">

<h1>Comments</h1>
<p>There are no comments.</p>
<div class="toolbar">


</div>

</div>
</div>

</div>
<!-- Main area content: END -->

</div>
</div>
<!-- Main area: END -->
<hr class="hide">

</div></div></div>



</div>
<!-- Complete page area: END -->











</body>
</html><!-- th[eZ] 20050804 -->
